import{_ as e}from"./BaseInput.vue-iInHQMIA.js";import{_ as a}from"./BaseSelect.vue-p0KYznCX.js";import{a as l,z as t,r as s,c as o,E as i,ad as n,ac as u,b as r,e as d,w as c,o as m,u as p,p as h,f,t as v,q as g,O as b,k as _,F as w,B as k,x,X as j,ag as y}from"../e/entry-8qgg5CL-.js";import{_ as B}from"./TairoButtonIcon.vue-KqKLsAHm.js";import{_ as $}from"./BaseCheckbox.vue-cNhyVlDH.js";import{_ as C}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as F,a as V}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as T}from"./BaseTag.vue-NMkN1Uk8.js";import{_ as M}from"./TairoFlexTable-zdoraqRc.js";import{_ as I}from"./BasePagination.vue-eKZkqxB7.js";import{_ as z}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{_ as S,a as W}from"./placeholder-search-4-dark-Jht91LnM.js";import{u as A}from"./methods-1ZR1EQN-.js";import"./input-id-wZ-Ta08j.js";import"./IconCheck-JvP9GQU1.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";import"./useWallet-8iHzU2hV.js";const E={value:10},L={value:25},P={value:50},U={value:100},q=f("img",{class:"block dark:hidden",src:S,alt:"Placeholder image"},null,-1),D=f("img",{class:"hidden dark:block",src:W,alt:"Placeholder image"},null,-1),N={key:1,class:"w-full"},R={key:0,class:"bg-info-100 text-info-700 dark:bg-info-900 dark:text-info-100 rounded-lg p-4 flex justify-between items-center w-full mb-2"},O={class:"text-sm"},X={class:"flex gap-2"},Y={class:"relative"},G={class:"pl-4"},H={class:"mt-6"},J=l({__name:"index",setup(l){const S=A(),W=t(),J=s(""),K=s(10),Q=o((()=>parseInt(W.query.page??"1"))),Z=s([]),ee=o((()=>Z.value.length===S.methods.length)),ae=o((()=>S.methods.filter((e=>e.title.includes(J.value))))),le=o((()=>{const e=(Q.value-1)*K.value,a=e+K.value;return ae.value.slice(e,a)}));function te(){ee.value?Z.value=[]:Z.value=ae.value.map((e=>e.id))??[]}i((async()=>{0===S.methods.length&&(S.loading=!0,await S.fetchWithdrawMethods(),S.loading=!1)}));const{toast:se}=n();function oe(e){S.updateWithdrawMethodsStatus(Z.value,e).then((e=>{se.response(e),Z.value=[]}))}const ie=u();return(l,t)=>{const s=e,o=a,i=x,n=j,u=y,W=B,A=$,se=C,ne=F,ue=T,re=V,de=M,ce=I,me=z;return m(),r("div",null,[d(me,null,{left:c((()=>[d(s,{modelValue:p(J),"onUpdate:modelValue":t[0]||(t[0]=e=>h(J)?J.value=e:null),icon:"lucide:search",classes:{wrapper:"w-full sm:w-auto"},placeholder:"Filter methods..."},null,8,["modelValue"]),d(o,{modelValue:p(K),"onUpdate:modelValue":t[1]||(t[1]=e=>h(K)?K.value=e:null),label:"",classes:{wrapper:"w-full sm:w-40"}},{default:c((()=>[f("option",E,"10 "+v(l.$t("per page")),1),f("option",L,"25 "+v(l.$t("per page")),1),f("option",P,"50 "+v(l.$t("per page")),1),f("option",U,"100 "+v(l.$t("per page")),1)])),_:1},8,["modelValue"])])),right:c((()=>[d(n,{color:"primary",to:"/admin/finance/withdraw/methods/create"},{default:c((()=>[d(i,{name:"lucide:plus",size:"16",class:"mr-2"}),g(" "+v(l.$t("Create")),1)])),_:1})])),default:c((()=>[f("div",null,[p(S).loading||0!==p(le)?.length?(m(),r("div",N,[!p(S).loading&&p(Z).length>0?(m(),r("div",R,[f("span",O,v(l.$t("You have selected"))+" "+v(p(Z).length)+" "+v(l.$t("items of the total"))+" "+v(p(ae).length)+" "+v(l.$t("items"))+". ",1),f("div",X,[d(W,{color:"danger",size:"xs","data-nui-tooltip":"Disable currencies",onClick:t[2]||(t[2]=()=>oe(!1))},{default:c((()=>[d(i,{name:"line-md:close-small",class:"h-5 w-5"})])),_:1}),d(W,{color:"success",size:"xs","data-nui-tooltip":"Enable currencies",onClick:t[3]||(t[3]=()=>oe(!0))},{default:c((()=>[d(i,{name:"line-md:confirm",class:"h-5 w-5"})])),_:1})])])):_("",!0),d(de,null,{header:c((()=>[f("div",Y,[f("span",G,[d(A,{"model-value":p(ee),indeterminate:p(Z).length>0&&!p(ee),onClick:te},null,8,["model-value","indeterminate"])])])])),default:c((()=>[(m(!0),r(w,null,k(p(le),((e,a)=>(m(),b(re,{key:e.id,spaced:""},{start:c((()=>[d(se,{"data-content":"Selection",class:"xs:absolute right-2 ml-2"},{default:c((()=>[d(A,{modelValue:p(Z),"onUpdate:modelValue":t[4]||(t[4]=e=>h(Z)?Z.value=e:null),value:e.id,name:`item-checkbox-${e.id}`,shape:"rounded",class:"text-primary-500"},null,8,["modelValue","value","name"])])),_:2},1024),d(ne,{label:"Method","hide-label":a>0,picture:e.image,title:e.title},null,8,["hide-label","picture","title"])])),end:c((()=>[d(se,{label:"Fixed Fee","hide-label":a>0,class:"w-20 xs:w-full"},{default:c((()=>[g(v(e.fixed_fee),1)])),_:2},1032,["hide-label"]),d(se,{label:"% Fee","hide-label":a>0,class:"w-20 xs:w-full"},{default:c((()=>[g(v(e.percentage_fee)+"%",1)])),_:2},1032,["hide-label"]),d(se,{label:"Min / Max","hide-label":a>0,class:"w-20 xs:w-full"},{default:c((()=>[g(v(e.min_amount)+" / "+v(e.max_amount),1)])),_:2},1032,["hide-label"]),d(se,{label:"Status","hide-label":a>0,class:"w-20 xs:w-full"},{default:c((()=>[d(ue,{color:e.status?"success":"danger",flavor:"pastel",condensed:""},{default:c((()=>[g(v(e.status?"Active":"Disabled"),1)])),_:2},1032,["color"])])),_:2},1032,["hide-label"]),d(se,{label:"Actions","hide-label":a>0},{default:c((()=>[d(W,{condensed:"",color:"warning",onClick:a=>{return l=e,S.selectMethod(l),void ie.push(`/admin/finance/withdraw/methods/edit/${l.id}`);var l},"data-nui-tooltip":"Edit"},{default:c((()=>[d(i,{name:"line-md:edit",class:"h-4 w-4"})])),_:2},1032,["onClick"])])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1})])):(m(),b(u,{key:0,title:p(J)&&""!==p(J)?"No matching results":"No results",subtitle:p(J)&&""!==p(J)?"Looks like we couldn't find any matching results for your search terms. Try other search terms.":"Looks like we don't have any data here yet."},{image:c((()=>[q,D])),_:1},8,["title","subtitle"])),f("div",H,[p(ae).length>p(K)?(m(),b(ce,{key:0,"total-items":p(ae).length,"current-page":p(Q),"item-per-page":p(K)},null,8,["total-items","current-page","item-per-page"])):_("",!0)])])])),_:1})])}}});export{J as default};
