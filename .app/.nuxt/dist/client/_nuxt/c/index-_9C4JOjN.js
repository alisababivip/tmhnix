import{_ as e}from"./AddonApexcharts.vue-7Mw5ynfb.js";import{a as s,ad as a,r as t,E as l,o as n,b as o,f as r,e as i,w as c,u,m as d,O as p,Y as m,a4 as v,d3 as g,c as f,t as y,_ as h,J as b,k as x,z as w,S as k,p as _,af as T,F as I,n as C,B as D,ag as N,l as A,av as P}from"../e/entry-8qgg5CL-.js";import{u as j}from"./useUsers-4S9MS3a9.js";import{u as E}from"./useWallet-8iHzU2hV.js";import{_ as S}from"./BaseInput.vue-iInHQMIA.js";import{_ as W}from"./BaseCheckbox.vue-cNhyVlDH.js";import{_ as O,a as U}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as L}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as R}from"./BasePagination.vue-eKZkqxB7.js";import{_ as B}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{u as M}from"./useExchange-VMAYQu3P.js";import{u as V}from"./currency-9FjTf2Bf.js";import{_ as F,a as G}from"./placeholder-search-4-dark-Jht91LnM.js";import{u as z}from"./useInvestment-ZaAPyLmc.js";import"./client-only-nGApKnAn.js";import"./input-id-wZ-Ta08j.js";import"./IconCheck-JvP9GQU1.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";const H={class:"grid grid-cols-12 gap-6"},Y={class:"ltablet:col-span-3 relative xs:col-span-12 sm:col-span-6 lg:col-span-3"},$={class:"ltablet:col-span-3 relative xs:col-span-12 sm:col-span-6 lg:col-span-3"},q={class:"ltablet:col-span-3 relative xs:col-span-12 sm:col-span-6 lg:col-span-3"},J={class:"ltablet:col-span-3 relative xs:col-span-12 sm:col-span-6 lg:col-span-3"},X=s({__name:"UsersChart",setup(s){const{getUsersAnalytics:v}=j(),{useSparklineConfiguration:g}=a(),f=t({type:"area",height:130,options:{},series:[{name:"Total Registrations",data:[]}]}),y=t({type:"area",height:130,options:{},series:[{name:"Active Users",data:[]}]}),h=t({type:"area",height:130,options:{},series:[{name:"Banned Users",data:[]}]}),b=t({type:"area",height:130,options:{},series:[{name:"Verified Emails",data:[]}]});let x=t(0);function w(e){const s=[...Array(30)].map(((e,s)=>{const a=new Date;return a.setUTCDate(a.getUTCDate()-s),a.toISOString().split("T")[0]})).reverse(),a=new Map(e.map((e=>[e.date,e.count])));return s.map((e=>a.get(e)||0))}return l((async()=>{const e=await v();if("success"===e.status){const s=e.data.result,a=w(s.registrations),t=w(s.activeUsers),l=w(s.bannedUsers),n=w(s.verifiedEmails);f.value=g(void 0,"users","Total Registrations","primary",a),y.value=g(void 0,"users","Active Users","warning",t),h.value=g(void 0,"users","Banned Users","danger",l),b.value=g(void 0,"users","Verified Emails","success",n),x.value++}})),(s,a)=>{const t=e,l=m;return n(),o("div",null,[r("div",H,[r("div",Y,[i(l,{class:"pt-4"},{default:c((()=>[(n(),p(t,d(u(f),{key:u(x),icon:"fluent:people-48-regular","icon-color":"primary"}),null,16))])),_:1})]),r("div",$,[i(l,{class:"pt-4"},{default:c((()=>[(n(),p(t,d(u(y),{key:u(x),icon:"fluent:person-available-20-regular","icon-color":"warning"}),null,16))])),_:1})]),r("div",q,[i(l,{class:"pt-4"},{default:c((()=>[(n(),p(t,d(u(b),{key:u(x),icon:"fluent:person-key-20-regular","icon-color":"success"}),null,16))])),_:1})]),r("div",J,[i(l,{class:"pt-4"},{default:c((()=>[(n(),p(t,d(u(h),{key:u(x),icon:"line-md:account-delete","icon-color":"danger"}),null,16))])),_:1})])])])}}}),K={class:"flex h-full w-full flex-col gap-8 sm:flex-row"},Q={class:"shrink-0"},Z={class:"border-muted-300 divide-muted-300 dark:border-muted-700 dark:divide-muted-700 flex flex-col divide-y rounded-lg border"},ee={class:"p-4"},se={class:"text-muted-400 mb-1 font-sans text-xs font-medium uppercase"},ae={class:"text-success-500 font-sans text-sm font-semibold"},te={class:"p-4"},le={class:"text-muted-400 mb-1 font-sans text-xs font-medium uppercase"},ne={class:"text-danger-500 font-sans text-sm font-semibold"},oe={class:"flex h-full grow flex-col"},re={class:"mt-auto"},ie=s({__name:"MonthlySummary",props:{incomeText:{},expensesText:{},income:{},expenses:{},transactions:{}},setup(s){const t=s,{incomeText:l,expensesText:o,income:b,expenses:x,transactions:w}=t,{generateEmptyMonthData:k}=a();function _(e,s){return w.filter((a=>a.type===e&&s.includes(a.status)))}function T(e){const s=new Date,a=s.getFullYear(),t=s.getMonth(),l=new Date(a,t+1,0).getDate(),n=[];for(let o=0;o<l;o++){const s=new Date(a,t,o+1).getTime(),l=e.filter((e=>{const s=new Date(e.created_at);return s.getDate()===o+1&&s.getMonth()===t&&s.getFullYear()===a})).length;n.push([s,l])}return n}const I=v(function(){const{primary:e,info:s,success:a}=g(),t={chart:{type:"area",stacked:!0,toolbar:{show:!1}},colors:[e.value,a.value,s.value],title:{text:"",align:"left"},legend:{position:"top",horizontalAlign:"left"},dataLabels:{enabled:!1},stroke:{width:[2,2,2],curve:"smooth"},xaxis:{type:"datetime",tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{offsetX:0,offsetY:-5},tooltip:{enabled:!0}},tooltip:{x:{format:"dd/MM/yy HH:mm"},y:{formatter:function(e){return e}}}},n=f((()=>{const[e,s]=w?function(){if(!w)return[[],[]];const e=["COMPLETED","PENDING"],s=_("DEPOSIT",e).concat(_("INCOMING_TRANSFER",e)),a=_("WITHDRAW",e).concat(_("OUTGOING_TRANSFER",e));return[T(s),T(a)]}():[k(),k()];return[{name:l,data:e},{name:o,data:s}]}));return{type:"area",height:315,options:t,series:n}}());return(s,a)=>{const t=h,v=e,g=m;return n(),p(g,{class:"!bg-white dark:!bg-muted-800 gap-y-10 p-6 col-span-12 lg:col-span-8"},{default:c((()=>[r("div",K,[r("div",Q,[i(t,{as:"h3",size:"md",weight:"semibold",lead:"tight",class:"text-muted-800 mb-6 dark:text-white"},{default:c((()=>[r("span",null,y(s.$t("Monthly Summary")),1)])),_:1}),r("div",Z,[r("div",ee,[r("div",se,[r("span",null,y(u(l)),1)]),r("div",ae,[r("span",null,"+ "+y(u(b)),1)])]),r("div",te,[r("div",le,[r("span",null,y(u(o)),1)]),r("div",ne,[r("span",null,"- "+y(u(x)),1)])])])]),r("div",oe,[r("div",re,[i(v,d(u(I),{iconColor:"primary",icon:"solar:wallet-line-duotone"}),null,16)])])])])),_:1})}}}),ce=s({__name:"WalletsChart",setup(e){const{getAdminTransactions:s}=E(),a=t(),r=t(0),i=t(0);l((async()=>{const e=await s(void 0,void 0,void 0,void 0,void 0,!0);"success"===e.status&&(a.value=e.data.result)}));const c=(e,s)=>a.value.filter((a=>a.type===e&&s.includes(a.status))).length;return b(a,(()=>{const e=["COMPLETED","PENDING"];r.value=c("DEPOSIT",e)+c("INCOMING_TRANSFER",e),i.value=c("WITHDRAW",e)+c("OUTGOING_TRANSFER",e)})),(e,s)=>{const t=ie;return n(),o("div",null,[u(a)?(n(),p(t,{key:0,incomeText:"Deposits",expensesText:"Withdrawals",income:u(r),expenses:u(i),transactions:u(a)},null,8,["income","expenses","transactions"])):x("",!0)])}}}),ue={class:"grid grid-cols-12 gap-6"},de={class:"ltablet:col-span-3 relative xs:col-span-12 sm:col-span-6 lg:col-span-3"},pe={class:"ltablet:col-span-3 relative xs:col-span-12 sm:col-span-6 lg:col-span-3"},me={class:"ltablet:col-span-3 relative xs:col-span-12 sm:col-span-6 lg:col-span-3"},ve={class:"ltablet:col-span-3 relative xs:col-span-12 sm:col-span-6 lg:col-span-3"},ge={key:0},fe=r("img",{loading:"lazy",class:"block dark:hidden",src:F,alt:"Placeholder image"},null,-1),ye=r("img",{loading:"lazy",class:"hidden dark:block",src:G,alt:"Placeholder image"},null,-1),he={key:1,class:"space-y-2 xs:pt-0 sm:pt-5"},be={key:2,class:"mt-4"},xe=s({__name:"BinaryCharts",setup(s){const{getBinaryOrders:v}=M(),{useSparklineConfiguration:g}=a(),h=w(),b=k();f((()=>b.getProfile));const A=V(),P=f((()=>A.items)),{sciToPrecision:j}=a(),E=t(!1),F=t(""),G=t(5),z=f((()=>parseInt(h.query.page??"1"))),H=f((()=>{const e=(z.value-1)*G.value,s=e+G.value;return Y.value.slice(e,s)})),Y=f((()=>P.value&&Array.isArray(P.value)?P.value.map((e=>{const s=K.value.filter((s=>s.symbol.split("/")[1]===e.currency));let a=0,t=0;return s.forEach((e=>{"WIN"===e.status?a+=e.amount*(e.profit/100):"LOSS"===e.status&&(t+=e.amount)})),{...e,winning:a,losses:t}})).filter((e=>E.value?0!==e.winning||0!==e.losses:e.currency.toLowerCase().includes(F.value.toLowerCase()))):[])),$=t({type:"area",height:130,options:{},series:[{name:"Total Positions",data:[]}]}),q=t({type:"area",height:130,options:{},series:[{name:"Won Positions",data:[]}]}),J=t({type:"area",height:130,options:{},series:[{name:"Lost Positions",data:[]}]}),X=t({type:"area",height:130,options:{},series:[{name:"Draw Positions",data:[]}]}),K=t([]);let Q=t(0);return l((async()=>{const e=await v();var s;"success"===e.status&&(K.value=e.data.result,Q.value++,$.value=(s=K.value,g(s,"binary","Binary Positions","primary")),q.value=(e=>g(e.filter((e=>"WIN"===e.status)),"binary","Won Positions","success"))(K.value),J.value=(e=>g(e.filter((e=>"LOSS"===e.status)),"binary","Lost Positions","danger"))(K.value),X.value=(e=>g(e.filter((e=>"DRAW"===e.status)),"binary","Draw Positions","warning"))(K.value)),0===A.items.length&&await A.fetchCurrencies()})),(s,a)=>{const t=e,l=m,v=S,g=W,f=N,h=O,b=L,w=U,k=R,A=B;return n(),o("div",null,[r("div",ue,[r("div",de,[i(l,{class:"pt-4"},{default:c((()=>[(n(),p(t,d(u($),{key:u(Q),icon:"ic:sharp-clear-all","icon-color":"primary"}),null,16))])),_:1})]),r("div",pe,[i(l,{class:"pt-4"},{default:c((()=>[(n(),p(t,d(u(q),{key:u(Q),icon:"material-symbols:check","icon-color":"success"}),null,16))])),_:1})]),r("div",me,[i(l,{class:"pt-4"},{default:c((()=>[(n(),p(t,d(u(J),{key:u(Q),icon:"ph:x","icon-color":"danger"}),null,16))])),_:1})]),r("div",ve,[i(l,{class:"pt-4"},{default:c((()=>[(n(),p(t,d(u(X),{key:u(Q),icon:"tabler:slash","icon-color":"warning"}),null,16))])),_:1})])]),u(P).length>0?(n(),p(A,{key:0,class:"mt-6"},{left:c((()=>[i(v,{modelValue:u(F),"onUpdate:modelValue":a[0]||(a[0]=e=>_(F)?F.value=e:null),icon:"lucide:search",placeholder:"Search Coin",classes:{wrapper:"w-full sm:w-auto"}},null,8,["modelValue"])])),right:c((()=>[i(g,{modelValue:u(E),"onUpdate:modelValue":a[1]||(a[1]=e=>_(E)?E.value=e:null),value:"no-balance",label:"Hide No Profit Positions",shape:"rounded",color:"primary"},null,8,["modelValue"])])),default:c((()=>[r("div",null,[u(H)&&0!==u(H).length?(n(),o("div",he,[i(T,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:c((()=>[(n(!0),o(I,null,D(u(H),((e,s)=>(n(),p(w,{key:s,shape:"rounded",spaced:""},{start:c((()=>[i(h,{label:"Wallet","hide-label":s>0,title:e.currency,subtitle:e.name,logo:`/img/crypto/${e.currency.toLowerCase()}.png`,initials:e.currency},null,8,["hide-label","title","subtitle","logo","initials"])])),end:c((()=>[i(b,{label:"Total Winning","hide-label":s>0,class:"w-full sm:w-40"},{default:c((()=>[r("span",{class:C(["font-sans text-sm",Number(e.winning)>0?"":"text-muted-500 dark:text-muted-400"])},y(u(j)(e.winning||0,e.precision)),3)])),_:2},1032,["hide-label"]),i(b,{label:"Total Losses","hide-label":s>0,class:"w-full sm:w-40"},{default:c((()=>[r("span",{class:C(["font-sans text-sm",Number(e.losses)>0?"":"text-muted-500 dark:text-muted-400"])},y(u(j)(e.losses||0,e.precision)),3)])),_:2},1032,["hide-label"]),i(b,{label:"Admin Profit","hide-label":s>0,class:"w-full sm:w-40"},{default:c((()=>[r("span",{class:C(["font-sans text-sm",Number(e.winning)-Number(e.losses)!=0?"":"text-muted-500 dark:text-muted-400"])},y(Number(e.winning)-Number(e.losses)||0),3)])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1})])):(n(),o("div",ge,[i(f,{title:"No matching results",subtitle:"Looks like we couldn't find any matching results for your search terms. Try other search terms."},{image:c((()=>[fe,ye])),_:1})])),u(H).length>u(G)?(n(),o("div",be,[i(k,{"total-items":u(H).length??0,"item-per-page":u(G),"current-page":u(z),shape:"curved"},null,8,["total-items","item-per-page","current-page"])])):x("",!0)])])),_:1})):x("",!0)])}}}),we={class:"grid grid-cols-12 gap-6"},ke={class:"ltablet:col-span-3 relative xs:col-span-12 sm:col-span-6 lg:col-span-3"},_e={class:"ltablet:col-span-3 relative xs:col-span-12 sm:col-span-6 lg:col-span-3"},Te={class:"ltablet:col-span-3 relative xs:col-span-12 sm:col-span-6 lg:col-span-3"},Ie=s({__name:"InvestmentChart",setup(s){const{getInvestments:v}=z(),{useSparklineConfiguration:g}=a(),f=t({type:"area",height:130,options:{},series:[{name:"Total Investmentss",data:[]}]}),y=t({type:"area",height:130,options:{},series:[{name:"Active Investments",data:[]}]}),h=t({type:"area",height:130,options:{},series:[{name:"Completed Investments",data:[]}]});let b=t(0);return l((async()=>{const e=await v();if("success"===e.status){const s=e.data.result;b.value++,f.value=(e=>g(e,"investments","Total Investments","primary"))(s),y.value=(e=>g(e.filter((e=>"ACTIVE"===e.status)),"investments","Active Investments","warning"))(s),h.value=(e=>g(e.filter((e=>"COMPLETED"===e.status)),"investments","Completed Investments","success"))(s)}})),(s,a)=>{const t=e,l=m;return n(),o("div",null,[r("div",we,[r("div",ke,[i(l,{class:"pt-4"},{default:c((()=>[(n(),p(t,d(u(f),{key:u(b),icon:"fluent-mdl2:away-status","icon-color":"primary"}),null,16))])),_:1})]),r("div",_e,[i(l,{class:"pt-4"},{default:c((()=>[(n(),p(t,d(u(y),{key:u(b),icon:"pajamas:status","icon-color":"warning"}),null,16))])),_:1})]),r("div",Te,[i(l,{class:"pt-4"},{default:c((()=>[(n(),p(t,d(u(h),{key:u(b),icon:"pajamas:status-closed","icon-color":"success"}),null,16))])),_:1})])])])}}}),Ce={class:"space-y-5"},De=s({__name:"index",setup:e=>(e,s)=>{const a=X,t=ce,l=xe,r=Ie,c=P("can");return n(),o("div",Ce,[A(i(a,{class:"border-b pb-5 border-gray-200 dark:border-gray-700"},null,512),[[c,"View Users"]]),A(i(t,{class:"border-b pb-5 border-gray-200 dark:border-gray-700"},null,512),[[c,"View Wallets"]]),A(i(l,{class:"border-b pb-5 border-gray-200 dark:border-gray-700"},null,512),[[c,"View Wallets"]]),A(i(r,{class:"border-b pb-5 border-gray-200 dark:border-gray-700"},null,512),[[c,"Access Investment Logs"]])])}});export{De as default};
