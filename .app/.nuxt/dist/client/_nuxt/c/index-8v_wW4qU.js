import{_ as e}from"./BaseInput.vue-iInHQMIA.js";import{_ as a}from"./BaseSelect.vue-p0KYznCX.js";import{a as l,S as s,c as t,z as r,r as o,E as u,ad as i,b as n,e as d,w as c,o as p,u as m,p as f,f as h,t as v,O as g,F as _,B as b,q as w,k as j,ag as y,x as k}from"../e/entry-8qgg5CL-.js";import{_ as x,a as E}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as P}from"./BaseTag.vue-NMkN1Uk8.js";import{_ as T}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as B,a as D}from"./BaseDropdown.vue-wSpyT9xX.js";import{_ as V}from"./TairoFlexTable-zdoraqRc.js";import{_ as C}from"./BasePagination.vue-eKZkqxB7.js";import{_ as F}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{_ as I,a as L}from"./placeholder-search-4-dark-Jht91LnM.js";import{u as N}from"./trades-XYcaOMER.js";import"./input-id-wZ-Ta08j.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./menu-KWZreDHB.js";import"./use-text-value-9iwzs_EA.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";import"./useP2P-NV4dmDWU.js";const S={value:10},A={value:25},$={value:50},R={value:100},O=h("img",{class:"block dark:hidden",src:I,alt:"Placeholder image"},null,-1),U=h("img",{class:"hidden dark:block",src:L,alt:"Placeholder image"},null,-1),W={key:1,class:"w-full"},q={class:"mt-6"},z=l({__name:"index",setup(l){const I=s(),L=t((()=>I.getProfile)),z=N(),G=r(),M=o(""),H=o(10),J=t((()=>parseInt(G.query.page??"1"))),K=t((()=>z.trades.filter((e=>e.offer?.currency?.includes(M.value))))),Q=t((()=>{const e=(J.value-1)*H.value,a=e+H.value;return K.value.slice(e,a)}));u((async()=>{0===z.trades.length&&(z.loading=!0,await z.fetchP2PTrades(),z.loading=!1)})),i(),o(!1),o(!1),o(null);const X=e=>{switch(e){case"PENDING":return"warning";case"PAID":case"ESCROW_REVIEW":return"info";case"DISPUTE_OPEN":case"CANCELLED":return"danger";case"RELEASED":return"primary";case"COMPLETED":return"success";case"REFUNDED":return"secondary";default:return"default"}};return(l,s)=>{const t=e,r=a,o=y,u=x,i=P,I=T,N=k,G=B,Y=D,Z=E,ee=V,ae=C,le=F;return p(),n("div",null,[d(le,null,{left:c((()=>[d(t,{modelValue:m(M),"onUpdate:modelValue":s[0]||(s[0]=e=>f(M)?M.value=e:null),icon:"lucide:search",classes:{wrapper:"w-full sm:w-auto"},placeholder:"Filter trades..."},null,8,["modelValue"])])),right:c((()=>[d(r,{modelValue:m(H),"onUpdate:modelValue":s[1]||(s[1]=e=>f(H)?H.value=e:null),label:"",classes:{wrapper:"w-full sm:w-40"}},{default:c((()=>[h("option",S,"10 "+v(l.$t("per page")),1),h("option",A,"25 "+v(l.$t("per page")),1),h("option",$,"50 "+v(l.$t("per page")),1),h("option",R,"100 "+v(l.$t("per page")),1)])),_:1},8,["modelValue"])])),default:c((()=>[h("div",null,[m(z).loading||0!==m(Q).length?(p(),n("div",W,[d(ee,{class:"pt-5"},{default:c((()=>[(p(!0),n(_,null,b(m(Q),((e,a)=>(p(),g(Z,{key:e.id,spaced:""},{start:c((()=>[d(u,{label:"Trade","hide-label":a>0,title:e.uuid,subtitle:e.offer?.payment_method?.name},null,8,["hide-label","title","subtitle"])])),end:c((()=>[d(I,{label:"Type","hide-label":a>0,class:"w-28 xs:w-full text-xs"},{default:c((()=>[d(i,{color:e?.seller_id===m(L)?.id?"danger":"success",flavor:"pastel"},{default:c((()=>[w(v(e?.seller_id===m(L)?.id?"Sell":"Buy"),1)])),_:2},1032,["color"])])),_:2},1032,["hide-label"]),d(I,{label:"Amount","hide-label":a>0,class:"w-28 xs:w-full text-xs"},{default:c((()=>[w(v(e.amount)+" "+v(e?.offer?.currency),1)])),_:2},1032,["hide-label"]),d(I,{label:"Status","hide-label":a>0,class:"w-24 xs:w-full"},{default:c((()=>[d(i,{color:X(e?.status),flavor:"pastel"},{default:c((()=>[w(v(e?.status),1)])),_:2},1032,["color"])])),_:2},1032,["hide-label"]),d(I,{label:"Actions","hide-label":a>0},{default:c((()=>[d(Y,{flavor:"context",label:"Dropdown",orientation:"end"},{default:c((()=>[d(G,{to:`/user/p2p/trades/${e.uuid}`,title:"View Details"},{start:c((()=>[d(N,{name:"mdi-eye",class:"me-2 block h-5 w-5"})])),_:2},1032,["to"])])),_:2},1024)])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1})])):(p(),g(o,{key:0,title:m(M)&&""!==m(M)?"No matching results":"No results",subtitle:m(M)&&""!==m(M)?"Looks like we couldn't find any matching results for your search terms. Try other search terms.":"Looks like we don't have any trades here yet."},{image:c((()=>[O,U])),_:1},8,["title","subtitle"])),h("div",q,[m(K).length>m(H)?(p(),g(ae,{key:0,"total-items":m(K).length,"current-page":m(J),"item-per-page":m(H)},null,8,["total-items","current-page","item-per-page"])):j("",!0)])])])),_:1})])}}});export{z as default};
