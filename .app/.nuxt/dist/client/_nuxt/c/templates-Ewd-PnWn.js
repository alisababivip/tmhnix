import{_ as e}from"./BaseInput.vue-iInHQMIA.js";import{_ as a}from"./BaseSelect.vue-p0KYznCX.js";import{a as l,z as s,r as t,c as i,E as o,b as r,e as n,w as u,o as c,u as m,p as d,f as p,t as f,O as h,af as v,F as g,B as b,n as w,k as _,ag as y,x as j}from"../e/entry-8qgg5CL-.js";import{_ as x,a as T}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as k}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as B}from"./TairoButtonIcon.vue-KqKLsAHm.js";import{_ as V}from"./TairoFlexTable-zdoraqRc.js";import{_ as $}from"./BasePagination.vue-eKZkqxB7.js";import{_ as F}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{u as I}from"./useNotification--fi6QyMz.js";import{_ as P,a as S}from"./placeholder-search-4-dark-Jht91LnM.js";import"./input-id-wZ-Ta08j.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";const E={class:"pb-10"},N={value:10},A={value:25},C={value:50},D={value:100},L=p("img",{class:"block dark:hidden",src:P,alt:"Placeholder image"},null,-1),U=p("img",{class:"hidden dark:block",src:S,alt:"Placeholder image"},null,-1),q={key:1,class:"w-full sm:pt-5"},z={class:"mt-6"},M=l({__name:"templates",setup(l){const P=s(),S=t(""),M=t(10),O=i((()=>parseInt(P.query.page??"1"))),R=t(!1),{getNotificationTemplates:W}=I(),G=t([]);o((async()=>{R.value=!0;try{const e=await W();G.value=e.data.result}catch(e){console.log(e)}R.value=!1}));const H=i((()=>G.value.filter((e=>!S.value||e.title?.includes(S.value))).sort(((e,a)=>new Date(a.created_at).getTime()-new Date(e.created_at).getTime())))),J=i((()=>{const e=(O.value-1)*M.value,a=e+M.value;return H.value.slice(e,a)}));return(l,s)=>{const t=e,i=a,o=y,I=x,P=j,W=k,G=B,K=T,Q=V,X=$,Y=F;return c(),r("div",E,[n(Y,null,{left:u((()=>[n(t,{modelValue:m(S),"onUpdate:modelValue":s[0]||(s[0]=e=>d(S)?S.value=e:null),icon:"lucide:search",classes:{wrapper:"w-full sm:w-auto"},placeholder:"Search Template Title..."},null,8,["modelValue"])])),right:u((()=>[n(i,{modelValue:m(M),"onUpdate:modelValue":s[1]||(s[1]=e=>d(M)?M.value=e:null),label:"",classes:{wrapper:"w-full sm:w-40"}},{default:u((()=>[p("option",N,"10 "+f(l.$t("per page")),1),p("option",A,"25 "+f(l.$t("per page")),1),p("option",C,"50 "+f(l.$t("per page")),1),p("option",D,"100 "+f(l.$t("per page")),1)])),_:1},8,["modelValue"])])),default:u((()=>[p("div",null,[m(R)||0!==m(J)?.length?(c(),r("div",q,[n(Q,null,{default:u((()=>[n(v,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transform-gpu","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:u((()=>[(c(!0),r(g,null,b(m(J),((e,a)=>(c(),h(K,{key:e.id,spaced:""},{start:u((()=>[n(I,{label:"Template","hide-label":a>0,title:e.name,subtitle:e.subject},null,8,["hide-label","title","subtitle"])])),end:u((()=>[n(W,{label:"Email","hide-label":a>0,class:"w-20 xs:w-full"},{default:u((()=>[n(P,{name:e.email?"line-md:confirm-circle":"line-md:close-circle",class:w(["h-5 w-5",{"text-success-500":e.email,"text-danger-500":!e.email}])},null,8,["name","class"])])),_:2},1032,["hide-label"]),n(W,{label:"SMS","hide-label":a>0,class:"w-20 xs:w-full"},{default:u((()=>[n(P,{name:e.sms?"line-md:confirm-circle":"line-md:close-circle",class:w(["h-5 w-5",{"text-success-500":e.sms,"text-danger-500":!e.sms}])},null,8,["name","class"])])),_:2},1032,["hide-label"]),n(W,{label:"Push","hide-label":a>0,class:"w-20 xs:w-full"},{default:u((()=>[n(P,{name:e.push?"line-md:confirm-circle":"line-md:close-circle",class:w(["h-5 w-5",{"text-success-500":e.push,"text-danger-500":!e.push}])},null,8,["name","class"])])),_:2},1032,["hide-label"]),n(W,{label:"Actions","hide-label":a>0,class:"w-20 xs:justify-end xs:w-full"},{default:u((()=>[n(G,{to:`/admin/notifications/template/${e.id}`,"data-nui-tooltip":"Edit Template",condensed:""},{default:u((()=>[n(P,{name:"line-md:edit-twotone",class:"h-4 w-4"})])),_:2},1032,["to"])])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1})])),_:1})])):(c(),h(o,{key:0,title:"No matching results",subtitle:"Looks like we couldn't find any matching results for your search terms. Try other search terms."},{image:u((()=>[L,U])),_:1})),p("div",z,[m(H).length>m(M)?(c(),h(X,{key:0,"total-items":m(H).length,"current-page":m(O),"item-per-page":m(M)},null,8,["total-items","current-page","item-per-page"])):_("",!0)])])])),_:1})])}}});export{M as default};
