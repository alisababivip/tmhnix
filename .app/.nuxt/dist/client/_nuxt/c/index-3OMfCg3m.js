import{_ as s}from"./BaseInput.vue-iInHQMIA.js";import{a as e,o as a,b as t,F as l,B as r,f as o,e as i,w as c,t as n,_ as u,g as d,x as g,C as p,E as m,c as h,q as f,u as v,Y as y,z as _,ac as k,S as x,cK as b,r as w,n as j,p as B,af as C,O as P,k as T,ag as $}from"../e/entry-8qgg5CL-.js";import{_ as L}from"./PostCard.vue-DQz0zyVO.js";import{_ as A}from"./BaseButtonIcon.vue-6tAU_b7C.js";import{_ as N}from"./BaseTag.vue-NMkN1Uk8.js";import{u as z}from"./blog-ktBDzU-N.js";import{_ as q}from"./BasePagination.vue-eKZkqxB7.js";import{_ as I}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{_ as E,a as S}from"./placeholder-search-6-dark-MQ5RJyXR.js";import"./input-id-wZ-Ta08j.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseButtonAction.vue-hzSHyI6o.js";import"./useBlog-0Y19BpbN.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";const V={class:"mb-2 space-y-5"},F=["src"],U={class:"text-muted-400"},D={class:"text-muted-400 font-sans text-xs"},K={class:"ms-auto"},O={key:1},R={class:"text-muted-400 text-sm"},W=e({__name:"CategoryListCompact",props:{categories:{type:Array,required:!0}},setup(s){const e=s;return(s,p)=>{const m=u,h=d,f=g,v=A;return a(),t("div",V,[e.categories?.length>0?(a(!0),t(l,{key:0},r(e.categories,(e=>(a(),t("div",{key:e.id,class:"flex gap-3 items-center hover:bg-gray-300 dark:hover:bg-gray-900 rounded px-2 py-1"},[o("img",{src:e.image?e.image:"/img/placeholder.png",class:"w-8 h-8 rounded"},null,8,F),o("div",null,[i(m,{as:"h4",size:"sm",weight:"light",lead:"tight",class:"text-muted-800 dark:text-white"},{default:c((()=>[o("span",null,n(e.name),1)])),_:2},1024),i(h,{size:"xs"},{default:c((()=>[o("span",U,[o("span",D,n(e.post?.length)+" "+n(e.post?.length>1?s.$t("posts"):s.$t("post")),1)])])),_:2},1024)]),o("div",K,[i(v,{to:`/blog/categories/${e.slug}`,shape:"curved",muted:"",class:"scale-75"},{default:c((()=>[i(f,{name:"lucide:arrow-right",class:"h-4 w-4"})])),_:2},1032,["to"])])])))),128)):(a(),t("div",O,[o("span",R,n(s.$t("No Categories found"))+". ",1)]))])}}}),Y={class:"mb-2 space-y-5"},G={key:1},H={class:"text-muted-400 text-sm"},J=e({__name:"TagCloud",props:{tags:{type:Array,required:!0}},setup(s){const e=s;return(s,u)=>{const d=N,g=p;return a(),t("div",Y,[e.tags?.length>0?(a(!0),t(l,{key:0},r(e.tags,(s=>(a(),t("div",{key:s.id,class:"flex gap-3 items-center"},[i(g,{to:`/blog/tags/${s.slug}`},{default:c((()=>[i(d,null,{default:c((()=>[o("span",null,n(s.name),1)])),_:2},1024)])),_:2},1032,["to"])])))),128)):(a(),t("div",G,[o("span",H,n(s.$t("No Tags found"))+". ",1)]))])}}}),M={class:"space-y-5"},Q=e({__name:"RightSidebar",setup(s){const e=z();m((async()=>{0===e.categories.length&&await e.fetchCategories(),0===e.tags.length&&await e.fetchTags()}));const l=h((()=>e.categories??[])),r=h((()=>e.tags??[]));return(s,e)=>{const o=u,d=W,g=y,p=J;return a(),t("div",M,[i(g,{class:"p-3"},{default:c((()=>[i(o,{as:"h4",size:"sm",weight:"bold",class:"mb-3"},{default:c((()=>[f(n(s.$t("Categories")),1)])),_:1}),i(d,{categories:v(l)},null,8,["categories"])])),_:1}),i(g,{class:"p-3"},{default:c((()=>[i(o,{as:"h4",size:"sm",weight:"bold",class:"mb-3"},{default:c((()=>[f(n(s.$t("Tags")),1)])),_:1}),i(p,{tags:v(r)},null,8,["tags"])])),_:1})])}}}),X={key:0},Z=o("img",{class:"block dark:hidden",src:E,alt:"Placeholder image"},null,-1),ss=o("img",{class:"hidden dark:block",src:S,alt:"Placeholder image"},null,-1),es={key:1},as=o("img",{class:"block dark:hidden",src:E,alt:"Placeholder image"},null,-1),ts=o("img",{class:"hidden dark:block",src:S,alt:"Placeholder image"},null,-1),ls={key:2},rs={class:"grid gap-5 grid-cols-12"},os={class:"col-span-12 xs:col-span-12 md:col-span-8 lg:col-span-9"},is={class:"grid w-full gap-4 xs:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3"},cs={class:"col-span-12 xs:col-span-12 md:col-span-4 lg:col-span-3"},ns={class:"mt-6"},us=e({__name:"index",setup(e){const n=_();k();const u=x(),d=h((()=>u.getProfile)),g=z(),p=h((()=>g.posts??[]));m((async()=>{u.isLoggedIn&&b("default"),0===g.posts.length&&await g.fetchPosts()}));const f=w(""),y=w(12),A=h((()=>parseInt(n.query.page??"1"))),N=h((()=>p.value&&Array.isArray(p.value)?p.value.filter((s=>s.title?.toLowerCase().includes(f.value.toLowerCase()))):[])),E=h((()=>{const s=(A.value-1)*y.value,e=s+y.value;return N.value.slice(s,e)}));return(e,n)=>{const u=s,g=$,m=L,h=Q,_=q,k=I;return a(),t("div",{class:j({"p-10 pt-20":!v(d)})},[i(k,null,{left:c((()=>[i(u,{modelValue:v(f),"onUpdate:modelValue":n[0]||(n[0]=s=>B(f)?f.value=s:null),icon:"lucide:search",shape:"curved",placeholder:"Search posts...",classes:{wrapper:"w-full sm:w-auto"}},null,8,["modelValue"])])),default:c((()=>[o("div",null,[""!==v(f)&&0===v(E)?.length?(a(),t("div",X,[i(g,{title:"No results found",subtitle:"Looks like we couldn't find any matching results for your search terms. Try other search terms."},{image:c((()=>[Z,ss])),_:1})])):0===v(E)?.length?(a(),t("div",es,[i(g,{title:"No posts found",subtitle:"Looks like there are no posts yet. Try again later."},{image:c((()=>[as,ts])),_:1})])):(a(),t("div",ls,[o("div",rs,[o("div",os,[o("div",is,[i(C,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:c((()=>[(a(!0),t(l,null,r(v(p),(s=>(a(),P(m,{key:s.id,item:s,user:v(d),categoryName:s.category.name},null,8,["item","user","categoryName"])))),128))])),_:1})])]),o("div",cs,[i(h)])]),o("div",ns,[v(p)?.length>v(y)?(a(),P(_,{key:0,"total-items":v(p)?.length??0,"item-per-page":v(y),"current-page":v(A),shape:"curved"},null,8,["total-items","item-per-page","current-page"])):T("",!0)])]))])])),_:1})],2)}}});export{us as default};
