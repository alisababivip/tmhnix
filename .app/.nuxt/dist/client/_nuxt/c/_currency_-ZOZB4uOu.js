import{a as e,z as a,ac as s,ad as l,c as t,r,E as n,b as u,e as o,w as d,o as c,q as i,t as m,u as f,f as p,p as v,_ as h,x as w,X as y}from"../e/entry-8qgg5CL-.js";import{_ as b}from"./BaseInput.vue-iInHQMIA.js";import{_ as g}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{u as x}from"./wallet-n04aoRPe.js";import{u as U}from"./useEcosystem-9eBUNbsT.js";import{v as _}from"./validate-IsC9ej9X.js";import"./input-id-wZ-Ta08j.js";import"./useWallet-8iHzU2hV.js";const j={class:"space-y-5 min-h-screen pb-20"},T={class:"space-y-5 pl-8"},C={class:"w-full"},I={class:"w-full"},V=p("hr",{class:"border-gray-200 dark:border-gray-700"},null,-1),$=e({__name:"[currency]",setup(e){const $=a(),z=s(),D=x(),{toast:E}=l(),{transferFunds:k,getWallet:W}=U(),L=$.params.currency.toUpperCase(),q=t((()=>D.wallet)),B=r(""),F=r(0);async function M(){if(B.value)if(_(B.value))try{const e=await k(B.value,q.value?.currency,F.value);E.response(e),"success"===e.status&&z.push(`/user/wallets/funding/${L.toLowerCase()}`)}catch(e){E.danger(e)}else E.dangerText("Invalid UUID format");else E.dangerText("Please enter a valid user uuid")}return n((async()=>{await async function(){try{await W(L)}catch(e){z.push("/user/wallets/funding")}}()})),(e,a)=>{const s=h,l=w,t=y,r=b,n=g;return c(),u("div",null,[o(n,null,{left:d((()=>[o(s,{size:"xl"},{default:d((()=>[i(m(f(L))+" "+m(e.$t("Transfer")),1)])),_:1})])),right:d((()=>[p("div",null,[o(t,{to:`/user/wallets/funding/${f(L).toLowerCase()}`,color:"muted",flavor:"pastel"},{default:d((()=>[o(l,{name:"line-md:chevron-left",class:"h-4 w-4"}),p("span",null,m(e.$t("Cancel")),1)])),_:1},8,["to"])])])),default:d((()=>[p("div",j,[o(s,{as:"h3",size:"2xl",weight:"bold",class:"text-muted-800 dark:text-white"},{default:d((()=>[o(l,{name:"line-md:downloading-loop",class:"h-6 w-6 mr-2"}),i(" "+m(e.$t("Transfer Details")),1)])),_:1}),p("div",T,[p("div",C,[o(r,{modelValue:f(B),"onUpdate:modelValue":a[0]||(a[0]=e=>v(B)?B.value=e:null),shape:"rounded",type:"text",label:"User UUID",placeholder:"Enter target user UUID...",icon:"ph:user-duotone"},null,8,["modelValue"])]),p("div",I,[o(r,{modelValue:f(F),"onUpdate:modelValue":a[1]||(a[1]=e=>v(F)?F.value=e:null),max:f(q)?.balance,shape:"rounded",type:"number",label:"Transfer amount",placeholder:"Enter transfer amount...",icon:"flat-color-icons:money-transfer",error:0!==f(F)?f(F)>Number(f(q)?.balance)&&"Insufficient balance":"Must be greater than 0"},null,8,["modelValue","max","error"])])]),V,p("div",null,[o(t,{class:"w-full",color:"success",onClick:M,disabled:!f(B)||!f(F)},{default:d((()=>[i(m(e.$t("Transfer")),1)])),_:1},8,["disabled"])])])])),_:1})])}}});export{$ as default};
