import{a as e,r as t,D as n,E as s,G as o,H as r,I as u}from"../e/entry-8qgg5CL-.js";const a=e({props:{as:{type:String,default:"div"},nextKeys:{type:[Array,String],default:"PageDown"},prevKeys:{type:[Array,String],default:"PageUp"},prevent:{type:Boolean,default:!0}},setup(e,{slots:a}){const l=t(),c=new Map;let f=[],d=null,i=0;function p(){for(const e of f)e.node?.removeEventListener("focus",e.focusListener),e.node?.removeEventListener("focusout",e.focusOutListener);f=[]}function v(){if(l.value){const e=document.createTreeWalker(l.value,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>e.disabled||!e.isConnected?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});p(),c.clear();let t=0;for(;e.nextNode();){const n=e.currentNode,s=t;c.set(t,n);const o=()=>{d=s},r=()=>{d=null};n.addEventListener("focus",o),n.addEventListener("focusout",r),f.push({focusListener:o,focusOutListener:r,node:n}),i=t,t+=1}}}return n(v),s(v),o(p),r(e.nextKeys,(t=>{null!==d&&(e.prevent&&t.preventDefault(),d+1<=i?c.get(d+1)?.focus():c.get(0)?.focus())})),r(e.prevKeys,(t=>{null!==d&&(e.prevent&&t.preventDefault(),d>0?c.get(d-1)?.focus():c.get(i)?.focus())})),()=>u(e.as,{ref:l},a?.default?.())}});export{a as _};
