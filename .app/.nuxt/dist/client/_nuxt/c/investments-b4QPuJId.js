import{_ as e}from"./BaseInput.vue-iInHQMIA.js";import{_ as a}from"./BaseSelect.vue-p0KYznCX.js";import{a as t,z as l,r as s,c as r,E as n,b as u,e as o,w as i,o as d,u as c,p as m,f as p,t as f,O as v,F as g,B as h,q as b,k as w,ag as _}from"../e/entry-8qgg5CL-.js";import{_ as j,a as k}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as y}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as D}from"./BaseTag.vue-NMkN1Uk8.js";import{_ as E}from"./TairoFlexTable-zdoraqRc.js";import{_ as T}from"./BasePagination.vue-eKZkqxB7.js";import{_ as x}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{r as N,t as B,c as I,d as A,a as C}from"./strings-rQgUKePI.js";import{_ as P,a as V}from"./placeholder-search-4-dark-Jht91LnM.js";import{u as F}from"./investment-XmzczllC.js";import"./input-id-wZ-Ta08j.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";import"./useAiTrading-wIB0sHyU.js";function L(e,a){N(2,arguments);var t=B(e),l=I(a);return isNaN(l)?new Date(NaN):l?(t.setDate(t.getDate()+l),t):t}const $={class:"relative"},U={value:10},O={value:25},R={value:50},H={value:100},q=p("img",{class:"block dark:hidden",src:P,alt:"Placeholder image"},null,-1),M=p("img",{class:"hidden dark:block",src:V,alt:"Placeholder image"},null,-1),S={key:1,class:"w-full"},W={key:0},z={class:"mt-6"},G=t({__name:"investments",setup(t){const B=F(),P=l(),V=s(""),G=s(10),J=r((()=>parseInt(P.query.page??"1"))),K=r((()=>B.investments.filter((e=>e.uuid.includes(V.value))))),Y=r((()=>{const e=(J.value-1)*G.value,a=e+G.value;return K.value.slice(e,a)}));n((async()=>{0===B.investments.length&&(B.loading=!0,await B.fetchInvestments(),B.loading=!1)}));const Q=e=>{switch(e){case"PENDING":return"warning";case"ACTIVE":return"info";case"COMPLETED":return"success";case"CANCELLED":case"REJECTED":return"danger"}},X=(e,a,t)=>{const l=new Date(e);switch(t){case"HOUR":return function(e,a){N(2,arguments);var t=I(a);return A(e,36e5*t)}(l,a);case"DAY":return L(l,a);case"WEEK":return L(l,7*a);case"MONTH":return L(l,30*a);default:return l}};return(t,l)=>{const s=e,r=a,n=_,N=j,B=y,I=D,A=k,P=E,F=T,L=x;return d(),u("div",$,[o(L,null,{left:i((()=>[o(s,{modelValue:c(V),"onUpdate:modelValue":l[0]||(l[0]=e=>m(V)?V.value=e:null),icon:"lucide:search",classes:{wrapper:"w-full sm:w-auto"},placeholder:"Filter investments UUID..."},null,8,["modelValue"])])),right:i((()=>[o(r,{modelValue:c(G),"onUpdate:modelValue":l[1]||(l[1]=e=>m(G)?G.value=e:null),label:"",classes:{wrapper:"w-full sm:w-40"}},{default:i((()=>[p("option",U,"10 "+f(t.$t("per page")),1),p("option",O,"25 "+f(t.$t("per page")),1),p("option",R,"50 "+f(t.$t("per page")),1),p("option",H,"100 "+f(t.$t("per page")),1)])),_:1},8,["modelValue"])])),default:i((()=>[p("div",null,[0===c(Y)?.length?(d(),v(n,{key:0,title:c(V)&&""!==c(V)?"No matching results":"No results",subtitle:c(V)&&""!==c(V)?"Looks like we couldn't find any matching results for your search terms. Try other search terms.":"Looks like we don't have any data here yet."},{image:i((()=>[q,M])),_:1},8,["title","subtitle"])):(d(),u("div",S,[o(P,{class:"pt-5"},{default:i((()=>[(d(!0),u(g,null,h(c(Y),((e,a)=>(d(),v(A,{key:e.id,spaced:""},{start:i((()=>[o(N,{label:"Investment","hide-label":a>0,picture:e.plan?.image,title:`${e.plan?.name}`,subtitle:e.uuid},null,8,["hide-label","picture","title","subtitle"])])),end:i((()=>[o(B,{label:"Amount","hide-label":a>0,class:"w-20 xs:w-full"},{default:i((()=>[b(f(e.amount),1)])),_:2},1032,["hide-label"]),o(B,{label:"Result","hide-label":a>0,class:"w-20 xs:w-full"},{default:i((()=>[e.profit?(d(),u("span",W,f(e.profit),1)):(d(),v(I,{key:1,flavor:"pastel",condensed:"",color:"warning"},{default:i((()=>[b("Pending")])),_:1}))])),_:2},1032,["hide-label"]),o(B,{label:"Status","hide-label":a>0,class:"w-20 xs:w-full"},{default:i((()=>[o(I,{color:Q(e.status),flavor:"pastel",condensed:""},{default:i((()=>[b(f(e.status),1)])),_:2},1032,["color"])])),_:2},1032,["hide-label"]),o(B,{label:"End Date","hide-label":a>0,class:"w-32 xs:w-full text-xs"},{default:i((()=>[b(f(("formatDate"in t?t.formatDate:c(C))(X(e.created_at,e.duration.duration,e.duration.timeframe))),1)])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1})])),p("div",z,[c(K).length>c(G)?(d(),v(F,{key:0,"total-items":c(K).length,"current-page":c(J),"item-per-page":c(G)},null,8,["total-items","current-page","item-per-page"])):w("",!0)])])])),_:1})])}}});export{G as default};
