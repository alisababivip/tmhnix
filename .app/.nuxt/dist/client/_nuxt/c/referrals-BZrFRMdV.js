import{d as e}from"../e/entry-8qgg5CL-.js";import{u as r}from"./useMlm-tZO3tueF.js";const t=e({id:"adminReferral",state:()=>({nodes:[],selectedNode:null,referrals:[],selectedReferral:null,loading:!1}),getters:{getReferralById:e=>r=>e.referrals.find((e=>e.id===r)),getNodeByUserId:e=>r=>e.nodes.find((e=>e.userId===r))},actions:{async fetchAllNodes(){this.loading=!0;try{const{getAllNodes:e}=r(),t=await e();this.nodes=t.data.result}catch(e){console.error("Error fetching nodes:",e)}this.loading=!1},async selectNodeByUserId(e){this.selectedNode=this.getNodeByUserId(e)},async fetchAllReferrals(){this.loading=!0;try{const{getAllReferrals:e}=r(),t=await e();this.referrals=t.data.result}catch(e){console.error("Error fetching referrals:",e)}this.loading=!1},async updateReferralStatus(e,t){try{const{updateReferralStatus:s}=r();await s(e,t)}catch(s){console.error("Error updating referral status:",s)}},async selectReferral(e){this.selectedReferral=e},async selectReferralById(e){this.selectedReferral=this.getReferralById(e)}}});export{t as u};
