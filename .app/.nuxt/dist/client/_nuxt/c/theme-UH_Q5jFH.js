import{a as e,U as a,Q as t,c as s,S as l,cH as u,r as o,cI as d,ad as i,J as n,b as r,e as c,w as m,W as p,Y as g,o as f,f as v,q as h,t as y,F as x,B as b,O as k,n as _,u as w,cJ as z,_ as S,a0 as j,g as C,x as B}from"../e/entry-8qgg5CL-.js";import{_ as L}from"./BaseListbox.vue-1Dy9Ui3z.js";import{z as T,u as D,t as P,F as $}from"./vee-validate.esm-n59zZCC5.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./use-text-value-9iwzs_EA.js";const Y={class:"flex items-center justify-between p-4"},A={class:"px-8"},E={class:"mx-auto space-y-12 py-8"},O={class:"grid grid-cols-12 gap-6"},I={class:"col-span-12 sm:col-span-7 flex flex-col gap-4"},M={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4 bg-muted-100 dark:bg-muted-700/40 rounded-xl"},U={class:"bg-muted-50 dark:bg-muted-700/70 flex items-center justify-center rounded-lg py-6 sm:py-3"},V=["src","alt"],F=["src","alt"],J={class:"flex items-center justify-between py-2"},q={class:"col-span-12 flex flex-col gap-4"},H={class:"space-y-1"},N={class:"grid grid-cols-1 sm:grid-cols-2 gap-x-4"},Q=["onClick"],R=v("hr",{class:"border-muted-200 dark:border-muted-700"},null,-1),W={type:"button",class:"group w-full flex items-center gap-3 p-2 rounded-lg"},G=v("span",{class:"block h-6 w-6 rounded-lg bg-muted-200 dark:bg-muted-900"},null,-1),K={class:"flex items-center px-2 pt-2"},X={class:"ml-auto flex items-center justify-end gap-2"},Z=["data-nui-tooltip","onClick"],ee={class:"col-span-12 flex flex-col gap-4"},ae={class:"grid grid-cols-12 gap-4 pt-2 space-y-5"},te={class:"col-span-12 sm:col-span-6"},se=e({__name:"theme",setup(e){const{updateSettings:se}=a(),le=t(),ue=s((()=>le.settings)),oe=l(),de=s((()=>oe.getPermissions)),ie=s((()=>oe.getRole)),{primaryPresets:ne,mutedPresets:re}=u(),ce=o(ue.value?.default_layout??"collapse"),me=o(ue.value?.default_color??"violet"),pe=o(ue.value?.default_background_shader??"slate"),{layouts:ge,activeLayoutName:fe}=d();const{toast:ve}=i(),he=async()=>{try{const e={default_layout:ce.value,default_color:me.value,default_background_shader:pe.value},a=await se(e);"success"===a.status&&(await se(e),document.documentElement.scrollTo({top:0,behavior:"smooth"}),le.setSettings(Object.values(a.data.result)))}catch(e){ve.danger(e)}},ye=T.object({default_mode:T.string().nullable()}),xe=P(ye),be=s((()=>({default_mode:ue.value?.default_mode}))),{handleSubmit:ke,isSubmitting:_e,values:we}=D({validationSchema:xe,initialValues:be});n((()=>we.default_mode),(()=>{ze()}));const ze=ke((async e=>{try{const a=await se(e);ve.response(a),"success"===a.status&&(await se(e),le.setSettings(Object.values(a.data.result)))}catch(a){ve.danger(a)}}));return(e,a)=>{const t=S,s=j,l=C,u=B,o=g,d=L;return f(),r("form",{method:"POST",action:"",class:"w-full pb-16",onSubmit:p(he,["prevent"])},[c(o,null,{default:m((()=>[v("div",Y,[v("div",null,[c(t,{tag:"h2",size:"sm",weight:"medium",lead:"normal",class:"uppercase tracking-wider"},{default:m((()=>[h(y(e.$t("Theme")),1)])),_:1}),c(s,{size:"xs",class:"text-muted-400"},{default:m((()=>[h(y(e.$t("Personalize your platform experience.")),1)])),_:1})])]),v("div",A,[v("div",E,[v("div",O,[v("div",I,[v("div",null,[c(t,{as:"h4",size:"sm",weight:"medium",class:"text-muted-900 dark:text-white"},{default:m((()=>[h(" Choose Your Layout ")])),_:1}),c(l,{size:"sm",class:"text-muted-400"},{default:m((()=>[h(" Select a layout style that works best for you. ")])),_:1})]),v("div",M,[(f(!0),r(x,null,b(w(ge),(e=>(f(),k(o,{key:e.name,role:"button",shape:"curved",class:_(["p-2",w(ce)===e.name&&"!border-primary-500"]),onClick:a=>async function(e){de.value.some((e=>e.includes("Edit Default Layout")))||"Super Admin"===ie.value?(ce.value=e,await he(),fe.value=e,localStorage.setItem("layout-switcher-active",e)):ve.dangerText("You do not have permission to edit the default layout.")}(e.name)},{default:m((()=>[v("div",U,[v("img",{src:`/img/illustrations/switcher/layout-${e.name}-default.svg`,class:_(["block dark:hidden max-w-[110px] mx-auto transition-opacity duration-200",w(ce)===e.name?"opacity-100":"opacity-60"]),alt:`${e.name} layout`},null,10,V),v("img",{src:`/img/illustrations/switcher/layout-${e.name}-default-dark.svg`,class:_(["hidden dark:block max-w-[110px] mx-auto transition-opacity duration-200",w(ce)===e.name?"opacity-100":"opacity-60"]),alt:`${e.name} layout`},null,10,F)]),v("div",J,[c(s,{size:"xs",class:_(["capitalize",w(ce)===e.name?"text-muted-600 dark:text-muted-100":"text-muted-400 dark:text-muted-500"])},{default:m((()=>[h(y(e.name)+" Layout ",1)])),_:2},1032,["class"]),c(u,{name:"ph:check-circle-duotone",class:_(["w-5 h-5 text-success-500 transition-opacity duration-200",w(ce)===e.name?"opacity-100":"opacity-0"])},null,8,["class"])])])),_:2},1032,["class","onClick"])))),128))])]),v("div",q,[v("div",null,[c(t,{as:"h4",size:"sm",weight:"medium",class:"text-muted-900 dark:text-white"},{default:m((()=>[h(" Customize Colors ")])),_:1}),c(l,{size:"sm",class:"text-muted-400"},{default:m((()=>[h(" Change the color theme to match your preference. ")])),_:1})]),v("div",H,[v("div",N,[(f(!0),r(x,null,b(w(ne),(e=>(f(),r("div",{key:e.name},[v("button",{type:"button",class:_(["group w-full flex items-center gap-3 p-2 rounded-lg hover:bg-muted-100 dark:hover:bg-muted-700/70 transition-colors duration-200",[w(me)===e.name?"ring-1 ring-primary-500 z-10 relative":"ring-0"]]),onClick:()=>async function(e){de.value.some((e=>e.includes("Edit Default Layout")))||"Super Admin"===ie.value?(me.value=e.name,await he(),z("primary",e.shades)):ve.dangerText("You do not have permission to edit the default layout.")}(e)},[v("span",{class:_(["block h-6 w-6 rounded-lg shrink-0",e.class])},null,2),c(s,{size:"sm"},{default:m((()=>[h(y(e.label),1)])),_:2},1024)],10,Q)])))),128))]),R,v("div",null,[v("button",W,[G,c(s,{size:"sm"},{default:m((()=>[h("Background shade")])),_:1})]),v("div",K,[c(s,{size:"xs",class:"text-muted-400"},{default:m((()=>[h("Pick a shade")])),_:1}),v("div",X,[(f(!0),r(x,null,b(w(re),(e=>(f(),r("button",{key:e.name,type:"button",class:_(["block h-6 w-6 rounded-full",[e.class,w(pe)===e.name?"ring-1 ring-primary-500":"ring-0"]]),"data-nui-tooltip":e.label,onClick:()=>async function(e){de.value.some((e=>e.includes("Edit Default Layout")))||"Super Admin"===ie.value?(pe.value=e.name,await he(),z("muted",e.shades)):ve.dangerText("You do not have permission to edit the default layout.")}(e)},null,10,Z)))),128))])])])])]),v("div",ee,[v("div",null,[c(t,{as:"h4",size:"sm",weight:"medium",class:"text-muted-900 dark:text-white"},{default:m((()=>[h(" Customize Dark Mode ")])),_:1}),c(l,{size:"sm",class:"text-muted-400"},{default:m((()=>[h(" Change the dark mode settings to match your preference. ")])),_:1})]),v("div",ae,[v("div",te,[c(w($),{name:"default_mode"},{default:m((({field:e,errorMessage:a,handleChange:t,handleBlur:s})=>[c(d,{"model-value":e.value,error:a,disabled:w(_e),items:["Light","Dark"],placeholder:"Select an option",label:"Default Mode",shape:"rounded","onUpdate:modelValue":t,onBlur:s},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])])),_:1})])])])])])])])),_:1})],32)}}});export{se as default};
