import{_ as e}from"./BaseAvatar.vue-XYSxxLJP.js";import{y as t,o as s,b as a,j as l,f as n,a as r,S as i,c as o,r as c,a4 as u,ad as d,E as m,J as f,d3 as x,e as p,w as g,u as v,t as h,_ as w,C as y,Y as b,an as _,q as I,aa as $,ab as k,g as j,x as z,X as P,ao as D}from"../e/entry-8qgg5CL-.js";import{_ as T}from"./AddonApexcharts.vue-7Mw5ynfb.js";import{_ as C}from"./analytics.vue-S6S6I4m1.js";import{_ as A}from"./Faqs.vue-my_shOF5.js";import{u as S}from"./investment-ZL9JbRBy.js";import{u as U}from"./useInvestment-ZaAPyLmc.js";import{u as M}from"./wallet-n04aoRPe.js";import{a as E}from"./strings-rQgUKePI.js";import"./client-only-nGApKnAn.js";import"./useFaq-K_svOq1B.js";import"./useWallet-8iHzU2hV.js";const Y={class:"mt-4 text-center"},L={class:"mt-4"};const W=t({},[["render",function(e,t){return s(),a("div",null,[l(e.$slots,"image"),n("div",Y,[l(e.$slots,"default"),n("div",L,[l(e.$slots,"action")])])])}]]),q=""+globalThis.__publicAssetsURL("img/illustrations/placeholders/flat/chart-guy.svg"),B=""+globalThis.__publicAssetsURL("img/illustrations/placeholders/flat/chart-guy-dark.svg"),R={class:"space-y-5"},F={class:"flex flex-col items-center md:flex-row"},N={class:"ltablet:flex-row ltablet:items-center flex flex-col items-center gap-4 text-center md:items-start md:text-left lg:flex-row lg:items-center"},G={class:"text-center md:text-left"},J={class:"text-muted-400"},K={class:"ltablet:flex-row ltablet:items-center ms-auto flex flex-col gap-6 text-center md:text-left lg:flex-row lg:items-center xs:mt-5 sm:mt-5 md:mt-0 xs:w-full sm:w-full md:w-auto"},O={class:"relative z-20 flex flex-col gap-3"},V={class:"text-white/80"},X={class:"absolute bottom-0 end-2 z-10 flex h-14 w-14 items-center justify-center"},H={key:0,class:"flex flex-col md:flex-row gap-5 pb-20"},Q={class:"flex-1 h-full"},Z={class:"flex gap-12"},ee=["src"],te={class:"space-y-4"},se={class:"px-5"},ae={class:"font-sans text-xs px-5"},le={class:"flex items-center gap-2 text-success-500"},ne={class:"text-muted-400"},re={class:"text-gray-800 dark:text-gray-200"},ie={class:"flex items-center gap-2 text-success-500"},oe={class:"text-muted-400"},ce={class:"text-gray-800 dark:text-gray-200"},ue={class:"flex items-center gap-2 text-success-500"},de={class:"text-muted-400"},me={class:"text-gray-800 dark:text-gray-200"},fe={class:"px-5 pb-5"},xe={class:"mb-5 flex items-center justify-between"},pe={class:""},ge={class:"font-sans text-xs px-5"},ve={class:"flex items-center gap-2 text-success-500"},he={class:"text-muted-400"},we={class:"text-gray-800 dark:text-gray-200"},ye={class:"flex items-center gap-2 text-success-500"},be={class:"text-muted-400"},_e={class:"text-gray-800 dark:text-gray-200"},Ie=n("img",{src:q,class:"block w-full dark:hidden",width:"225",height:"150",alt:"Placeholder illustration"},null,-1),$e=n("img",{src:B,class:"hidden w-full dark:block",width:"225",height:"150",alt:"Placeholder illustration"},null,-1),ke={class:"text-muted-400"},je={key:1,class:"flex min-h-[400px] items-center justify-center"},ze={class:"flex flex-col md:flex-row items-center mx-auto w-full text-center"},Pe={class:"mx-auto max-w-sm"},De={class:"text-muted-400 font-sans text-sm"},Te={class:"mt-2 flex justify-center gap-2"},Ce={class:"flex w-full items-center justify-between p-4 md:p-6"},Ae={class:"font-heading text-muted-900 text-lg font-medium leading-6 dark:text-white"},Se={class:"p-4 md:p-6"},Ue={class:"mx-auto w-full text-center"},Me={class:"font-heading text-muted-800 text-lg font-medium leading-6 dark:text-white"},Ee={class:"font-alt text-muted-500 dark:text-muted-400 text-sm leading-5 mb-3"},Ye={class:"p-4 md:p-6"},Le={class:"flex gap-x-2"},We=r({__name:"index",setup(t){const l=i(),r=o((()=>l.getProfile)),Y=S(),L=c(0),q=o((()=>Y.userInvestment)),B=u(function(){const{success:e}=x(),t={chart:{toolbar:{show:!1}},colors:[e.value],plotOptions:{radialBar:{hollow:{size:"75%"},dataLabels:{show:!0,name:{show:!0,fontSize:"0.7rem",fontWeight:400,offsetY:-10},value:{show:!0,fontWeight:600,fontSize:"16px",offsetY:-5}}}},labels:["Progress"]},s=u([L.value]);return f(L,(e=>{s.value=[e]})),{type:"radialBar",height:240,options:t,series:s}}()),{cancelInvestment:We}=U(),{toast:qe}=d(),Be=c(!1);m((async()=>{if(null===Y.userInvestment&&await Y.fetchUserInvestment(),null!==Y.userInvestment){const e=new Date,t=new Date(Y.userInvestment?.created_at);L.value=Math.round((e.getTime()-t.getTime())/864e5)}}));const Re=o((()=>{if(null===Y.userInvestment)return null;const e=new Date,t=new Date(Y.userInvestment?.created_at),s=new Date(t.setDate(t.getDate()+Y.userInvestment?.plan?.duration)).getTime()-e.getTime();if(s<=0)return"Plan ended";const a=Math.floor(s/864e5),l=Math.floor(s%864e5/36e5),n=Math.floor(s%36e5/6e4),r=Math.floor(s%6e4/1e3);return a>0?`in ${a} days`:l>0?`in ${l} hours`:n>0?`in ${n} minutes`:`in ${r} seconds`}));f(L,(e=>{B.series=[e]}));const Fe=M();async function Ne(){try{Be.value=!0;const e=await We(Y.userInvestment?.uuid);qe.response(e),"success"===e.status&&(Y.userInvestment=null,await Fe.fetchWallets(),Ge.value=!1)}catch(e){qe.danger(e)}finally{Be.value=!1}}const Ge=c(!1);return(t,l)=>{const i=e,o=w,c=j,u=y,d=z,m=b,f=P,x=T,S=W,U=C,M=D,L=_,We=A;return s(),a("div",null,[n("div",R,[p(m,{class:"p-5"},{default:g((()=>[n("div",F,[n("div",N,[p(i,{src:v(r).avatar,size:"xl"},null,8,["src"]),n("div",G,[p(o,{as:"h2",size:"xl",weight:"medium",lead:"tight",class:"text-muted-800 dark:text-white"},{default:g((()=>[n("span",null,h(t.$t("Greetings"))+", "+h(v(r).first_name+" "+v(r).last_name),1)])),_:1}),p(c,null,{default:g((()=>[n("span",J,h(t.$t("Your personalized Investment Dashboard awaits. Take a moment to explore and make the most of your investments"))+".",1)])),_:1})])]),n("div",K,[p(m,{class:"from-primary-600 to-primary-700 shadow-primary-500/20 relative flex flex-1 items-center justify-center bg-gradient-to-br p-5 shadow-xl"},{default:g((()=>[n("div",O,[p(c,{size:"sm"},{default:g((()=>[n("span",V,h(t.$t("Start earning profit with our investment plans")),1)])),_:1}),p(u,{class:"font-sans text-sm text-white underline-offset-4 hover:underline",to:"/user/invest/new"},{default:g((()=>[n("span",null,h(t.$t("Learn more")),1)])),_:1})]),n("div",X,[p(d,{name:"ph:crown-duotone",class:"text-primary-900/50 h-10 w-10"})])])),_:1})])])])),_:1}),null!==v(q)?(s(),a("div",H,[n("div",Q,[p(m,{shape:"rounded",class:"min-w-sm"},{default:g((()=>[n("div",Z,[n("img",{src:v(Y).userInvestment?.plan?.image||"/img/placeholder.png",loading:"lazy",format:"avif",class:"w-full mb-4 rounded-t-lg h-40 object-cover"},null,8,ee)]),n("div",te,[n("div",se,[n("div",null,[p(c,{size:"xl",class:"text-success-500"},{default:g((()=>[I(h(t.$t("Active Plan"))+": "+h(v(Y).userInvestment?.plan?.title),1)])),_:1})])]),n("div",ae,[n("ul",null,[n("li",le,[p(d,{name:"fluent:chevron-right-12-filled",class:"h-3 w-3 text-current"}),n("span",ne,[I(h(t.$t("Invested Amount"))+": ",1),n("span",re,h(v(Y).userInvestment?.amount)+" "+h(v(Y).userInvestment?.plan?.currency),1)])]),n("li",ie,[p(d,{name:"fluent:chevron-right-12-filled",class:"h-3 w-3 text-current"}),n("span",oe,[I(h(t.$t("Profit"))+": ",1),n("span",ce,h(v(Y).userInvestment?.amount*(v(Y).userInvestment?.plan?.roi/100))+" "+h(v(Y).userInvestment?.plan?.currency),1)])]),n("li",ue,[p(d,{name:"fluent:chevron-right-12-filled",class:"h-3 w-3 text-current"}),n("span",de,[I(h(t.$t("Return of Investment"))+": ",1),n("span",me,h(v(Y).userInvestment?.plan?.roi+"%"),1)])])])]),n("div",fe,[p(f,{color:"danger",shape:"rounded",class:"w-full",disabled:v(Be),loading:v(Be),onClick:l[0]||(l[0]=e=>Ge.value=!0)},{default:g((()=>[n("span",null,h(t.$t("Cancel Plan")),1)])),_:1},8,["disabled","loading"])])])])),_:1})]),p(m,{class:"flex h-full flex-col p-5 relative flex-1"},{default:g((()=>[n("div",xe,[p(o,{as:"h3",size:"md",weight:"semibold",lead:"tight",class:"text-muted-800 dark:text-white"},{default:g((()=>[n("span",null,h(t.$t("Investment Progress")),1)])),_:1})]),n("div",pe,[p(x,$(k(v(B))),null,16)]),n("div",ge,[n("ul",null,[n("li",ve,[p(d,{name:"fluent:chevron-right-12-filled",class:"h-3 w-3 text-current"}),n("span",he,[I(h(t.$t("Started on"))+": ",1),n("span",we,h(("formatDate"in t?t.formatDate:v(E))(v(Y).userInvestment?.created_at)),1)])]),n("li",ye,[p(d,{name:"fluent:chevron-right-12-filled",class:"h-3 w-3 text-current"}),n("span",be,[I(h(t.$t("Ends"))+" ",1),n("span",_e,h(v(Re)),1)])])])])])),_:1}),p(m,{class:"p-6 flex-1 h-full"},{default:g((()=>[p(S,null,{image:g((()=>[Ie,$e])),action:g((()=>[p(u,{to:"/user/invest/new"},{default:g((()=>[p(f,{color:"primary",shape:"rounded",class:"w-full"},{default:g((()=>[n("span",null,h(t.$t("Upgrade Plan")),1)])),_:1})])),_:1})])),default:g((()=>[p(o,{as:"h4",size:"lg",weight:"light",lead:"tight",class:"text-muted-800 mb-1 dark:text-white"},{default:g((()=>[n("span",null,h(t.$t("Upgrade Investment Plan")),1)])),_:1}),p(c,{size:"sm"},{default:g((()=>[n("span",ke,h(t.$t("Upgrade your investment plan to earn more profit")),1)])),_:1})])),_:1})])),_:1})])):(s(),a("div",je,[n("div",ze,[p(U,{height:"500px"}),n("div",Pe,[p(o,{as:"h4",weight:"medium",size:"xl",class:"text-muted-800 mb-1 mt-4 dark:text-white"},{default:g((()=>[I(h(t.$t("Unlock Your Earning Potential"))+"! ",1)])),_:1}),n("p",De,h(t.$t("It looks like you're missing out on incredible earning opportunities. Click below to leap into a world of smart, secure, and profitable investments"))+". ",1),n("div",Te,[p(u,{to:"/user/invest/new"},{default:g((()=>[p(f,{color:"primary",shape:"rounded"},{default:g((()=>[n("span",null,h(t.$t("Start Investing")),1)])),_:1})])),_:1})])])])])),p(L,{open:v(Ge),size:"sm",onClose:l[2]||(l[2]=e=>Ge.value=!1)},{header:g((()=>[n("div",Ce,[n("h3",Ae,h(t.$t("Cancel Investment Plan")),1),p(M,{onClick:l[1]||(l[1]=e=>Ge.value=!1)})])])),footer:g((()=>[n("div",Ye,[n("div",Le,[p(f,{color:"danger",flavor:"solid",onClick:Ne,disabled:v(Be),loading:v(Be)},{default:g((()=>[n("span",null,h(t.$t("Cancel Plan")),1)])),_:1},8,["disabled","loading"])])])])),default:g((()=>[n("div",Se,[n("div",Ue,[n("h3",Me,h(t.$t("Are you sure"))+"? ",1),n("p",Ee,h(t.$t("Do you really want to cancel your investment plan? This process cannot be undone"))+". ",1)])])])),_:1},8,["open"])]),p(We,{category:"INVESTMENT"})])}}});export{We as default};
