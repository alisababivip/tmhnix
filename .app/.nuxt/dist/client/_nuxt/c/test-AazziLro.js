import{a as e,S as l,c as a,Q as s,r as t,O as u,w as n,Y as c,o as i,f as r,e as d,q as o,t as m,u as p,b as _,n as f,k as E,Z as g,_ as x,a0 as P,x as b,X as v}from"../e/entry-8qgg5CL-.js";import{_ as y}from"./BaseMessage.vue-Kpn2u5Rn.js";import{u as A}from"./useNotification--fi6QyMz.js";const R={class:"flex items-center justify-between p-4"},S={class:"flex items-center gap-2"},w={class:"p-4"},k={class:"mx-auto w-full max-w-5xl flex-col px-4 text-center space-y-5 pb-10"},M={class:"p-2 bg-gray-900 rounded text-white"},O={class:"text-muted-500 dark:text-muted-400 text-lg mb-4"},h=r("code",null,".env",-1),D=[r("code",null,"APP_NODEMAILER_SMTP_HOST",-1),r("br",null,null,-1),r("code",null,"APP_NODEMAILER_SMTP_PORT",-1),r("br",null,null,-1),r("code",null,"APP_NODEMAILER_SMTP_SENDER",-1),r("br",null,null,-1),r("code",null,"APP_NODEMAILER_SMTP_PASSWORD",-1)],I=[r("code",null,"APP_NODEMAILER_SERVICE",-1),r("br",null,null,-1),r("code",null,"APP_NODEMAILER_SERVICE_SENDER",-1),r("br",null,null,-1),r("code",null,"APP_NODEMAILER_SERVICE_PASSWORD",-1)],N={class:"mt-8"},C={key:2,class:"mt-4 flex justify-center"},L=e({__name:"test",setup(e){const L=l(),$=a((()=>L.getProfile)),T=s();a((()=>T.settings));const j=g(),V=t(null),z=t(!1),{testMailer:B}=A(),W=async()=>{try{await B($.value?.first_name,$.value?.email);V.value="Connection successful!",z.value=!0}catch(e){z.value=!1,V.value=e.data.message}};return(e,l)=>{const a=x,s=P,t=b,g=v,A=y,L=c;return i(),u(L,null,{default:n((()=>[r("div",R,[r("div",null,[d(a,{tag:"h2",size:"sm",weight:"medium",lead:"normal",class:"uppercase tracking-wider"},{default:n((()=>[o(m(e.$t("Email Credentials")),1)])),_:1}),d(s,{size:"xs",class:"text-muted-400"},{default:n((()=>[o(m(e.$t("Configure your email credentials")),1)])),_:1})]),r("div",S,[d(g,{class:"w-24",to:"/admin/settings/notification"},{default:n((()=>[d(t,{name:"line-md:chevron-left",class:"h-4 w-4 mr-1"}),o(" "+m(e.$t("Back")),1)])),_:1})])]),r("div",w,[r("div",k,[d(a,{tag:"h3",weight:"medium"},{default:n((()=>[o(m(e.$t("Your current mailer is"))+" ",1),r("code",M,m(p(j).public.appEmailer),1)])),_:1}),r("p",O,[o(m(e.$t("Please fill the following credentials in your"))+" ",1),h,o(" "+m(e.$t("file"))+": ",1)]),"nodemailer-smtp"===p(j).public.appEmailer?(i(),_("div",{key:0,class:f(["p-4 rounded-lg max-w-md mx-auto text-left",p(z)?"bg-success-100 dark:bg-success-800":"bg-muted-200 dark:bg-muted-700"])},D,2)):E("",!0),"nodemailer-service"===p(j).public.appEmailer?(i(),_("div",{key:1,class:f(["p-4 rounded-lg max-w-md mx-auto text-left",p(z)?"bg-success-100 dark:bg-success-800":"bg-muted-200 dark:bg-muted-700"])},I,2)):E("",!0),r("div",N,[d(g,{color:"primary",shape:"curved",onClick:W},{default:n((()=>[r("span",null,m(e.$t("Check Connection")),1)])),_:1})]),p(V)?(i(),_("div",C,[d(A,{type:p(z)?"success":"danger"},{default:n((()=>[o(m(p(V)),1)])),_:1},8,["type"])])):E("",!0)])])])),_:1})}}});export{L as default};
