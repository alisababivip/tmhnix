import{_ as e}from"./BaseInput.vue-iInHQMIA.js";import{_ as a}from"./BaseSelect.vue-p0KYznCX.js";import{a as l,z as s,r as t,c as r,E as o,b as u,e as i,w as n,o as m,u as p,p as c,f as d,t as v,q as f,O as g,F as h,B as w,k as b,x as _,X as k,ag as j}from"../e/entry-8qgg5CL-.js";import{_ as y,a as x}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as B}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as P}from"./TairoFlexTable-zdoraqRc.js";import{_ as F}from"./BasePagination.vue-eKZkqxB7.js";import{_ as T}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{u as V}from"./useP2P-NV4dmDWU.js";import{_ as $,a as L}from"./placeholder-search-4-dark-Jht91LnM.js";import"./input-id-wZ-Ta08j.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";const C={value:10},I={value:25},R={value:50},q={value:100},N=d("img",{class:"block dark:hidden",src:$,alt:"Placeholder image"},null,-1),O=d("img",{class:"hidden dark:block",src:L,alt:"Placeholder image"},null,-1),U={key:1,class:"w-full"},z={class:"flex items-start"},A={class:"mt-6"},E=l({__name:"reviews",setup(l){const{getP2POffer:$}=V(),L=s(),E=t(null),S=t(""),W=t(10),X=r((()=>parseInt(L.query.page??"1"))),D=r((()=>E.value?.reviews?.filter((e=>e.comment?.toLowerCase().includes(S.value.toLowerCase()))))),G=r((()=>{const e=(X.value-1)*W.value,a=e+W.value;return D.value?.slice(e,a)}));return o((async()=>{const e=await $(L.params.uuid);E.value=e.data.result})),(l,s)=>{const t=e,r=a,o=_,V=k,$=j,L=y,E=B,H=x,J=P,K=F,M=T;return m(),u("div",null,[i(M,null,{left:n((()=>[i(t,{modelValue:p(S),"onUpdate:modelValue":s[0]||(s[0]=e=>c(S)?S.value=e:null),icon:"lucide:search",classes:{wrapper:"w-full sm:w-auto"},placeholder:"Filter reviews..."},null,8,["modelValue"]),i(r,{modelValue:p(W),"onUpdate:modelValue":s[1]||(s[1]=e=>c(W)?W.value=e:null),label:"",classes:{wrapper:"w-full sm:w-40"}},{default:n((()=>[d("option",C,"10 "+v(l.$t("per page")),1),d("option",I,"25 "+v(l.$t("per page")),1),d("option",R,"50 "+v(l.$t("per page")),1),d("option",q,"100 "+v(l.$t("per page")),1)])),_:1},8,["modelValue"])])),right:n((()=>[i(V,{type:"button",color:"muted",class:"hover:bg-gray-300 dark:hover:bg-gray-800",to:"/user/p2p/offers"},{default:n((()=>[i(o,{name:"line-md:chevron-left",class:"h-4 w-4 mr-2"}),f(" "+v(l.$t("Back")),1)])),_:1})])),default:n((()=>[d("div",null,[0!==p(G)?.length&&p(G)?(m(),u("div",U,[i(J,{class:"pt-5"},{default:n((()=>[(m(!0),u(h,null,w(p(G),((e,a)=>(m(),g(H,{key:e.id,spaced:""},{start:n((()=>[i(L,{label:"Review","hide-label":a>0,image:e.reviewer?.avatar,title:e.reviewer?.first_name+" "+e.reviewer?.last_name,subtitle:e.comment},null,8,["hide-label","image","title","subtitle"])])),end:n((()=>[i(E,{label:"Rating","hide-label":a>0,class:"w-20 xs:w-full"},{default:n((()=>[d("div",z,[d("span",null,v(e.rating)+" / 5",1),i(o,{name:"uim:star",class:"w-5 h-5 text-warning-300 ml-1 mb-1"})])])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1})])):(m(),g($,{key:0,title:p(S)&&""!==p(S)?"No matching results":"No results",subtitle:p(S)&&""!==p(S)?"Looks like we couldn't find any matching results for your search terms. Try other search terms.":"Looks like we don't have any data here yet."},{image:n((()=>[N,O])),_:1},8,["title","subtitle"])),d("div",A,[p(D)?.length>p(W)?(m(),g(K,{key:0,"total-items":p(D)?.length,"current-page":p(X),"item-per-page":p(W)},null,8,["total-items","current-page","item-per-page"])):b("",!0)])])])),_:1})])}}});export{E as default};
