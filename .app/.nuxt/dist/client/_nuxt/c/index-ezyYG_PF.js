import{a as s,U as a,Q as e,S as t,c as i,r as l,E as d,ad as n,b as o,f as r,F as c,B as u,u as m,e as g,w as p,n as v,Y as f,o as h,q as _,t as y,p as x,g as b,_ as P}from"../e/entry-8qgg5CL-.js";import{_ as w}from"./transfer.vue-xUPtEXCI.js";import{_ as j}from"./BaseInput.vue-iInHQMIA.js";import{u as k}from"./useP2P-NV4dmDWU.js";import"./client-only-nGApKnAn.js";import"./input-id-wZ-Ta08j.js";const A=""+globalThis.__publicAssetsURL("img/banner/passive_income.svg"),S={class:"space-y-5"},T={class:"grid gap-2 grid-cols-1 md:grid-cols-2"},U={class:"grid gap-2 grid-cols-2"},V={class:"grid gap-2 grid-cols-1 sm:grid-cols-2 md:grid-cols-2"},z=r("div",null,[r("img",{src:A})],-1),B=r("small",null,[r("span",{class:"text-xs text-muted-500 dark:text-muted-400"}," Please note that this commission is charged on every P2P trade ")],-1),C=s({__name:"index",setup(s){const{updateSettings:A}=a(),C=e(),F=t(),R=i((()=>F.getPermissions)),Y=i((()=>F.getRole)),q=i((()=>C.settings)),{getAdminP2pAnalytics:D}=k(),E=l({});d((async()=>{await async function(){const s=await D();"success"===s.status&&(E.value=s.data.result)}()}));const{toast:I}=n(),L=l(q.value?.p2p_trade_commission||0),Q=async()=>{if(R.value.some((s=>s.includes("Access Settings")))||"Super Admin"===Y.value)try{const s=await A({p2p_trade_commission:L.value});I.response(s),"success"===s.status&&(await A(L.value),await C.invalidateCacheAndFetch())}catch(s){I.danger(s)}else I.dangerText("You do not have permission to edit the default layout.")};return(s,a)=>{const e=b,t=P,i=f,l=w,d=j;return h(),o("div",S,[r("div",T,[r("div",U,[(h(!0),o(c,null,u(m(E).metrics,((s,a)=>(h(),o("div",{class:"relative",key:a},[g(i,{class:"space-y-1 p-5"},{default:p((()=>[g(e,{size:"xs",class:"text-muted-500 dark:text-muted-400"},{default:p((()=>[_(y(s.metric),1)])),_:2},1024),g(t,{size:"lg",weight:"semibold",class:"text-muted-800 dark:text-white"},{default:p((()=>[r("span",null,y(s.value),1)])),_:2},1024)])),_:2},1024)])))),128))]),g(l,{height:"400px"})]),r("div",V,[z,r("div",null,[g(i,{class:v(["p-5",{"bg-success-50 dark:bg-success-900":m(E)?.profit?.value>0,"bg-danger-50 dark:bg-danger-900":m(E)?.profit?.value<0}])},{default:p((()=>[g(d,{modelValue:m(L),"onUpdate:modelValue":[a[0]||(a[0]=s=>x(L)?L.value=s:null),Q],label:"P2P Trade Commission",placeholder:"This is the commission charged on every P2P trade",type:"number",icon:"%"},null,8,["modelValue"]),B])),_:1},8,["class"])])])])}}});export{C as default};
