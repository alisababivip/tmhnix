import{a,h as e,c as n,z as t,o as s,b as i,e as o,w as l,j as u,n as r,A as c,q as p,f as g,u as d,t as h,k as f,F as v,B as m,C as k,x as y}from"../e/entry-8qgg5CL-.js";import{_ as P}from"./BaseFocusLoop.vue-E4yqAJcg.js";const x={key:0},b={key:1},_={key:2},K=a({__name:"BasePagination",props:{itemPerPage:{},totalItems:{},currentPage:{default:1},maxLinksDisplayed:{default:3},noRouter:{type:Boolean},routerQueryKey:{default:"page"},shape:{default:void 0},previousIcon:{default:"lucide:chevron-left"},nextIcon:{default:"lucide:chevron-right"},ellipsis:{default:"â€¦"}},emits:["update:currentPage"],setup(a,{emit:K}){const C=a,M=K,w=e();n((()=>C.shape??w.nui.defaultShapes?.pagination));const I={straight:"",rounded:"nui-pagination-rounded",smooth:"nui-pagination-smooth",curved:"nui-pagination-curved",full:"nui-pagination-full"},B=t(),D=n((()=>Math.ceil(C.totalItems/C.itemPerPage)||1)),L=n((()=>D.value>C.maxLinksDisplayed+2?C.maxLinksDisplayed+2:D.value)),$=n((()=>{const a=[];let e=C.currentPage-Math.floor(L.value/2),n=e+(L.value-Math.ceil(L.value%2));e<1&&(e=1,n=e+(L.value-1)),n>D.value&&(n=D.value,e=n-(L.value-1));for(let t=e;t<=n;t+=1)t!==e&&t!==n&&a.push(t);return a})),j=n((()=>D.value>1)),q=(a=1)=>{if(C.noRouter)return{};const e=Math.max(1,Math.min(a,D.value)),n={...B.query};return C.routerQueryKey&&(n[C.routerQueryKey]=e<=1?void 0:e),{name:B.name,params:B.params,query:n}},Q=(a,e=1)=>{const n=Math.max(1,Math.min(e,D.value));if(M("update:currentPage",n),C.noRouter)return a.preventDefault(),a.stopPropagation(),!1};return(a,e)=>{const n=k,t=P,K=y;return s(),i("div",{class:r(["nui-pagination",[C.shape&&I[C.shape]]])},[o(t,{as:"ul",class:r(["nui-pagination-list",C.shape&&I[C.shape]])},{default:l((()=>[u(a.$slots,"before-pagination"),g("li",null,[o(n,{to:q(1),tabindex:"0",class:r(["nui-pagination-link",[1===a.currentPage&&"nui-active",C.shape&&I[C.shape]]]),onKeydown:e[0]||(e[0]=c((a=>a.target.click()),["space"])),onClick:e[1]||(e[1]=a=>Q(a,1))},{default:l((()=>[p(" 1 ")])),_:1},8,["to","class"])]),d(j)&&d($).length>0&&d($)[0]>2?(s(),i("li",x,[g("span",{class:r(["nui-pagination-ellipsis",[C.shape&&I[C.shape]]])},h(C.ellipsis),3)])):f("",!0),(s(!0),i(v,null,m(d($),(t=>(s(),i("li",{key:t},[o(n,{to:q(t),tabindex:"0","aria-current":a.currentPage===t?"page":void 0,class:r(["nui-pagination-link",[a.currentPage===t&&"nui-active",C.shape&&I[C.shape]]]),onKeydown:e[2]||(e[2]=c((a=>a.target.click()),["space"])),onClick:a=>Q(a,t)},{default:l((()=>[p(h(t),1)])),_:2},1032,["to","aria-current","class","onClick"])])))),128)),d(j)&&d($)[d($).length-1]<d(D)-1?(s(),i("li",b,[g("span",{class:r(["nui-pagination-ellipsis",[C.shape&&I[C.shape]]])},h(C.ellipsis),3)])):f("",!0),d(j)?(s(),i("li",_,[o(n,{to:q(d(D)),tabindex:"0",class:r(["nui-pagination-link",[a.currentPage===d(D)&&"nui-active",C.shape&&I[C.shape]]]),onKeydown:e[3]||(e[3]=c((a=>a.target.click()),["space"])),onClick:e[4]||(e[4]=a=>Q(a,d(D)))},{default:l((()=>[p(h(d(D)),1)])),_:1},8,["to","class"])])):f("",!0),u(a.$slots,"after-pagination")])),_:3},8,["class"]),o(t,{class:r(["nui-pagination-buttons",C.shape&&I[C.shape]])},{default:l((()=>[u(a.$slots,"before-navigation"),o(n,{to:q(a.currentPage-1),tabindex:"0",class:"nui-pagination-button",onKeydown:e[5]||(e[5]=c((a=>a.target.click()),["space"])),onClick:e[6]||(e[6]=e=>Q(e,a.currentPage-1))},{default:l((()=>[o(K,{name:a.previousIcon,class:"pagination-button-icon"},null,8,["name"])])),_:1},8,["to"]),o(n,{to:q(a.currentPage+1),tabindex:"0",class:"nui-pagination-button",onKeydown:e[7]||(e[7]=c((a=>a.target.click()),["space"])),onClick:e[8]||(e[8]=e=>Q(e,a.currentPage+1))},{default:l((()=>[o(K,{name:a.nextIcon,class:"pagination-button-icon"},null,8,["name"])])),_:1},8,["to"]),u(a.$slots,"after-navigation")])),_:3},8,["class"])],2)}}});export{K as _};
