import{a as e,r as s,E as a,ad as t,b as l,f as c,F as i,B as n,u as r,e as o,w as d,Y as u,an as p,o as m,q as f,t as x,O as g,k as h,n as v,p as y,g as k,_ as w,x as b,X as _,ao as C}from"../e/entry-8qgg5CL-.js";import{_ as A}from"./BaseTag.vue-NMkN1Uk8.js";import{_ as E}from"./BaseAvatar.vue-XYSxxLJP.js";import{_ as P}from"./BaseInput.vue-iInHQMIA.js";import{u as B}from"./useEcosystem-9eBUNbsT.js";import"./input-id-wZ-Ta08j.js";const S={class:"space-y-5"},T={class:"grid gap-4 grid-cols-1 sm:grid-cols-3 md:grid-cols-4"},j={class:"flex justify-between items-center"},z={class:"grid gap-5 mt-5 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},$={class:"text-sm"},O={class:"text-xs"},V={key:0},I=c("span",{class:"text-muted-500"},"Node: ",-1),W={class:"text-info-500"},M={class:"flex w-full items-center justify-between p-4 md:p-6"},D={class:"font-heading text-muted-900 text-lg font-medium leading-6 dark:text-white"},L={class:"p-4 md:p-6"},R={class:"mx-auto w-full text-start"},U={class:"font-alt text-muted-500 dark:text-muted-400 text-sm leading-5 mb-3"},G={class:"p-4 md:p-6"},H={class:"flex gap-x-2"},F=e({__name:"index",setup(e){const{setEcosystemPassphrase:F,getEcosystemAnalytics:N}=B(),Y=s({});async function q(){const e=await N();"success"===e.status&&(Y.value=e.data.result)}a((async()=>{await q()}));const{toast:Q}=t(),X=s(!1),J=s(!1),K=s(""),Z=e=>{switch(e){case"ETH":return"eth";case"BSC":return"bnb";case"POLYGON":return"matic";case"FTM":return"ftm";case"OPTIMISM":return"op";case"ARBITRUM":return"arbitrum";case"BASE":return"base";case"CELO":return"celo";case"BTC":return"btc";case"LTC":return"ltc";case"DOGE":return"doge";case"DASH":return"dash"}};const ee=["BTC","LTC","DOGE","DASH"];return(e,s)=>{const a=k,t=w,B=u,N=b,se=A,ae=_,te=E,le=C,ce=P,ie=p;return m(),l("div",S,[c("div",T,[(m(!0),l(i,null,n(r(Y).metrics,((e,s)=>(m(),l("div",{class:"relative",key:s},[o(B,{class:"space-y-1 p-5"},{default:d((()=>[o(a,{size:"xs",class:"text-muted-500 dark:text-muted-400"},{default:d((()=>[f(x(e.metric),1)])),_:2},1024),o(t,{size:"lg",weight:"semibold",class:"text-muted-800 dark:text-white"},{default:d((()=>[c("span",null,x(e.value),1)])),_:2},1024)])),_:2},1024)])))),128))]),c("div",null,[o(B,{class:"space-y-5 p-5"},{default:d((()=>[c("div",j,[c("div",null,[o(t,{size:"lg",weight:"semibold",class:"text-muted-800 dark:text-white"},{default:d((()=>[c("span",null,x(e.$t("Ecosystem Blockchains")),1)])),_:1}),o(a,{size:"xs",class:"text-muted-500 dark:text-muted-400"},{default:d((()=>[f(x(e.$t("Manage the blockchains of the ecosystem")),1)])),_:1})]),r(Y).isUnlockedVault?(m(),g(se,{key:0,shape:"rounded",color:"success",flavor:"pastel",class:"flex items-center gap-2"},{default:d((()=>[o(N,{name:"line-md:confirm-circle",size:"16"}),f(" Vault Active")])),_:1})):r(Y).isUnlockedVault?h("",!0):(m(),g(ae,{key:1,color:"success",onClick:s[0]||(s[0]=e=>J.value=!0),class:"ms-2"},{default:d((()=>[o(N,{name:"lucide:lock",size:"16",class:"mr-2"}),f(" "+x(e.$t("Initiate Vault")),1)])),_:1}))]),c("div",z,[(m(!0),l(i,null,n(r(Y).chains,((e,s)=>(m(),l("div",{key:s},[c("div",{class:v({"grayscale-0":ee.includes(e.chain)&&e.info.nodeProvider||e.info.rpc&&e.info.rpcWss&&e.info.explorerApi,grayscale:ee.includes(e.chain)&&!e.info.nodeProvider||!e.info.rpc||!e.info.rpcWss||!e.info.explorerApi})},[o(te,{src:`/img/crypto/${Z(e.chain)}.png`,shape:"full",size:"md"},null,8,["src"])],2),c("span",$,x(e.chain)+" ("+x(e.info.network)+")",1),c("ul",O,[ee.includes(e.chain)?(m(),l("li",V,[I,c("span",W,x(e.info.nodeProvider),1)])):(m(),l(i,{key:1},[c("li",{class:v(["flex items-center gap-2",{"text-success-500":e.info.rpc,"text-danger-500":!e.info.rpc}])},[o(N,{name:e.info.rpc?"lucide:check":"lucide:x",class:"h-3 w-3 text-current"},null,8,["name"]),f(" RPC ")],2),c("li",{class:v(["flex items-center gap-2",{"text-success-500":e.info.rpcWss,"text-danger-500":!e.info.rpcWss}])},[o(N,{name:e.info.rpcWss?"lucide:check":"lucide:x",class:"h-3 w-3 text-current"},null,8,["name"]),f(" RPC WSS ")],2),c("li",{class:v(["flex items-center gap-2",{"text-success-500":e.info.explorerApi,"text-danger-500":!e.info.explorerApi}])},[o(N,{name:e.info.explorerApi?"lucide:check":"lucide:x",class:"h-3 w-3 text-current"},null,8,["name"]),f(" Explorer API ")],2)],64))])])))),128))])])),_:1})]),o(ie,{open:r(J),size:"sm",onClose:s[5]||(s[5]=e=>J.value=!1)},{header:d((()=>[c("div",M,[c("h3",D,x(e.$t("Set Ecosystem Passphrase")),1),o(le,{onClick:s[1]||(s[1]=e=>J.value=!1)})])])),footer:d((()=>[c("div",G,[c("div",H,[o(ae,{onClick:s[3]||(s[3]=e=>J.value=!1)},{default:d((()=>[f(x(e.$t("Cancel")),1)])),_:1}),o(ae,{color:"primary",flavor:"solid",onClick:s[4]||(s[4]=e=>async function(){X.value=!0;try{const e=await F(K.value);Q.response(e),"success"===e.status&&await q()}catch(e){Q.danger(e)}X.value=!1,J.value=!1,K.value=""}()),disabled:r(X),loading:r(X)},{default:d((()=>[f(x(e.$t("Submit")),1)])),_:1},8,["disabled","loading"])])])])),default:d((()=>[c("div",L,[c("div",R,[c("p",U,x(e.$t("Please enter the passphrase of the ecosystem vault"))+". ",1),o(ce,{modelValue:r(K),"onUpdate:modelValue":s[2]||(s[2]=e=>y(K)?K.value=e:null),label:"Passphrase",placeholder:"Enter passphrase",type:"password",disabled:r(X),loading:r(X)},null,8,["modelValue","disabled","loading"])])])])),_:1},8,["open"])])}}});export{F as default};
