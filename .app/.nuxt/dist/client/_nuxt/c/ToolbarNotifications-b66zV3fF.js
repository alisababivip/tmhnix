import{a as t,S as e,c as s,E as a,o as i,b as o,e as n,w as r,u as l,f as d,T as c,t as u,q as m,F as f,n as x,O as v,B as g,x as p,C as h}from"../e/entry-8qgg5CL-.js";import{u as y}from"./notifications-NrJ2Q6Yy.js";import{R as b,h as w,y as k,M as j}from"./menu-KWZreDHB.js";import"./useNotification--fi6QyMz.js";import"./use-text-value-9iwzs_EA.js";const _={class:"group inline-flex items-center justify-center text-right"},C={type:"button",class:"group-hover:ring-muted-200 dark:group-hover:ring-muted-700 dark:ring-offset-muted-900 inline-flex h-9 w-9 items-center justify-center rounded-full ring-1 ring-transparent transition-all duration-300 group-hover:ring-offset-4"},N={class:"border-muted-200 dark:border-muted-700 dark:bg-muted-800 flex h-9 w-9 items-center justify-center rounded-full border bg-white"},P={class:"p-4"},$={class:"relative flex items-center justify-between"},D={class:"font-heading text-muted-500 dark:text-muted-200 text-xs uppercase"},L={class:"p-4 max-h-64 overflow-y-auto overflow-x-hidden"},S={class:"relative inline-flex items-center justify-center"},T={class:"ms-2"},q={class:"font-heading text-muted-800 text-xs font-semibold leading-tight dark:text-white"},A={class:"text-muted-500 dark:text-muted-400 font-normal"},B={class:"text-muted-400 font-sans text-xs"},E={key:1,class:"text-center text-slate-300 text-sm"},F=t({__name:"ToolbarNotifications",setup(t){const F=e();s((()=>F.getProfile));const I=y(),M=s((()=>I.notifications));return a((async()=>{0===I.notifications?.length&&F.isLoggedIn&&await I.fetchNotifications()})),(t,e)=>{const s=p,a=h;return i(),o("div",_,[n(l(j),{as:"div",class:"relative h-9 w-9 text-left"},{default:r((({close:e})=>[n(l(b),{as:"div"},{default:r((()=>[d("button",C,[d("span",N,[n(s,{name:"ph:bell-duotone",class:"text-muted-400 h-5 w-5"})])])])),_:1}),n(c,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:r((()=>[n(l(w),{class:"divide-muted-100 border-muted-200 dark:divide-muted-700 dark:border-muted-700 dark:bg-muted-800 absolute end-0 mt-2 w-72 origin-top-right divide-y rounded-md border bg-white shadow-lg focus:outline-none"},{default:r((()=>[d("div",P,[d("div",$,[d("h4",D,u(t.$t("Notifications")),1),n(a,{to:"/user/notifications",class:"font-alt text-primary-500 text-sm font-semibold",onClickPassive:e},{default:r((()=>[m(u(t.$t("View All")),1)])),_:2},1032,["onClickPassive"])])]),d("div",L,[l(M).length>0?(i(!0),o(f,{key:0},g(l(M),(t=>(i(),v(l(k),{as:"div"},{default:r((({active:i})=>[n(a,{to:t.link,class:x(["group flex w-full items-center rounded-md p-2 text-sm transition-colors duration-300",[i?"bg-muted-100 dark:bg-muted-700 text-primary-500":"text-muted-500"]]),onClickPassive:s=>async function(t,e){await I.deleteNotification(t),e()}(t.id,e)},{default:r((()=>{return[d("div",S,[n(s,{name:"line-md:moon-alt-to-sunny-outline-loop-transition",class:"text-muted-400 h-6 w-6"})]),d("div",T,[d("h6",q,[m(u(t.title)+" ",1),d("span",A,u(t.message),1)]),d("p",B,u((e=t.created_at,new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))),1)])];var e})),_:2},1032,["to","class","onClickPassive"])])),_:2},1024)))),256)):(i(),o("div",E,u(t.$t("No activity yet"))+". ",1))])])),_:2},1024)])),_:2},1024)])),_:1})])}}});export{F as default};
