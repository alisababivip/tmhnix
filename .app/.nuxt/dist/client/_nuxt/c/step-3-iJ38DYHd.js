import{_ as e}from"./WizardStepTitle.vue-i3gP8sdL.js";import{a,ac as s,r as n,Z as l,b as t,e as c,f as u,q as o,t as d,u as r,n as i,k as m,w as g,X as _,o as b}from"../e/entry-8qgg5CL-.js";import{_ as p}from"./BaseMessage.vue-Kpn2u5Rn.js";import{u as x}from"./multi-step-form-Tb8qYR9z.js";const P={class:"mx-auto w-full max-w-5xl flex-col px-4 text-center"},A={class:"text-muted-500 text-lg mb-4"},f=u("code",null,".env",-1),v=[u("code",null,'APP_ACTIVE_EXCHANGE="kucoin"',-1),u("br",null,null,-1),u("code",null,"APP_KUCOIN_API_KEY",-1),u("br",null,null,-1),u("code",null,"APP_KUCOIN_API_SECRET",-1),u("br",null,null,-1),u("code",null,"APP_KUCOIN_API_PASSPHRASE",-1)],h=[u("code",null,'APP_ACTIVE_EXCHANGE="binance"',-1),u("br",null,null,-1),u("code",null,"APP_BINANCE_API_KEY",-1),u("br",null,null,-1),u("code",null,"APP_BINANCE_API_SECRET",-1)],k={class:"mt-8"},C={key:2,class:"mt-4 flex justify-center"},y={class:"text-gray-800 dark:text-gray-200"},E=a({__name:"step-3",setup(a){const E=s(),{data:I}=x();I.value.exchange||E.push("/admin/exchange/wizard");const w=n(null),N=l().public.apiPath,S=async()=>{try{const e=await $fetch(`${N}/api/exchange/settings/check/connection`,{credentials:"include",headers:{"client-platform":"browser"},query:{exchange:I.value.exchange}});"success"===e.status?(w.value=e.data.result?"Connection successful!":"Connection failed!",I.value.connection=e.data.result):w.value=e.error.message}catch(e){I.value.connection=!1,w.value=e.data.message}};return(a,s)=>{const n=e,l=_,x=p;return b(),t("div",null,[c(n),u("div",P,[u("p",A,[o(d(a.$t("Please add the following credentials to your"))+" ",1),f,o(" "+d(a.$t("file"))+": ",1)]),"kucoin"===r(I).exchange?(b(),t("div",{key:0,class:i(["bg-muted-200 dark:bg-muted-800 p-4 rounded-lg max-w-md mx-auto",r(I).connection?"bg-success-100 dark:bg-success-600":"bg-muted-200 dark:bg-muted-800"])},v,2)):m("",!0),"binance"===r(I).exchange?(b(),t("div",{key:1,class:i(["bg-muted-200 dark:bg-muted-800 p-4 rounded-lg max-w-md mx-auto",r(I).connection?"bg-success-100 dark:bg-success-600":"bg-muted-200 dark:bg-muted-800"])},h,2)):m("",!0),u("div",k,[c(l,{color:"primary",shape:"curved",onClick:S},{default:g((()=>[u("span",null,d(a.$t("Check Connection")),1)])),_:1})]),r(w)?(b(),t("div",C,[c(x,{type:r(I).connection?"success":"danger"},{default:g((()=>[u("span",y,d(r(w)),1)])),_:1},8,["type"])])):m("",!0)])])}}});export{E as default};
