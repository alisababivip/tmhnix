import{_ as e}from"./BaseInput.vue-iInHQMIA.js";import{_ as t}from"./BaseSelect.vue-p0KYznCX.js";import{a,z as l,ad as r,r as o,c as s,ac as d,E as i,J as n,b as u,e as c,w as m,u as p,an as v,o as g,p as f,f as b,t as h,q as x,O as y,af as w,F as k,B as C,k as j,W as _,A as V,n as $,x as B,X as D,ag as U,ao as S}from"../e/entry-8qgg5CL-.js";import{_ as T,a as F}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as z}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as I,a as P}from"./BaseDropdown.vue-wSpyT9xX.js";import{_ as W}from"./TairoFlexTable-zdoraqRc.js";import{_ as q}from"./BasePagination.vue-eKZkqxB7.js";import{_ as R}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{_ as M}from"./BaseTextarea.vue-8st5U0qk.js";import{_ as N}from"./BaseProgress.vue-xH0Mhn3Z.js";import{_ as O}from"./BaseInputFileHeadless.vue-LOgyN9kF.js";import{u as A}from"./useBlog-0Y19BpbN.js";import{u as K}from"./fetch-i3Y1jjTS.js";import{b as L}from"./strings-rQgUKePI.js";import{_ as E,a as J}from"./placeholder-search-4-dark-Jht91LnM.js";import{_ as H}from"./placeholder-file-IxKzOaSl.js";import{u as X}from"./category-0GoymeMT.js";import{z as G,u as Q,t as Y,F as Z}from"./vee-validate.esm-n59zZCC5.js";import"./input-id-wZ-Ta08j.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./menu-KWZreDHB.js";import"./use-text-value-9iwzs_EA.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";const ee={value:10},te={value:25},ae={value:50},le={value:100},re={class:"w-full"},oe=b("img",{class:"block dark:hidden",src:E,alt:"Placeholder image"},null,-1),se=b("img",{class:"hidden dark:block",src:J,alt:"Placeholder image"},null,-1),de={key:1,class:"w-full sm:pt-5"},ie={class:"mt-6"},ne={class:"flex w-full items-center justify-between p-4 md:p-6"},ue={class:"font-heading text-muted-900 text-lg font-medium leading-6 dark:text-white"},ce={class:"p-4 md:p-6"},me={class:"mx-auto w-full text-center"},pe={class:"font-heading text-muted-800 text-lg font-medium leading-6 dark:text-white"},ve={class:"font-alt text-muted-500 dark:text-muted-400 text-sm leading-5 mb-3"},ge={class:"p-4 md:p-6"},fe={class:"flex gap-x-2"},be={class:"flex w-full items-center justify-between p-4 md:p-6"},he={class:"font-heading text-muted-900 text-lg font-medium leading-6 dark:text-white"},xe={class:"p-4 md:p-6"},ye={class:"mx-auto w-full text-start"},we={class:"font-alt text-muted-500 dark:text-muted-400 text-sm leading-5 mb-3"},ke={class:"grid gap-5 grid-cols-2"},Ce={class:"col-span-2"},je={class:"grid grid-cols-1 sm:grid-cols-2 gap-6 w-full col-span-2"},_e=["onDrop"],Ve=["onClick","onKeydown"],$e={class:"p-5 text-center"},Be={class:"text-muted-400 font-sans text-sm"},De={class:"text-muted-400 font-sans text-[0.7rem] font-semibold uppercase"},Ue={for:"file",class:"text-muted-400 group-hover:text-primary-500 group-focus:text-primary-500 cursor-pointer font-sans text-sm underline underline-offset-4 transition-colors duration-300"},Se={key:1,class:"mt-6 space-y-2"},Te={class:"border-muted-200 dark:border-muted-700 dark:bg-muted-800 relative flex items-center justify-end gap-2 rounded-xl border bg-white p-3"},Fe={class:"flex items-center gap-2"},ze={class:"shrink-0"},Ie=["src"],Pe={key:1,class:"h-14 w-14 rounded-xl object-cover object-center",src:H,alt:"Image preview"},We={class:"font-sans"},qe={class:"text-muted-800 dark:text-muted-100 line-clamp-1 block text-sm"},Re={class:"text-muted-400 block text-xs"},Me={class:"flex gap-2"},Ne={class:"border-muted-200 hover:border-primary-500 text-muted-700 dark:text-muted-200 hover:text-primary-600 dark:border-muted-700 dark:bg-muted-900 dark:hover:border-primary-500 dark:hover:text-primary-600 relative flex h-8 w-8 cursor-pointer items-center justify-center rounded-full border bg-white transition-colors duration-300 disabled:cursor-not-allowed disabled:opacity-60",disabled:"",type:"button",tooltip:"Cancel"},Oe=b("span",{class:"sr-only"},"Cancel",-1),Ae={class:"border-muted-200 hover:border-primary-500 text-muted-700 dark:text-muted-200 hover:text-primary-600 dark:border-muted-700 dark:bg-muted-900 dark:hover:border-primary-500 dark:hover:text-primary-600 relative flex h-8 w-8 cursor-pointer items-center justify-center rounded-full border bg-white transition-colors duration-300",type:"button",tooltip:"Upload"},Ke=b("span",{class:"sr-only"},"Upload",-1),Le=["onClick"],Ee=b("span",{class:"sr-only"},"Remove",-1),Je={key:0,class:"mb-4 h-36 w-full flex items-center justify-center overflow-hidden rounded-xl"},He=["src"],Xe={class:"p-4 md:p-6"},Ge={class:"flex gap-x-2"},Qe={class:"flex w-full items-center justify-between p-4 md:p-6"},Ye={class:"font-heading text-muted-900 text-lg font-medium leading-6 dark:text-white"},Ze={class:"p-4 md:p-6"},et={class:"mx-auto w-full text-start"},tt={class:"font-alt text-muted-500 dark:text-muted-400 text-sm leading-5 mb-3"},at={class:"grid gap-5 grid-cols-2"},lt={class:"col-span-2"},rt={class:"grid grid-cols-1 sm:grid-cols-2 gap-6 w-full col-span-2"},ot=["onDrop"],st=["onClick","onKeydown"],dt={class:"p-5 text-center"},it={class:"text-muted-400 font-sans text-sm"},nt={class:"text-muted-400 font-sans text-[0.7rem] font-semibold uppercase"},ut={for:"file",class:"text-muted-400 group-hover:text-primary-500 group-focus:text-primary-500 cursor-pointer font-sans text-sm underline underline-offset-4 transition-colors duration-300"},ct={key:1,class:"mt-6 space-y-2"},mt={class:"border-muted-200 dark:border-muted-700 dark:bg-muted-800 relative flex items-center justify-end gap-2 rounded-xl border bg-white p-3"},pt={class:"flex items-center gap-2"},vt={class:"shrink-0"},gt=["src"],ft={key:1,class:"h-14 w-14 rounded-xl object-cover object-center",src:H,alt:"Image preview"},bt={class:"font-sans"},ht={class:"text-muted-800 dark:text-muted-100 line-clamp-1 block text-sm"},xt={class:"text-muted-400 block text-xs"},yt={class:"flex gap-2"},wt={class:"border-muted-200 hover:border-primary-500 text-muted-700 dark:text-muted-200 hover:text-primary-600 dark:border-muted-700 dark:bg-muted-900 dark:hover:border-primary-500 dark:hover:text-primary-600 relative flex h-8 w-8 cursor-pointer items-center justify-center rounded-full border bg-white transition-colors duration-300 disabled:cursor-not-allowed disabled:opacity-60",disabled:"",type:"button",tooltip:"Cancel"},kt=b("span",{class:"sr-only"},"Cancel",-1),Ct={class:"border-muted-200 hover:border-primary-500 text-muted-700 dark:text-muted-200 hover:text-primary-600 dark:border-muted-700 dark:bg-muted-900 dark:hover:border-primary-500 dark:hover:text-primary-600 relative flex h-8 w-8 cursor-pointer items-center justify-center rounded-full border bg-white transition-colors duration-300",type:"button",tooltip:"Upload"},jt=b("span",{class:"sr-only"},"Upload",-1),_t=["onClick"],Vt=b("span",{class:"sr-only"},"Remove",-1),$t={key:0,class:"mb-4 h-36 w-full flex items-center justify-center overflow-hidden rounded-xl"},Bt=["src"],Dt={class:"p-4 md:p-6"},Ut={class:"flex gap-x-2"},St=a({__name:"index",setup(a){const E=X(),J=l(),{toast:H}=r(),{updateCategory:St,deleteCategory:Tt,createCategory:Ft}=A(),zt=o(!1),It=o(""),Pt=o(10),Wt=s((()=>parseInt(J.query.page??"1"))),qt=d(),Rt=o(""),Mt=s((()=>E.categories));i((async()=>{zt.value=!0,0===E.categories.length&&await E.fetchCategories(),zt.value=!1}));const Nt=s((()=>Mt.value.filter((e=>(It.value&&""!==It.value&&void 0!==It.value&&It.value!==Rt.value&&(qt.push({query:{...J.query,page:"1",filter:It.value}}),Rt.value=It.value),!It.value||e.name?.includes(It.value)))).sort(((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())))),Ot=s((()=>{const e=(Wt.value-1)*Pt.value,t=e+Pt.value;return Nt.value.slice(e,t)})),At=o(null),Kt=o(null);n(At,(e=>{const t=e?.item(0)||null;if(At.value){const e=new FileReader;e.onload=e=>{Kt.value=e.target?.result},e.readAsDataURL(t)}}));const Lt=o(!1),Et=o(!1);const Jt=G.object({name:G.string().nonempty("Name is required"),slug:G.string().nonempty("Slug is required"),description:G.string().nonempty("Description is required")}),Ht=s((()=>({name:"",slug:"",description:""}))),{isSubmitting:Xt,setFieldValue:Gt,handleSubmit:Qt}=Q({validationSchema:Y(Jt),initialValues:Ht}),Yt=o(!1);const Zt=Qt((async e=>{if(e.slug!==E.selectedCategory?.slug){if(E.categories.find((t=>t.slug===e.slug)))return void H.dangerText("Slug already exists")}let t={...e,image:E.selectedCategory?.image};if(At.value){const e=new FormData;e.append("files",At.value[0]),e.append("type","blogCategory"),e.append("oldImagePath",E.selectedCategory?.image||"");const a=await K("/api/upload",{method:"POST",body:e},"$oruRrbxjJu");a&&""!==a.data.value&&(t.image=a.data.value[0])}Xt.value=!0;try{const e=await St(E.selectedCategory?.id,t);E.categories=E.categories.map((e=>e.id===E.selectedCategory?.id?{...e,...t}:e)),H.response(e)}catch(a){H.danger(a)}Yt.value=!1,Xt.value=!1,E.selectedCategory=null})),ea=o(!1);function ta(){ea.value=!0}const aa=Qt((async e=>{if(E.categories.find((t=>t.slug===e.slug)))return void H.dangerText("Slug already exists");let t={...e,image:""};if(At.value){const e=new FormData;e.append("files",At.value[0]),e.append("type","blogCategory");const a=await K("/api/upload",{method:"POST",body:e},"$rd6DToOzjU");a&&""!==a.data.value&&(t.image=a.data.value[0])}Xt.value=!0;try{const e=await Ft(t);E.categories.push(e.data.result),H.response(e)}catch(a){H.danger(a)}ea.value=!1,Xt.value=!1,E.selectedCategory=null}));return(a,l)=>{const r=e,o=t,s=B,d=D,i=U,n=T,A=z,K=I,J=P,X=F,G=W,Q=q,Y=R,St=S,Ft=v,qt=M,Rt=N,Mt=O;return g(),u("div",null,[c(Y,null,{left:m((()=>[c(r,{modelValue:p(It),"onUpdate:modelValue":l[0]||(l[0]=e=>f(It)?It.value=e:null),icon:"lucide:search",classes:{wrapper:"w-full sm:w-auto"},placeholder:"Search Category Name..."},null,8,["modelValue"]),c(o,{modelValue:p(Pt),"onUpdate:modelValue":l[1]||(l[1]=e=>f(Pt)?Pt.value=e:null),label:"",classes:{wrapper:"w-full sm:w-40"}},{default:m((()=>[b("option",ee,"10 "+h(a.$t("per page")),1),b("option",te,"25 "+h(a.$t("per page")),1),b("option",ae,"50 "+h(a.$t("per page")),1),b("option",le,"100 "+h(a.$t("per page")),1)])),_:1},8,["modelValue"])])),right:m((()=>[b("div",re,[c(d,{color:"primary",flavor:"solid",onClick:ta,disabled:p(Xt),loading:p(Xt)},{default:m((()=>[c(s,{name:"line-md:plus",class:"me-2 block h-5 w-5"}),x(" "+h(a.$t("Create"))+" "+h(a.$t("Category")),1)])),_:1},8,["disabled","loading"])])])),default:m((()=>[b("div",null,[p(zt)||0!==p(Ot)?.length?(g(),u("div",de,[c(G,null,{default:m((()=>[c(w,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:m((()=>[(g(!0),u(k,null,C(p(Ot),((e,t)=>(g(),y(X,{key:e.id,spaced:""},{start:m((()=>[c(n,{label:"Category","hide-label":t>0,picture:e.image||"/img/placeholder.png",title:e.name,subtitle:e.slug},null,8,["hide-label","picture","title","subtitle"])])),end:m((()=>[c(A,{label:"Posts","hide-label":t>0,class:"w-20 xs:w-full"},{default:m((()=>[x(h(e.post?.length||0),1)])),_:2},1032,["hide-label"]),c(A,{label:"Actions","hide-label":t>0,class:"w-20 xs:justify-end xs:w-full"},{default:m((()=>[c(J,{flavor:"context",label:"Dropdown",orientation:"end"},{default:m((()=>[c(K,{to:`/blog/categories/${e.slug}`,title:"View Category"},{start:m((()=>[c(s,{name:"ph:eye-duotone",class:"me-2 block h-5 w-5"})])),_:2},1032,["to"]),c(K,{onClick:t=>{return a=e,E.selectedCategory=a,Gt("name",a.name),Gt("slug",a.slug),Gt("description",a.description),Kt.value=a.image,void(Yt.value=!0);var a},title:"Edit Category"},{start:m((()=>[c(s,{name:"line-md:edit-twotone",class:"me-2 block h-5 w-5"})])),_:2},1032,["onClick"]),c(K,{onClick:t=>function(e){E.selectedCategory=e,Lt.value=!0}(e),title:"Delete Category"},{start:m((()=>[c(s,{name:"line-md:close",class:"me-2 block h-5 w-5"})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1})])),_:1})])):(g(),y(i,{key:0,title:p(It)&&""!==p(It)?"No matching results":"No results",subtitle:p(It)&&""!==p(It)?"Looks like we couldn't find any matching results for your search terms. Try other search terms.":"Looks like we don't have any data here yet."},{image:m((()=>[oe,se])),_:1},8,["title","subtitle"])),b("div",ie,[p(Nt).length>p(Pt)?(g(),y(Q,{key:0,"total-items":p(Nt).length,"current-page":p(Wt),"item-per-page":p(Pt)},null,8,["total-items","current-page","item-per-page"])):j("",!0)])])])),_:1}),c(Ft,{open:p(Lt),size:"sm",onClose:l[5]||(l[5]=e=>Lt.value=!1)},{header:m((()=>[b("div",ne,[b("h3",ue,h(a.$t("Delete"))+" "+h(a.$t("Category")),1),c(St,{onClick:l[2]||(l[2]=e=>Lt.value=!1)})])])),footer:m((()=>[b("div",ge,[b("div",fe,[c(d,{onClick:l[3]||(l[3]=e=>Lt.value=!1)},{default:m((()=>[x(h(a.$t("Cancel")),1)])),_:1}),c(d,{color:"danger",flavor:"solid",onClick:l[4]||(l[4]=e=>async function(){Et.value=!0;try{const e=await Tt(E.selectedCategory?.id);H.response(e),"success"===e.status&&(E.categories=E.categories.filter((e=>e.id!==E.selectedCategory?.id)))}catch(e){H.danger(e)}Lt.value=!1,Et.value=!1,E.selectedCategory=null}()),disabled:p(Et),loading:p(Et)},{default:m((()=>[x(h(a.$t("Delete")),1)])),_:1},8,["disabled","loading"])])])])),default:m((()=>[b("div",ce,[b("div",me,[b("h3",pe,h(a.$t("Are you sure?")),1),b("p",ve,h(a.$t("Do you really want to delete this"))+" "+h(a.$t("category"))+" "+h(a.$t("This process cannot be undone"))+". "+h(a.$t("This will alse delete all the posts under this category"))+". ",1)])])])),_:1},8,["open"]),c(Ft,{open:p(Yt),size:"xl",onClose:l[11]||(l[11]=e=>Yt.value=!1)},{header:m((()=>[b("div",be,[b("h3",he,h(a.$t("Edit"))+" "+h(a.$t("Category")),1),c(St,{onClick:l[6]||(l[6]=e=>Yt.value=!1)})])])),footer:m((()=>[b("div",Xe,[b("div",Ge,[c(d,{onClick:l[10]||(l[10]=e=>Yt.value=!1)},{default:m((()=>[x(h(a.$t("Cancel")),1)])),_:1}),c(d,{color:"primary",flavor:"solid",onClick:p(Zt),disabled:p(Xt),loading:p(Xt)},{default:m((()=>[x(h(a.$t("Update")),1)])),_:1},8,["onClick","disabled","loading"])])])])),default:m((()=>[b("div",xe,[b("div",ye,[b("p",we,h(a.$t("Please update the"))+" "+h(a.$t("category"))+" "+h(a.$t("details"))+". ",1),b("div",ke,[c(p(Z),{name:"name"},{default:m((({field:e,errorMessage:t,handleChange:a,handleBlur:l})=>[c(r,{modelValue:e.value,"onUpdate:modelValue":[t=>e.value=t,a],error:t,disabled:p(Xt),type:"text",label:"Name",placeholder:"Write a name",shape:"curved",classes:{input:"h-12",wrapper:"max-w-xs"},onBlur:l},null,8,["modelValue","onUpdate:modelValue","error","disabled","onBlur"])])),_:1}),c(p(Z),{name:"slug"},{default:m((({field:e,errorMessage:t,handleChange:a,handleBlur:l})=>[c(r,{modelValue:e.value,"onUpdate:modelValue":[t=>e.value=t,a],error:t,disabled:p(Xt),type:"text",label:"Slug",placeholder:"Write a slug",shape:"curved",classes:{input:"h-12",wrapper:"max-w-xs"},onBlur:l},null,8,["modelValue","onUpdate:modelValue","error","disabled","onBlur"])])),_:1}),b("div",Ce,[c(p(Z),{name:"description"},{default:m((({field:e,errorMessage:t,handleChange:a,handleBlur:l})=>[c(qt,{modelValue:e.value,"onUpdate:modelValue":[t=>e.value=t,a],error:t,disabled:p(Xt),type:"text",label:"Description",placeholder:"Write a description ...",shape:"curved",class:"w-full",onBlur:l},null,8,["modelValue","onUpdate:modelValue","error","disabled","onBlur"])])),_:1})]),b("div",je,[c(Mt,{modelValue:p(At),"onUpdate:modelValue":l[9]||(l[9]=e=>f(At)?At.value=e:null)},{default:m((({open:e,remove:t,preview:r,drop:o,files:d})=>[b("div",{class:"",onDragenter:l[7]||(l[7]=_((()=>{}),["stop","prevent"])),onDragover:l[8]||(l[8]=_((()=>{}),["stop","prevent"])),onDrop:o},[d?.length?(g(),u("ul",Se,[(g(!0),u(k,null,C(d,(e=>(g(),u("li",{key:e.name},[b("div",Te,[b("div",Fe,[b("div",ze,[e.type.startsWith("image")?(g(),u("img",{key:0,class:"h-14 w-14 rounded-xl object-cover object-center",src:r(e).value,alt:"Image preview"},null,8,Ie)):(g(),u("img",Pe))]),b("div",We,[b("span",qe,h(e.name),1),b("span",Re,h(("formatFileSize"in a?a.formatFileSize:p(L))(e.size)),1)])]),b("div",{class:$(["ms-auto w-32 px-4 transition-opacity duration-300","opacity-100"])},[c(Rt,{value:0,size:"xs",color:"success"})]),b("div",Me,[b("button",Ne,[c(s,{name:"lucide:slash",class:"h-4 w-4"}),Oe]),b("button",Ae,[c(s,{name:"lucide:arrow-up",class:"h-4 w-4"}),Ke]),b("button",{class:"border-muted-200 hover:border-primary-500 text-muted-700 dark:text-muted-200 hover:text-primary-600 dark:border-muted-700 dark:bg-muted-900 dark:hover:border-primary-500 dark:hover:text-primary-600 relative flex h-8 w-8 cursor-pointer items-center justify-center rounded-full border bg-white transition-colors duration-300",type:"button",tooltip:"Remove",onClick:_((a=>t(e)),["prevent"])},[c(s,{name:"lucide:x",class:"h-4 w-4"}),Ee],8,Le)])])])))),128))])):(g(),u("div",{key:0,class:"nui-focus border-muted-300 dark:border-muted-700 hover:border-muted-400 focus:border-muted-400 dark:hover:border-muted-600 dark:focus:border-muted-700 group cursor-pointer rounded-lg border-[3px] border-dashed transition-colors duration-300",tabindex:"0",role:"button",onClick:e,onKeydown:V(_(e,["prevent"]),["enter"])},[b("div",$e,[c(s,{name:"mdi-light:cloud-upload",class:"text-muted-400 group-hover:text-primary-500 group-focus:text-primary-500 mb-2 h-10 w-10 transition-colors duration-300"}),b("h4",Be,h(a.$t("Drop file to upload")),1),b("div",null,[b("span",De,h(a.$t("Or")),1)]),b("label",Ue,h(a.$t("Select Image")),1)])],40,Ve))],40,_e)])),_:1},8,["modelValue"]),p(Kt)?(g(),u("div",Je,[b("img",{src:p(Kt),alt:"Image Preview",class:"max-h-full max-w-full object-cover object-center"},null,8,He)])):j("",!0)])])])])])),_:1},8,["open"]),c(Ft,{open:p(ea),size:"xl",onClose:l[17]||(l[17]=e=>ea.value=!1)},{header:m((()=>[b("div",Qe,[b("h3",Ye,h(a.$t("Create"))+" "+h(a.$t("Category")),1),c(St,{onClick:l[12]||(l[12]=e=>ea.value=!1)})])])),footer:m((()=>[b("div",Dt,[b("div",Ut,[c(d,{onClick:l[16]||(l[16]=e=>ea.value=!1)},{default:m((()=>[x(h(a.$t("Cancel")),1)])),_:1}),c(d,{color:"primary",flavor:"solid",onClick:p(aa),disabled:p(Xt),loading:p(Xt)},{default:m((()=>[x(h(a.$t("Create")),1)])),_:1},8,["onClick","disabled","loading"])])])])),default:m((()=>[b("div",Ze,[b("div",et,[b("p",tt,h(a.$t("Please enter the"))+" "+h(a.$t("category"))+" "+h(a.$t("details"))+". ",1),b("div",at,[c(p(Z),{name:"name"},{default:m((({field:e,errorMessage:t,handleChange:a,handleBlur:l})=>[c(r,{modelValue:e.value,"onUpdate:modelValue":[t=>e.value=t,a],error:t,disabled:p(Xt),type:"text",label:"Name",placeholder:"Write a name",shape:"curved",classes:{input:"h-12",wrapper:"max-w-xs"},onBlur:l},null,8,["modelValue","onUpdate:modelValue","error","disabled","onBlur"])])),_:1}),c(p(Z),{name:"slug"},{default:m((({field:e,errorMessage:t,handleChange:a,handleBlur:l})=>[c(r,{modelValue:e.value,"onUpdate:modelValue":[t=>e.value=t,a],error:t,disabled:p(Xt),type:"text",label:"Slug",placeholder:"Write a slug",shape:"curved",classes:{input:"h-12",wrapper:"max-w-xs"},onBlur:l},null,8,["modelValue","onUpdate:modelValue","error","disabled","onBlur"])])),_:1}),b("div",lt,[c(p(Z),{name:"description"},{default:m((({field:e,errorMessage:t,handleChange:a,handleBlur:l})=>[c(qt,{modelValue:e.value,"onUpdate:modelValue":[t=>e.value=t,a],error:t,disabled:p(Xt),type:"text",label:"Description",placeholder:"Write a description ...",shape:"curved",class:"w-full",onBlur:l},null,8,["modelValue","onUpdate:modelValue","error","disabled","onBlur"])])),_:1})]),b("div",rt,[c(Mt,{modelValue:p(At),"onUpdate:modelValue":l[15]||(l[15]=e=>f(At)?At.value=e:null)},{default:m((({open:e,remove:t,preview:r,drop:o,files:d})=>[b("div",{class:"",onDragenter:l[13]||(l[13]=_((()=>{}),["stop","prevent"])),onDragover:l[14]||(l[14]=_((()=>{}),["stop","prevent"])),onDrop:o},[d?.length?(g(),u("ul",ct,[(g(!0),u(k,null,C(d,(e=>(g(),u("li",{key:e.name},[b("div",mt,[b("div",pt,[b("div",vt,[e.type.startsWith("image")?(g(),u("img",{key:0,class:"h-14 w-14 rounded-xl object-cover object-center",src:r(e).value,alt:"Image preview"},null,8,gt)):(g(),u("img",ft))]),b("div",bt,[b("span",ht,h(e.name),1),b("span",xt,h(("formatFileSize"in a?a.formatFileSize:p(L))(e.size)),1)])]),b("div",{class:$(["ms-auto w-32 px-4 transition-opacity duration-300","opacity-100"])},[c(Rt,{value:0,size:"xs",color:"success"})]),b("div",yt,[b("button",wt,[c(s,{name:"lucide:slash",class:"h-4 w-4"}),kt]),b("button",Ct,[c(s,{name:"lucide:arrow-up",class:"h-4 w-4"}),jt]),b("button",{class:"border-muted-200 hover:border-primary-500 text-muted-700 dark:text-muted-200 hover:text-primary-600 dark:border-muted-700 dark:bg-muted-900 dark:hover:border-primary-500 dark:hover:text-primary-600 relative flex h-8 w-8 cursor-pointer items-center justify-center rounded-full border bg-white transition-colors duration-300",type:"button",tooltip:"Remove",onClick:_((a=>t(e)),["prevent"])},[c(s,{name:"lucide:x",class:"h-4 w-4"}),Vt],8,_t)])])])))),128))])):(g(),u("div",{key:0,class:"nui-focus border-muted-300 dark:border-muted-700 hover:border-muted-400 focus:border-muted-400 dark:hover:border-muted-600 dark:focus:border-muted-700 group cursor-pointer rounded-lg border-[3px] border-dashed transition-colors duration-300",tabindex:"0",role:"button",onClick:e,onKeydown:V(_(e,["prevent"]),["enter"])},[b("div",dt,[c(s,{name:"mdi-light:cloud-upload",class:"text-muted-400 group-hover:text-primary-500 group-focus:text-primary-500 mb-2 h-10 w-10 transition-colors duration-300"}),b("h4",it,h(a.$t("Drop file to upload")),1),b("div",null,[b("span",nt,h(a.$t("Or")),1)]),b("label",ut,h(a.$t("Select Image")),1)])],40,st))],40,ot)])),_:1},8,["modelValue"]),p(Kt)?(g(),u("div",$t,[b("img",{src:p(Kt),alt:"Image Preview",class:"max-h-full max-w-full object-cover object-center"},null,8,Bt)])):j("",!0)])])])])])),_:1},8,["open"])])}}});export{St as default};
