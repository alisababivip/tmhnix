import{_ as e}from"./BaseInput.vue-iInHQMIA.js";import{_ as t}from"./BaseSelect.vue-p0KYznCX.js";import{d as a,a as s,z as l,r as o,c as i,E as n,b as r,e as u,w as c,o as d,u as p,p as m,f as h,t as b,O as f,F as g,B as v,q as _,k as w,ag as y}from"../e/entry-8qgg5CL-.js";import{_ as C,a as k}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as j}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as I}from"./BaseTag.vue-NMkN1Uk8.js";import{_ as x}from"./TairoFlexTable-zdoraqRc.js";import{_ as B}from"./BasePagination.vue-eKZkqxB7.js";import{_ as E}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{a as T}from"./strings-rQgUKePI.js";import{_ as D,a as $}from"./placeholder-search-4-dark-Jht91LnM.js";import{u as V}from"./useIco-3A31FykS.js";import"./input-id-wZ-Ta08j.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";const F=a({id:"icoContribution",state:()=>({contributions:[],loading:!1,selectedContribution:null}),getters:{getContributionById:e=>t=>e.contributions.find((e=>e.id===t))},actions:{async fetchIcoContributions(){this.loading=!0;try{const{getIcoContributions:e}=V(),t=await e();this.contributions=t.data.result}catch(e){console.error("Error fetching deposit contributions:",e)}this.loading=!1},async removeContribution(e){const t=this.contributions.findIndex((t=>t.id===e));this.contributions.splice(t,1)},async selectContribution(e){this.selectedContribution=e},async selectContributionById(e){this.selectedContribution=this.contributions.find((t=>t.id===e))||null}}}),L={value:10},P={value:25},N={value:50},A={value:100},U=h("img",{class:"block dark:hidden",src:D,alt:"Placeholder image"},null,-1),R=h("img",{class:"hidden dark:block",src:$,alt:"Placeholder image"},null,-1),q={key:1,class:"w-full"},O={class:"mt-6"},S=s({__name:"contributions",setup(a){const s=F(),D=l(),$=o(""),V=o(10),S=i((()=>parseInt(D.query.page??"1"))),z=i((()=>s.contributions.filter((e=>e.uuid.includes($.value))))),G=i((()=>{const e=(S.value-1)*V.value,t=e+V.value;return z.value.slice(e,t)}));n((async()=>{0===s.contributions.length&&(s.loading=!0,await s.fetchIcoContributions(),s.loading=!1)}));const J=e=>{switch(e){case"PENDING":return"warning";case"ACTIVE":return"success";case"COMPLETED":return"info";case"CANCELLED":case"REJECTED":return"danger"}};return(a,l)=>{const o=e,i=t,n=y,D=C,F=j,M=I,W=k,H=x,K=B,Q=E;return d(),r("div",null,[u(Q,null,{left:c((()=>[u(o,{modelValue:p($),"onUpdate:modelValue":l[0]||(l[0]=e=>m($)?$.value=e:null),icon:"lucide:search",classes:{wrapper:"w-full sm:w-auto"},placeholder:"Filter contributions UUID..."},null,8,["modelValue"])])),right:c((()=>[u(i,{modelValue:p(V),"onUpdate:modelValue":l[1]||(l[1]=e=>m(V)?V.value=e:null),label:"",classes:{wrapper:"w-full sm:w-40"}},{default:c((()=>[h("option",L,"10 "+b(a.$t("per page")),1),h("option",P,"25 "+b(a.$t("per page")),1),h("option",N,"50 "+b(a.$t("per page")),1),h("option",A,"100 "+b(a.$t("per page")),1)])),_:1},8,["modelValue"])])),default:c((()=>[h("div",null,[p(s).loading||0!==p(G)?.length?(d(),r("div",q,[u(H,{class:"pt-5"},{default:c((()=>[(d(!0),r(g,null,v(p(G),((e,t)=>(d(),f(W,{key:e.id,spaced:""},{start:c((()=>[u(D,{label:"Contribution","hide-label":t>0,logo:e.phase?.token?.image,title:`${e.phase?.token?.currency} (${e.phase?.token?.chain})`,subtitle:e.uuid},null,8,["hide-label","logo","title","subtitle"])])),end:c((()=>[u(F,{label:"Amount","hide-label":t>0,class:"w-20 xs:w-full"},{default:c((()=>[_(b(e.amount),1)])),_:2},1032,["hide-label"]),u(F,{label:"Status","hide-label":t>0,class:"w-20 xs:w-full"},{default:c((()=>[u(M,{color:J(e.status),flavor:"pastel",condensed:""},{default:c((()=>[_(b(e.status),1)])),_:2},1032,["color"])])),_:2},1032,["hide-label"]),u(F,{label:"Release Date","hide-label":t>0,class:"w-32 xs:w-full text-xs"},{default:c((()=>[_(b(("formatDate"in a?a.formatDate:p(T))(e.phase.end_date)),1)])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1})])):(d(),f(n,{key:0,title:p($)&&""!==p($)?"No matching results":"No results",subtitle:p($)&&""!==p($)?"Looks like we couldn't find any matching results for your search terms. Try other search terms.":"Looks like we don't have any data here yet."},{image:c((()=>[U,R])),_:1},8,["title","subtitle"])),h("div",O,[p(z).length>p(V)?(d(),f(K,{key:0,"total-items":p(z).length,"current-page":p(S),"item-per-page":p(V)},null,8,["total-items","current-page","item-per-page"])):w("",!0)])])])),_:1})])}}});export{S as default};
