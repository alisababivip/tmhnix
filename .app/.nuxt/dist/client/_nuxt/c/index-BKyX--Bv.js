import{_ as e}from"./BaseInput.vue-iInHQMIA.js";import{_ as a}from"./BaseSelect.vue-p0KYznCX.js";import{d as t,a as l,z as s,r as o,c as r,E as i,b as n,e as d,w as u,o as m,u as c,p as h,f as p,t as f,O as g,F as y,B as v,q as b,k as _,ag as w}from"../e/entry-8qgg5CL-.js";import{_ as P,a as j}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as k}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as M}from"./BaseTag.vue-NMkN1Uk8.js";import{_ as B}from"./TairoFlexTable-zdoraqRc.js";import{_ as x}from"./BasePagination.vue-eKZkqxB7.js";import{_ as I}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{_ as T,a as $}from"./placeholder-search-4-dark-Jht91LnM.js";import{u as F}from"./useP2P-NV4dmDWU.js";import"./input-id-wZ-Ta08j.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";const V=t({id:"adminPaymentMethods",state:()=>({methods:[],loading:!1,selectedPaymentMethod:null}),getters:{getPaymentMethodById:e=>a=>e.methods.find((e=>e.id===a))},actions:{async fetchPaymentMethods(){this.loading=!0;try{const{getAdminPaymentMethods:e}=F(),a=await e();this.methods=a.data.result}catch(e){console.error("Error fetching payment methods:",e)}this.loading=!1},async removePaymentMethod(e){const a=this.methods.findIndex((a=>a.id===e));-1!==a&&this.methods.splice(a,1)},async selectPaymentMethod(e){this.selectedPaymentMethod=e},async selectPaymentMethodById(e){this.selectedPaymentMethod=this.getPaymentMethodById(e)}}}),C={value:10},L={value:25},A={value:50},q={value:100},E=p("img",{class:"block dark:hidden",src:T,alt:"Placeholder image"},null,-1),N=p("img",{class:"hidden dark:block",src:$,alt:"Placeholder image"},null,-1),O={key:1,class:"w-full"},S={class:"mt-6"},U=l({__name:"index",setup(t){const l=V(),T=s(),$=o(""),F=o(10),U=r((()=>parseInt(T.query.page??"1"))),z=r((()=>l.methods.filter((e=>e.name?.toLowerCase().includes($.value.toLowerCase()))))),R=r((()=>{const e=(U.value-1)*F.value,a=e+F.value;return z.value.slice(e,a)}));return i((async()=>{0===l.methods.length&&(l.loading=!0,await l.fetchPaymentMethods(),l.loading=!1)})),(t,s)=>{const o=e,r=a,i=w,T=P,V=k,W=M,D=j,G=B,H=x,J=I;return m(),n("div",null,[d(J,null,{left:u((()=>[d(o,{modelValue:c($),"onUpdate:modelValue":s[0]||(s[0]=e=>h($)?$.value=e:null),icon:"lucide:search",classes:{wrapper:"w-full sm:w-auto"},placeholder:"Filter methods..."},null,8,["modelValue"])])),right:u((()=>[d(r,{modelValue:c(F),"onUpdate:modelValue":s[1]||(s[1]=e=>h(F)?F.value=e:null),label:"",classes:{wrapper:"w-full sm:w-40"}},{default:u((()=>[p("option",C,"10 "+f(t.$t("per page")),1),p("option",L,"25 "+f(t.$t("per page")),1),p("option",A,"50 "+f(t.$t("per page")),1),p("option",q,"100 "+f(t.$t("per page")),1)])),_:1},8,["modelValue"])])),default:u((()=>[p("div",null,[c(l).loading||0!==c(R).length?(m(),n("div",O,[d(G,{class:"pt-5"},{default:u((()=>[(m(!0),n(y,null,v(c(R),((e,a)=>(m(),g(D,{key:e.id,spaced:""},{start:u((()=>[d(T,{label:"Method","hide-label":a>0,title:e.name,subtitle:e.user?.first_name+" "+e.user?.last_name,picture:e.image||"/img/placeholder.png"},null,8,["hide-label","title","subtitle","picture"])])),end:u((()=>[d(V,{"hide-label":a>0,class:"w-24 xs:w-full",label:"Currency"},{default:u((()=>[b(f(e.currency),1)])),_:2},1032,["hide-label"]),d(V,{label:"Offers","hide-label":a>0,class:"w-20 xs:w-full"},{default:u((()=>[b(f(e.offer?.length??0),1)])),_:2},1032,["hide-label"]),d(V,{label:"Status","hide-label":a>0,class:"w-20 xs:w-full"},{default:u((()=>[d(W,{color:e.status?"success":"danger",flavor:"pastel",condensed:""},{default:u((()=>[b(f(e.status?t.$t("Active"):t.$t("Inactive")),1)])),_:2},1032,["color"])])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1})])):(m(),g(i,{key:0,title:c($)&&""!==c($)?"No matching results":"No results",subtitle:c($)&&""!==c($)?"Looks like we couldn't find any matching results for your search terms. Try other search terms.":"Looks like we don't have any data here yet."},{image:u((()=>[E,N])),_:1},8,["title","subtitle"])),p("div",S,[c(z).length>c(F)?(m(),g(H,{key:0,"total-items":c(z).length,"current-page":c(U),"item-per-page":c(F)},null,8,["total-items","current-page","item-per-page"])):_("",!0)])])])),_:1})])}}});export{U as default};
