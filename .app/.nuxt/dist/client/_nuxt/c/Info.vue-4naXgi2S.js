import{_ as e}from"./Chart.vue-6iSre37Q.js";import{a as t,o as r,b as a,B as s,F as l,M as o,u as d,n,t as i,k as c,f as u,y as p,ad as b,a4 as h,r as y,c as x,J as v,E as g,G as m,W as f,e as k,ae as w,h as $,i as O,j as E,q as D,l as B,v as M,m as A,p as C,s as T,x as L,S as _,z as q,w as I,af as S,O as j,C as G,Y as P}from"../e/entry-8qgg5CL-.js";import{u as W}from"./input-id-wZ-Ta08j.js";import{u as N}from"./market-Bq5Nv6Cu.js";import{u as F}from"./composables-Om4eAUXX.js";import{u as V}from"./socket--t7FR4dG.js";import{u as z}from"./useExchange-VMAYQu3P.js";import{_ as R}from"./TairoButtonIcon.vue-KqKLsAHm.js";import{a as J}from"./TairoPagination.vue-mpKAEnSS.js";import{u as U}from"./wallet-n04aoRPe.js";import{u as H}from"./investment-XmzczllC.js";const Y=["onClick"],X={key:0},K=p(t({__name:"OrderbookItem",props:{data:{type:Array,default:()=>[]},type:{type:String,default:""},showLess:{type:Boolean,default:!1},width:{type:String,default:""},showDepth:{type:Boolean,default:!1}},setup(e){const t=N();return(p,b)=>(r(!0),a(l,null,s(e.data,((s,b)=>(r(),a(l,null,[e.data&&e.data.length>0?(r(),a("div",{key:b,class:"orderbook-item hover:bg-gray-100 dark:hover:bg-gray-800",style:o(`height: ${e.showDepth?11:24}px;line-height: ${e.showDepth?8:24}px;`),onClick:r=>d(t).setOrderData(s[0],"bid"===e.type?"SELL":"BUY")},[!e.showDepth||e.showDepth&&[2,5,10,15,18].includes(b)?(r(),a("div",{key:0,class:n(["price",parseFloat(s[1])>0?"bid"===e.type?"text-success-500 dark:text-success-400":"text-danger-500":"text-gray-300 dark:text-gray-500"])},i(s[0]),3)):c("",!0),!e.showDepth&&p.$viewport.isGreaterOrEquals("xs")?(r(),a("div",{key:1,class:n(["quantity",parseFloat(s[1])>0?"text-dark":"text-gray-300 dark:text-gray-500"])},i(s[1]),3)):c("",!0),u("div",{class:n(["total",parseFloat(s[2])>0?"text-dark":"text-gray-300 dark:text-gray-500"])},[e.showDepth?c("",!0):(r(),a("span",X,i(s[2]),1)),u("div",{class:n(["progress trasition-all duration-300 ease-in-out percent",{"bg-success-300/40":"bid"===e.type&&e.showDepth,"bg-danger-500/40":"ask"===e.type&&e.showDepth,"bg-success-300/20":"bid"===e.type&&!e.showDepth,"bg-danger-500/20":"ask"===e.type&&!e.showDepth,"left-0":p.$viewport.isLessThan("md")&&"bid"===e.type}]),style:o("width:"+s[3]+"px")},null,6)],2)],12,Y)):c("",!0)],64)))),256))}}),[["__scopeId","data-v-cb2f5bbe"]]),Q={key:0,class:"flex px-1 pt-1 h-10",role:"tablist"},Z={class:"px-1 pt-1"},ee=[w('<svg width="24" height="24" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-c88d682b><path d="M3 8.5 h2 v5 h-2 v-5 z" fill="#5EEAD4" data-v-c88d682b></path><path d="M3 2.5 h2 v5 h-2 v-5 z" fill="#F43F5E" data-v-c88d682b></path><path d="M6 2.5 h7 v2 h-7 v-2 z" fill="currentColor" fill-opacity="0.9" data-v-c88d682b></path><path d="M6 5.5 h7 v2 h-7 v-2 z" fill="currentColor" fill-opacity="0.9" data-v-c88d682b></path><path d="M6 8.5 h7 v2 h-7 v-2 z" fill="currentColor" fill-opacity="0.9" data-v-c88d682b></path><path d="M6 11.5 h7 v2 h-7 v-2 z" fill="currentColor" fill-opacity="0.9" data-v-c88d682b></path></svg>',1)],te={class:"px-1 pt-1"},re=[w('<svg width="24" height="24" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-c88d682b><path d="M3 2.5 h2 v11 h-2 v-5 z" fill="#5EEAD4" data-v-c88d682b></path><path d="M6 2.5 h7 v2 h-7 v-2 z" fill="currentColor" fill-opacity="0.9" data-v-c88d682b></path><path d="M6 5.5 h7 v2 h-7 v-2 z" fill="currentColor" fill-opacity="0.9" data-v-c88d682b></path><path d="M6 8.5 h7 v2 h-7 v-2 z" fill="currentColor" fill-opacity="0.9" data-v-c88d682b></path><path d="M6 11.5 h7 v2 h-7 v-2 z" fill="currentColor" fill-opacity="0.9" data-v-c88d682b></path></svg>',1)],ae={class:"px-1 pt-1"},se=[w('<svg width="24" height="24" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-c88d682b><path d="M3 2.5 h2 v11 h-2 v-5 z" fill="#F43F5E" data-v-c88d682b></path><path d="M6 2.5 h7 v2 h-7 v-2 z" fill="currentColor" fill-opacity="0.9" data-v-c88d682b></path><path d="M6 5.5 h7 v2 h-7 v-2 z" fill="currentColor" fill-opacity="0.9" data-v-c88d682b></path><path d="M6 8.5 h7 v2 h-7 v-2 z" fill="currentColor" fill-opacity="0.9" data-v-c88d682b></path><path d="M6 11.5 h7 v2 h-7 v-2 z" fill="currentColor" fill-opacity="0.9" data-v-c88d682b></path></svg>',1)],le={class:"px-1 pt-1"},oe={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 16 16"},de=["fill"],ne=["fill"],ie={key:0,class:"orderbook-header"},ce={class:"text-start",style:{"padding-left":"5px"}},ue={key:0,class:"text-center"},pe={class:"text-end",style:{"padding-right":"5px"}},be={class:"px-3 py-2"},he={class:""},ye={key:0,class:"orderbook-header"},xe={class:"pl-2 text-start"},ve={key:0,class:"text-center"},ge={class:"text-end"},me=p(t({__name:"OrderBook",props:{currency:{type:String,required:!0},pair:{type:String,required:!0}},setup(e){const{priceFormatter:t}=b(),s=h({showMoreAsks:!1,showMoreBids:!1,sideLength:20,best_ask:"",best_ask_icon:"",activeItem:"pills-graph",asks:Array.from({length:20},(()=>[0,0,0])),bids:Array.from({length:20},(()=>[0,0,0])),bestAsker:0,showDepth:!1}),l=y(null),o=F(),p=x((()=>l.value?.clientWidth||0)),w=e,$=V(),O=N(),E=x((()=>{const e=Number(O.selectedMarket?.metadata?.precision?.price)||4;return Math.abs(e)})),D=x((()=>{const e=Number(O.selectedMarket?.metadata?.precision?.amount)||4;return Math.abs(e)})),B=x((()=>s.asks.map((({price:e,volume:r,width:a})=>[t(e,E.value),t(r,D.value),t(e*r,E.value),a])))),M=x((()=>s.bids.map((({price:e,volume:r,width:a})=>[t(e,E.value),t(r,D.value),t(e*r,E.value),a])))),A=new Worker(URL.createObjectURL(new Blob(["\n  function removeOutliers(data, factor) {\n    let bids = data.bids;\n    let asks = data.asks;\n\n    // Calculate the lower and upper bounds\n    let maxBid = Math.max(...bids.map(bid => bid[0]));\n    let minAsk = Math.min(...asks.map(ask => ask[0]));\n    let lowerBound = maxBid * factor;\n    let upperBound = minAsk / factor;\n\n    // Filter out the outliers\n    bids = bids.filter(bid => bid[0] >= lowerBound);\n    asks = asks.filter(ask => ask[0] <= upperBound);\n\n    return { bids, asks };\n  }\n\n  function calculateWidths(asks, bids, orderBookDivWidth,shouldReverseAsks,shouldInvertBidsWidth) {\n    let totalAsksVolume = asks.reduce((total, ask) => total + ask.volume, 0);\n    let totalBidsVolume = bids.reduce((total, bid) => total + bid.volume, 0);\n\n    let accumulatedAsksVolume = 0;\n    asks.forEach((ask, index) => {\n      accumulatedAsksVolume += ask.volume;\n      ask.width = (accumulatedAsksVolume / totalAsksVolume) * orderBookDivWidth;\n    });\n\n    let accumulatedBidsVolume = 0;\n    if (shouldInvertBidsWidth) {\n      bids.forEach((bid, index) => {\n        accumulatedBidsVolume += bid.volume;\n        bid.width = (accumulatedBidsVolume / totalBidsVolume) * orderBookDivWidth;\n      });\n    } else {\n      bids.reverse().forEach((bid, index) => {\n        accumulatedBidsVolume += bid.volume;\n        bid.width = (accumulatedBidsVolume / totalBidsVolume) * orderBookDivWidth;\n      });\n    }\n\n    // Reverse the asks to get the right order conditionally\n    if (shouldReverseAsks) {\n      asks.reverse();\n    }\n\n    return { asks, bids };\n  }\n\n\n\n  function processOrderData(data, orderBookDivWidth, shouldReverseAsks,shouldInvertBidsWidth) {\n    let factor = 0.1; // Change this as needed\n    let dataWithoutOutliers = removeOutliers(data, factor);\n\n    let asks = dataWithoutOutliers.asks.slice(0, data.sideLength);\n    let bids = dataWithoutOutliers.bids.slice(0, data.sideLength);\n\n    // Convert bids and asks to the desired format\n    asks = asks.map(([price, volume]) => ({ price, volume, width: 0 }));\n    bids = bids.map(([price, volume]) => ({ price, volume, width: 0 }));\n\n    // Sort asks in ascending order by price and bids in descending order\n    asks.sort((a, b) => a.price - b.price);\n    bids.sort((a, b) => a.price - b.price);\n\n    const result = calculateWidths(asks, bids, orderBookDivWidth, shouldReverseAsks, shouldInvertBidsWidth);\n\n    return result;\n  }\n\n  self.onmessage = function (event) {\n    const data = JSON.parse(event.data);\n    const { rawData, orderBookDivWidth, shouldReverseAsks, shouldInvertBidsWidth } = data;\n\n    const orderbookData = JSON.parse(rawData);\n    if (orderbookData.watchOrderBook === undefined || orderbookData.watchOrderBook === null) return;\n\n    const result = processOrderData(orderbookData.watchOrderBook, orderBookDivWidth, shouldReverseAsks, shouldInvertBidsWidth);\n    self.postMessage(result);\n  };\n    "],{type:"text/javascript"})));v((()=>$.tradeData),(e=>{if(!e)return;const t={rawData:e,orderBookDivWidth:p.value,shouldReverseAsks:o.isGreaterOrEquals("md"),shouldInvertBidsWidth:o.isLessThan("md")};A.postMessage(JSON.stringify(t))}),{immediate:!0}),A.onmessage=function(e){const{asks:t,bids:r}=e.data;s.asks=t,s.bids=r,O.bestBid=r[0].price};const{getOrderbook:C}=z();g((async()=>{O.selectedMarket||O.selectMarketBySymbol(w.currency+"/"+w.pair);try{const e={watchOrderBook:(await C(`${w.currency}/${w.pair}`,s.sideLength)).data.result},t={rawData:JSON.stringify(e),orderBookDivWidth:p.value,shouldReverseAsks:o.isGreaterOrEquals("md"),shouldInvertBidsWidth:o.isLessThan("md")};A.postMessage(JSON.stringify(t))}catch(e){}T||L(),S(),window.addEventListener("beforeunload",q)}));let T=!1;const L=()=>{$.isSocketOpen.trade&&!T&&($.subscribe("trade",{symbol:`${w.currency}/${w.pair}`,type:"watchOrderBook",limit:s.sideLength}),T=!0)},_=()=>{T&&($.unsubscribe("trade",{symbol:`${w.currency}/${w.pair}`,type:"watchOrderBook",limit:s.sideLength}),T=!1)};v((()=>$.isSocketOpen.trade),(e=>{e?L():_()}),{immediate:!0}),m((()=>{q(),window.removeEventListener("beforeunload",q)}));const q=()=>{_(),A.terminate()},I=y();function S(){I.value&&o.isGreaterOrEquals("md")&&I.value.scrollTo({top:I.value.scrollHeight,behavior:"smooth"})}const j=x((()=>({"h-[46%]":!s.showMoreBids&&!s.showMoreAsks&&!s.showDepth&&o.isGreaterOrEquals("md"),"h-[92%]":s.showMoreAsks&&o.isGreaterOrEquals("md"),"h-[50%]":s.showDepth&&o.isGreaterOrEquals("md"),"h-0":s.showMoreBids,"h-full":o.isLessThan("md")}))),G=x((()=>({"h-[8%]":!s.showMoreBids&&!s.showMoreAsks&&!s.showDepth,hidden:s.showDepth}))),P=x((()=>({"h-[46%]":!s.showMoreBids&&!s.showMoreAsks&&!s.showDepth&&o.isGreaterOrEquals("md"),"h-[92%]":s.showMoreBids&&o.isGreaterOrEquals("md"),"h-[50%]":s.showDepth&&o.isGreaterOrEquals("md"),"h-0":s.showMoreAsks,"rounded-b-lg h-full":o.isLessThan("md")&&o.isGreaterOrEquals("xs")})));return(e,t)=>{const o=K;return r(),a("div",{class:n(["h-full w-full bg-white dark:bg-gray-900 shadow",{"rounded-lg":e.$viewport.isGreaterOrEquals("md")}]),ref_key:"orderBookDiv",ref:l},[e.$viewport.isGreaterOrEquals("md")?(r(),a("ul",Q,[u("li",Z,[u("button",{class:n({"text-gray-300 dark:text-gray-600":d(s).showMoreAsks&&d(s).showMoreBids||d(s).showDepth||d(s).showMoreAsks||d(s).showMoreBids}),onClick:t[0]||(t[0]=f((e=>(s.showMoreBids=!1,s.showMoreAsks=!1,s.showDepth=!1,void S())),["prevent"]))},ee,2)]),u("li",te,[u("button",{class:n({"text-gray-300 dark:text-gray-600":!d(s).showMoreBids}),onClick:t[1]||(t[1]=f((e=>(s.showMoreBids=!0,s.showMoreAsks=!1,void(s.showDepth=!1))),["prevent"]))},re,2)]),u("li",ae,[u("button",{class:n({"text-gray-300 dark:text-gray-600":!d(s).showMoreAsks}),onClick:t[2]||(t[2]=f((e=>(s.showMoreBids=!1,s.showMoreAsks=!0,s.showDepth=!1,void S())),["prevent"]))},se,2)]),u("li",le,[u("button",{onClick:t[3]||(t[3]=f((e=>(s.showDepth=!0,s.showMoreBids=!1,s.showMoreAsks=!1,void S())),["prevent"])),class:n({"text-gray-300 dark:text-gray-600":!d(s).showDepth})},[(r(),a("svg",oe,[u("polygon",{points:"2.5,2.5 11.5,2.5 11.5,7.9",fill:d(s).showDepth?"#F43F5E":"currentColor"},null,8,de),u("polygon",{points:"2.5,14 11.5,14 11.5,8.1",fill:d(s).showDepth?"#5EEAD4":"currentColor"},null,8,ne)]))],2)])])):c("",!0),u("div",{class:n(["OrderbookGrid flex xs:flex-row md:flex-col justify-between",{"rounded-b-lg":e.$viewport.isGreaterOrEquals("sm"),"h-[calc(100%)]":e.$viewport.isGreaterOrEquals("sm")&&e.$viewport.isLessThan("md"),"h-[calc(100%-2.5rem)]":e.$viewport.isGreaterOrEquals("md"),"h-full":e.$viewport.isLessThan("sm")}]),ref_key:"orderBookDiv",ref:l},[u("div",{class:n(["OrderbookAsks flex flex-col",d(j)])},[d(s).showMoreBids||d(s).showDepth?c("",!0):(r(),a("div",ie,[u("div",ce,i(e.$t("Price")),1),e.$viewport.isGreaterOrEquals("xs")?(r(),a("div",ue,i(e.$t("Amount")),1)):c("",!0),u("div",pe,i(e.$t("Total")),1)])),u("div",{class:"orderbook-content overflow-y-scroll no-scrollbar",ref_key:"AsksBody",ref:I},[k(o,{data:d(B),type:"ask","show-less":d(s).showMoreBids,"show-depth":d(s).showDepth},null,8,["data","show-less","show-depth"])],512)],2),!d(s).showDepth&&e.$viewport.isGreaterOrEquals("md")?(r(),a("div",{key:0,class:n(["marketPrice text-sm",d(G)])},[u("div",be,[u("span",he,i(e.$t("Market Price"))+": ",1),u("span",{class:n([d(O).bestAskClass,"font-bold"])},i(d(O).bestAsk),3)])],2)):c("",!0),u("div",{class:n(["OrderbookBids flex flex-col",d(P)])},[d(s).showMoreBids&&!d(s).showMoreAsks&&!d(s).showDepth||e.$viewport.isLessThan("md")?(r(),a("div",ye,[u("div",xe,i(e.$t("Price")),1),e.$viewport.isGreaterOrEquals("xs")?(r(),a("div",ve,i(e.$t("Amount")),1)):c("",!0),u("div",ge,i(e.$t("Total")),1)])):c("",!0),u("div",{class:n(["orderbook-content overflow-y-scroll no-scrollbar",{"rounded-b-lg":e.$viewport.isGreaterOrEquals("md")}])},[k(o,{data:d(M),type:"bid","show-less":d(s).showMoreAsks,"show-depth":d(s).showDepth},null,8,["data","show-less","show-depth"])],2)],2)],2)],2)}}}),[["__scopeId","data-v-c88d682b"]]),fe={key:0,class:"w-full bg-gray-100 dark:bg-gray-800 rounded-tl-lg"},ke={id:"myTab",class:"nf flex-cols -mb-px flex overflow-x-hidden text-center rounded-tl-lg",role:"tablist"},we={class:"mr-2"},$e={id:"tradesContent",class:"trades-content"},Oe={class:"trades-header"},Ee={class:"text-start"},De={class:"text-end"},Be={class:"text-end"},Me={class:"text-end"},Ae={class:"text-end"},Ce={key:1,class:"no-trades text-center"},Te=t({__name:"Trades",props:{currency:{type:String,required:!0},pair:{type:String,required:!0}},setup(e){const t=e,o=y([]),p=V(),b=N(),h=y("recentTrades"),k=e=>h.value===e,w=new Worker(URL.createObjectURL(new Blob(["\nconst formatTime = (time) => {\n  return time.split(\"T\")[1].split(\".\")[0];\n}\n\nconst priceFormatter = (value, precision) => {\n  if (isNaN(value) || value === null) return '0';\n  const formattedValue = parseFloat(value).toFixed(precision || 5);\n  return formattedValue;\n};\n\nfunction processTradesData(rawData, precision) {\n  const data = JSON.parse(rawData);\n  if (data.watchTrades === undefined || data.watchTrades === null) {\n    return [];\n  }\n\n  const tradesData = data.watchTrades;\n  if (!tradesData) return [];\n\n  return tradesData.map((trade) => {\n    const pricePrecision = precision.price || 5;\n    const amountPrecision = precision.amount || 3;\n\n    const price = trade.price\n      ? priceFormatter(trade.price, pricePrecision)\n      : '0';\n\n    const sizeOrAmount = trade.amount || trade.info.size\n    const amount = sizeOrAmount\n      ? priceFormatter(sizeOrAmount, amountPrecision)\n      : '0';\n\n    const datetime = formatTime(trade.datetime) || '';\n    const side = trade.side || '';\n\n    return {\n      price,\n      amount,\n      time: datetime,\n      class: side === \"sell\" ? \"text-danger-500\" : \"text-success-500 dark:text-success-400\",\n    };\n  });\n}\n\nself.onmessage = function (event) {\n  const data = JSON.parse(event.data);\n  const { rawData, precision } = data;\n\n  const result = processTradesData(rawData, precision);\n  self.postMessage(result);\n};\n        "],{type:"text/javascript"}))),$=x((()=>{const e=Number(b.selectedMarket?.metadata?.precision?.price)||4;return Math.abs(e)})),O=x((()=>{const e=Number(b.selectedMarket?.metadata?.precision?.amount)||4;return Math.abs(e)}));v((()=>p.tradeData),(e=>{if(!e)return;const t={rawData:e,precision:{price:$.value,amount:O.value}};w.postMessage(JSON.stringify(t))}),{immediate:!0}),w.onmessage=function(e){o.value=[...e.data,...o.value],o.value.length>50&&(o.value=o.value.slice(0,50))};let E=!1;const D=()=>{p.isSocketOpen.trade&&!E&&(p.subscribe("trade",{symbol:`${t.currency}/${t.pair}`,type:"watchTrades",limit:50}),E=!0)},B=()=>{E&&(p.unsubscribe("trade",{symbol:`${t.currency}/${t.pair}`,type:"watchTrades"}),E=!1)};v((()=>p.isSocketOpen.trade),(e=>{e?D():B()}),{immediate:!0}),g((()=>{D(),window.addEventListener("beforeunload",M)})),m((()=>{M(),window.removeEventListener("beforeunload",M)}));const M=()=>{B(),w.terminate()};return(e,t)=>(r(),a("div",{class:n(["bg-white dark:bg-gray-900 shadow relative h-full w-full",{"rounded-tl-lg":e.$viewport.isGreaterOrEquals("sm")}])},[e.$viewport.isGreaterOrEquals("sm")?(r(),a("div",fe,[u("ul",ke,[u("li",we,[u("a",{id:"recentTrades-tab",class:n(["inline-block py-2 pl-3 pr-4 text-xs font-medium",k("recentTrades")?"active-tab":"inactive-tab"]),type:"button",role:"tab","aria-controls":"recentTrades","aria-selected":"false",onClick:t[0]||(t[0]=f((e=>{return t="recentTrades",void(h.value=t);var t}),["prevent"]))},i(e.$t("Recent Trades")),3)])])])):c("",!0),u("div",$e,[k("recentTrades")?(r(),a("div",{key:0,id:"recentTrades",class:n(["trades-grid",{"px-3 pt-2":e.$viewport.isGreaterOrEquals("sm"),"px-2 pt-1":e.$viewport.isLessThan("sm")}])},[u("div",Oe,[u("div",Ee,i(e.$t("Price")),1),u("div",De,i(e.$t("Amount")),1),u("div",Be,i(e.$t("Time")),1)]),d(o).length>0?(r(),a("div",{key:0,class:n(["trades-body overflow-y-scroll no-scrollbar",{"h-[calc(23.5vh)]":e.$viewport.isGreaterOrEquals("sm"),"h-[calc(25vh)]":e.$viewport.isLessThan("sm")}])},[(r(!0),a(l,null,s(d(o),((e,t)=>(r(),a("div",{key:t,class:"trade-item hover:bg-gray-100 dark:hover:bg-gray-800"},[u("div",{class:n(["text-start",e.class])},i(e.price),3),u("div",Me,i(e.amount),1),u("div",Ae,i(e.time),1)])))),128))],2)):(r(),a("div",Ce,i(e.$t("No trades yet"))+". ",1))],2)):c("",!0)])],2))}}),Le={class:"bg-white dark:bg-gray-900 shadow h-full w-full rounded-r-lg"},_e={class:"w-full bg-gray-100 dark:bg-gray-800 rounded-r-lg"},qe={id:"myTab",class:"nf flex-cols -mb-px flex overflow-x-hidden text-center",role:"tablist"},Ie={role:"presentation"},Se=["aria-selected"],je={role:"presentation"},Ge=["aria-selected"],Pe={role:"presentation"},We=["aria-selected"],Ne=t({__name:"ChartAndInfo",props:{currency:{type:String,required:!0},pair:{type:String,required:!0}},setup(t){const s=y("creatable"),l=e=>s.value===e,o=e=>{s.value=e};return(s,d)=>{const c=e,p=me,b=Te;return r(),a("div",Le,[u("div",_e,[u("ul",qe,[u("li",Ie,[u("button",{id:"creatable-tab",class:n(["inline-block py-2 pl-3 pr-4 text-xs font-medium",l("creatable")?"active-tab":"inactive-tab"]),type:"button",role:"tab","aria-controls":"creatable","aria-selected":!!l("creatable"),onClick:d[0]||(d[0]=e=>o("creatable"))},i(s.$t("Chart")),11,Se)]),u("li",je,[u("button",{id:"orderbook-tab",class:n(["inline-block py-2 pl-3 pr-4 text-xs font-medium",l("orderbook")?"active-tab":"inactive-tab"]),type:"button",role:"tab","aria-controls":"orderbook","aria-selected":!!l("orderbook"),onClick:d[1]||(d[1]=e=>o("orderbook"))},i(s.$t("Orderbook")),11,Ge)]),u("li",Pe,[u("button",{id:"trades-tab",class:n(["inline-block py-2 pl-3 pr-4 text-xs font-medium",l("trades")?"active-tab":"inactive-tab"]),type:"button",role:"tab","aria-controls":"trades","aria-selected":!!l("trades"),onClick:d[2]||(d[2]=e=>o("trades"))},i(s.$t("Trades")),11,We)])])]),u("div",{class:n(["h-[calc(100%-2rem)] rounded-r-lg",{hidden:!l("creatable")}]),role:"tabpanel","aria-labelledby":"creatable-tab"},[k(c,{currency:t.currency,pair:t.pair},null,8,["currency","pair"])],2),u("div",{id:"orderbook",class:n(["h-[calc(100%-2rem)]",{hidden:!l("orderbook")}]),role:"tabpanel","aria-labelledby":"orderbook-tab"},[k(p,{currency:t.currency,pair:t.pair},null,8,["currency","pair"])],2),u("div",{id:"trades",class:n(["h-[calc(100%-2rem)]",{hidden:!l("trades")}]),role:"tabpanel","aria-labelledby":"trades-tab"},[k(b,{currency:t.currency,pair:t.pair},null,8,["currency","pair"])],2)])}}}),Fe=["for"],Ve={class:"group/nui-input relative"},ze=["id","type","placeholder"],Re=["for"],Je=p(t({inheritAttrs:!1,__name:"TairoGroupInput",props:{modelValue:{},modelModifiers:{default:()=>({})},id:{default:void 0},type:{default:"text"},shape:{default:void 0},label:{default:void 0},labelFloat:{type:Boolean},placeholder:{default:void 0},icon:{default:void 0},colorFocus:{type:Boolean},loading:{type:Boolean},error:{type:[String,Boolean],default:!1},condensed:{type:Boolean},classes:{default:()=>({})},inputText:{default:void 0}},emits:["update:modelValue"],setup(e,{expose:t,emit:s}){const l=e,o=s,p=$(),b=x((()=>l.shape??p.nui.defaultShapes?.input));const h=O(l,"modelValue",((e,t)=>{l.modelModifiers.number?o("update:modelValue",function(e){const t=Number.parseFloat(e);return Number.isNaN(t)?e:t}(t)):l.modelModifiers.trim?o("update:modelValue","string"==typeof t?t.trim():t):o("update:modelValue",t)})),v=y();t({el:v});const g=W((()=>l.id)),m=x((()=>{if(!l.loading)return l.labelFloat?l.label:l.placeholder}));return(e,t)=>{const s=T,o=L;return r(),a("div",{class:n(["relative",l.classes?.wrapper])},["label"in e.$slots&&!l.labelFloat||l.label&&!l.labelFloat?(r(),a("label",{key:0,class:n(["nui-label w-full",[l.condensed&&"pb-1 text-xs",!l.condensed&&"pb-1 text-[0.825rem]",...l.classes?.label&&Array.isArray(l.classes.label)?l.classes.label:[l.classes?.label]]]),for:d(g)},[E(e.$slots,"label",{},(()=>[D(i(l.label),1)]),!0)],10,Fe)):c("",!0),u("div",Ve,[B(u("input",A({id:d(g),ref_key:"inputRef",ref:v,"onUpdate:modelValue":t[0]||(t[0]=e=>C(h)?h.value=e:null),type:l.type},e.$attrs,{class:["nui-focus border-muted-300 text-muted-600 placeholder:text-muted-300 dark:border-muted-700 dark:bg-muted-900/75 dark:text-muted-200 dark:placeholder:text-muted-500 dark:focus:border-muted-700 peer w-full border bg-white font-sans transition-all duration-300 disabled:cursor-not-allowed disabled:opacity-75",[l.condensed&&"h-8 py-1 text-xs leading-4",l.condensed&&void 0!==l.icon?"pe-3 ps-7":"px-2",!l.condensed&&"h-10 py-2 text-sm leading-5",l.condensed||void 0===l.icon?"px-3":"pe-4 ps-9","rounded"===d(b)&&"rounded","curved"===d(b)&&"rounded-xl","full"===d(b)&&"rounded-full",l.colorFocus&&"focus:border-primary-500",l.loading&&"text-transparent placeholder:text-transparent dark:placeholder:text-transparent",l.labelFloat&&"placeholder:text-transparent dark:placeholder:text-transparent",l.error&&!l.loading&&"!border-danger-500 dark:!border-danger-500",...l.classes?.input&&Array.isArray(l.classes.input)?l.classes.input:[l.classes?.input]]],placeholder:d(m)}),null,16,ze),[[M,d(h)]]),"label"in e.$slots&&l.labelFloat||l.label&&l.labelFloat?(r(),a("label",{key:0,class:n(["nui-label text-primary-500 peer-focus-visible:text-primary-500 dark:peer-focus-visible:text-primary-500 pointer-events-none absolute inline-flex h-5 select-none items-center leading-none transition-all duration-300",[...l.classes?.label&&Array.isArray(l.classes.label)?l.classes.label:[l.classes?.label],l.loading?"peer-placeholder-shown:text-transparent":"peer-placeholder-shown:text-muted-300 dark:peer-placeholder-shown:text-muted-600",void 0!==l.icon&&!l.condensed&&"start-10 -ms-10 -mt-8 text-xs peer-placeholder-shown:ms-0 peer-placeholder-shown:mt-0 peer-placeholder-shown:text-[0.825rem] peer-focus-visible:-ms-10 peer-focus-visible:-mt-8 peer-focus-visible:text-xs",void 0!==l.icon&&l.condensed&&"start-8 -ms-8 -mt-7 text-xs peer-placeholder-shown:ms-0 peer-placeholder-shown:mt-0 peer-focus-visible:-ms-8 peer-focus-visible:-mt-7",void 0===l.icon&&!l.condensed&&"start-3 -ms-3  -mt-8 text-xs peer-placeholder-shown:ms-0 peer-placeholder-shown:mt-0 peer-placeholder-shown:text-[0.825rem] peer-focus-visible:-ms-3 peer-focus-visible:-mt-8 peer-focus-visible:text-xs",void 0===l.icon&&l.condensed&&"start-3 -ms-3  -mt-7 text-xs peer-placeholder-shown:ms-0 peer-placeholder-shown:mt-0 peer-focus-visible:-ms-3 peer-focus-visible:-mt-7",l.condensed?"top-1.5":"top-2.5"]]),for:d(g)},[E(e.$slots,"label",{},(()=>[D(i(l.label),1)]),!0)],10,Re)):c("",!0),l.loading?(r(),a("div",{key:1,class:n(["absolute start-0 top-0 flex w-full items-center px-4",[l.condensed&&"h-8",!l.condensed&&"h-10"]])},[k(s,{class:"h-3 w-full max-w-[75%] rounded"})],2)):c("",!0),l.icon?(r(),a("div",{key:2,class:n(["text-muted-400 group-focus-within/nui-input:text-primary-500 absolute start-0 top-0 flex items-center justify-center transition-colors duration-300 peer-disabled:cursor-not-allowed peer-disabled:opacity-75",[l.condensed&&"h-8 w-8",!l.condensed&&"h-10 w-10",l.loading&&"opacity-0",l.error&&!l.loading&&"!text-danger-500",...l.classes?.icon&&Array.isArray(l.classes.icon)?l.classes.icon:[l.classes?.icon]]])},[E(e.$slots,"icon",{},(()=>[k(o,{name:l.icon,class:n([l.condensed&&"h-[1rem] w-[1rem]",!l.condensed&&"h-[1.15rem] w-[1.15rem]"])},null,8,["name","class"])]),!0)],2)):c("",!0),l.inputText?(r(),a("div",{key:3,class:n(["text-muted-400 absolute end-3 top-0 flex items-center justify-center text-sm transition-colors duration-300 peer-disabled:cursor-not-allowed peer-disabled:opacity-75",[l.condensed&&"h-8 w-8",!l.condensed&&"h-10 w-10",l.loading&&"opacity-0",l.error&&!l.loading&&"!text-danger-500"]])},[u("span",null,i(l.inputText),1)],2)):c("",!0),E(e.$slots,"action",{},void 0,!0),l.error&&"string"==typeof l.error?(r(),a("span",{key:4,class:n([l.classes?.error,"text-danger-600 mt-1 block font-sans text-[0.65rem] font-medium leading-none"])},i(l.error),3)):c("",!0)])],2)}}}),[["__scopeId","data-v-8fa89282"]]),Ue={id:"tradesContent",class:"h-full"},He={class:"h-full overflow-hidden"},Ye={key:0,id:"openOrders",class:"h-auto max-h-full"},Xe={key:0,class:"flex justify-center items-center flex-col h-full"},Ke={style:{inset:"0px",border:"1px dashed rgba(243, 243, 243, 0.08)"},class:"w-64 text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-2 rounded-md text-sm flex text-center justify-center"},Qe={key:1,class:"flex w-full justify-center items-center flex-col text-gray-500 dark:text-gray-500 h-[200px]"},Ze={key:2,class:"w-full mt-2"},et={class:"pb-5"},tt={key:0,class:"min-w-full bg-white dark:bg-gray-900 border-collapse"},rt={class:"px-4 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 pb-1 text-start"},at={class:"px-4 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center pb-1"},st={class:"px-4 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center pb-1"},lt={class:"px-4 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center pb-1"},ot={class:"px-4 py-1 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-start"},dt={class:"px-4 py-1 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center"},nt={key:1},it={class:"px-4 py-1 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center"},ct={class:"text-xs text-gray-700 dark:text-gray-200 space-y-1"},ut={class:"flex justify-between"},pt={class:"flex justify-between"},bt={class:"flex justify-between"},ht={key:1},yt={class:"flex justify-between"},xt={class:"flex justify-between items-center gap-2"},vt={class:"mt-2 px-3"},gt=t({__name:"Orders",setup(e){const t=_(),o=H(),p=x((()=>o.investments));g((async()=>{t.isLoggedIn&&0===o.investments.length&&await o.fetchInvestments()}));const h=y("openOrders"),v=q(),m=y("openOrders"),f=y(4),w=x((()=>(p.value??[]).filter((e=>!!e&&("openOrders"===m.value?"ACTIVE"===e.status:"ACTIVE"!==e.status))).sort(((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())))),$=x((()=>parseInt(v.query.page??"1"))),O=x((()=>{const e=($.value-1)*f.value,t=e+f.value;return w.value.slice(e,t)})),{formatedDate:E}=b(),B=e=>{switch(e){case"PENDING":return"warning";case"ACTIVE":return"info";case"COMPLETED":return"success";case"CANCELLED":case"REJECTED":return"danger";default:return"gray"}};return(e,o)=>{const p=G,b=L,y=P,x=J;return r(),a("div",{class:n(["bg-white dark:bg-gray-900 shadow relative h-full w-full",{"rounded-tr-lg":e.$viewport.isGreaterOrEquals("sm")}])},[u("div",{class:n(["w-full bg-gray-100 dark:bg-gray-800 flex",{"rounded-tr-lg":e.$viewport.isGreaterOrEquals("sm")}])},[u("button",{class:n(["py-2 px-4 text-xs font-medium","openOrders"===d(m)?"active-tab":"inactive-tab"]),onClick:o[0]||(o[0]=e=>m.value="openOrders")},i(e.$t("Active Investments")),3),u("button",{class:n(["py-2 px-4 text-xs font-medium","orderHistory"===d(m)?"active-tab":"inactive-tab"]),onClick:o[1]||(o[1]=e=>m.value="orderHistory")},i(e.$t("Investment History")),3)],2),u("div",Ue,[u("div",He,[(v="openOrders",h.value===v?(r(),a("div",Ye,[d(t).isLoggedIn?0===d(O)?.length?(r(),a("div",Qe,[k(b,{name:"ph:files-thin",class:"h-16 w-16"}),D(" "+i(e.$t("No Orders Found")),1)])):(r(),a("div",Ze,[u("div",et,[e.$viewport.isGreaterOrEquals("sm")?(r(),a("table",tt,[u("thead",null,[u("tr",null,[u("th",rt,i(e.$t("Date")),1),u("th",at,i(e.$t("Amount")),1),u("th",st,i(e.$t("Profit")),1),u("th",lt,i(e.$t("Status")),1)])]),u("tbody",null,[k(S,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:I((()=>[(r(!0),a(l,null,s(d(O),((e,t)=>(r(),a("tr",{key:t},[u("td",ot,i(d(E)(e.created_at,!0)),1),u("td",dt,i(e.amount)+" "+i(e.market?.split("/")[1]),1),u("td",{class:n(["px-4 py-1 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center",{"text-success-500":e.profit>0&&"COMPLETED"===e.status,"text-danger-500":e.profit<0&&"COMPLETED"===e.status||"CANCELED"===e.status||"REJECTED"===e.status,"text-gray-500":0===e.profit&&"COMPLETED"===e.status,"text-info-500":"ACTIVE"===e.status}])},["COMPLETED"!==e.status?(r(),a("span",{key:0,class:n(["inline-block px-2 font-sans transition-shadow duration-300 py-0.5 text-[0.55rem] rounded-md border dark:bg-transparent",`bg-${B(e.status)}-100 text-${B(e.status)}-500 border-${B(e.status)}-100 dark:border-${B(e.status)}-500 dark:text-${B(e.status)}-500`])},i(e.status),3)):(r(),a("span",nt,i(e.profit)+" "+i(e.market?.split("/")[1]),1))],2),u("td",it,[u("span",{class:n(["inline-block px-2 font-sans transition-shadow duration-300 py-0.5 text-[0.55rem] rounded-md border dark:bg-transparent",`bg-${B(e.status)}-100 text-${B(e.status)}-500 border-${B(e.status)}-100 dark:border-${B(e.status)}-500 dark:text-${B(e.status)}-500`])},i(e.status),3)])])))),128))])),_:1})])])):(r(),a("div",{key:1,class:n(["grid gap-2 px-2 overflow-y-auto no-scrollbar h-auto max-h-[200px]",{"grid-cols-1":e.$viewport.isLessThan("xs"),"grid-cols-2":e.$viewport.isGreaterOrEquals("xs")}])},[(r(!0),a(l,null,s(d(O),((t,s)=>(r(),j(y,{key:s,class:"bg-white dark:bg-gray-900 rounded-lg p-4",shadow:"sm"},{default:I((()=>[u("div",ct,[u("div",ut,[u("span",null,i(e.$t("Date"))+":",1),u("span",null,i(d(E)(t.created_at,!0)),1)]),u("div",pt,[u("span",null,i(e.$t("Amount"))+":",1),u("span",null,i(t.amount)+" "+i(t.market?.split("/")[1]),1)]),u("div",bt,[u("span",null,i(e.$t("Profit"))+":",1),"COMPLETED"!==t.status?(r(),a("span",{key:0,class:n(["inline-block px-2 font-sans transition-shadow duration-300 py-0.5 text-[0.55rem] rounded-md border dark:bg-transparent",`bg-${B(t.status)}-100 text-${B(t.status)}-500 border-${B(t.status)}-100 dark:border-${B(t.status)}-500 dark:text-${B(t.status)}-500`])},i(t.status),3)):(r(),a("span",ht,i(t.profit>0?"+":t.profit<0?"-":"")+i(t.profit)+" "+i(t.market?.split("/")[1]),1))]),u("div",yt,[u("span",null,i(e.$t("Status"))+":",1),u("div",xt,[u("span",{class:n(["inline-block px-2 font-sans transition-shadow duration-300 py-0.5 text-[0.55rem] rounded-md border dark:bg-transparent",`bg-${B(t.status)}-100 text-${B(t.status)}-500 border-${B(t.status)}-100 dark:border-${B(t.status)}-500 dark:text-${B(t.status)}-500`])},i(t.status),3)])])])])),_:2},1024)))),128)),u("div",vt,[d(w).length>d(f)?(r(),j(x,{key:0,"current-page":d($),"total-items":d(w).length,"item-per-page":d(f),"max-links-displayed":3},null,8,["current-page","total-items","item-per-page"])):c("",!0)])],2))])])):(r(),a("div",Xe,[u("div",Ke,[k(p,{class:"text-warning-500 mr-1",to:"/login"},{default:I((()=>[D(i(e.$t("Login")),1)])),_:1}),D(" "+i(e.$t("or"))+" ",1),k(p,{class:"text-warning-500 ml-1",to:"/register"},{default:I((()=>[D(i(e.$t("Register")),1)])),_:1})])]))])):c("",!0))])])],2);var v}}}),mt={id:"tradesContent",class:"h-full"},ft={class:"h-full overflow-hidden"},kt={key:0,id:"openOrders",class:"h-auto max-h-full"},wt={key:0,class:"flex justify-center items-center flex-col h-full"},$t={style:{inset:"0px",border:"1px dashed rgba(243, 243, 243, 0.08)"},class:"w-64 text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-2 rounded-md text-sm flex text-center justify-center"},Ot={key:1,class:"flex w-full justify-center items-center flex-col text-gray-500 dark:text-gray-500 h-[200px]"},Et={key:2,class:"w-full mt-2"},Dt={class:"pb-5"},Bt={key:0,class:"min-w-full bg-white dark:bg-gray-900 border-collapse"},Mt={key:0,class:"px-4 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 pb-1 text-start"},At={class:"px-4 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 pb-1 text-start"},Ct={class:"px-4 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center pb-1"},Tt={class:"px-4 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center pb-1"},Lt={class:"px-4 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center pb-1"},_t={class:"px-4 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center pb-1"},qt={class:"px-4 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center pb-1"},It={key:1,class:"px-4 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center pb-1"},St={key:0,class:"px-4 py-1 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-start"},jt={class:"px-4 py-1 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-start"},Gt={class:"px-4 py-1 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center"},Pt={class:"px-4 py-1 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center"},Wt={class:"px-4 py-1 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center"},Nt={class:"px-4 py-1 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center"},Ft={key:1,class:"px-4 py-1 border-b border-gray-300 dark:border-gray-700 text-xs text-gray-700 dark:text-gray-200 text-center"},Vt={class:"text-xs text-gray-700 dark:text-gray-200 space-y-1"},zt={class:"flex justify-between"},Rt={class:"flex justify-between"},Jt={class:"flex justify-between"},Ut={class:"flex justify-between"},Ht={class:"flex justify-between"},Yt={class:"flex justify-between"},Xt={class:"flex justify-between"},Kt={class:"flex justify-between items-center gap-2"},Qt={key:0},Zt={class:"mt-2 px-3"},er=t({__name:"Orders",props:{currency:{type:String,required:!0},pair:{type:String,required:!0}},setup(e){const t=e,o=N(),p=_(),h=U();g((async()=>{p.isLoggedIn&&0===o.orders.length&&await o.fetchOrders()}));const f=y("openOrders"),w=q(),$=y("openOrders"),O=y(4),E=x((()=>o.orders)),B=x((()=>E.value.filter((e=>"openOrders"===$.value?"OPEN"===e.status:"OPEN"!==e.status)).sort(((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())))),M=x((()=>parseInt(w.query.page??"1"))),A=x((()=>{const e=(M.value-1)*O.value,t=e+O.value;return B.value.slice(e,t)})),C=e=>{switch(e){case"OPEN":return"warning";case"CLOSED":return"success";case"CANCELED":case"EXPIRED":case"REJECTED":return"danger";default:return"info"}},{formatedDate:T,toast:W}=b(),{cancelOrder:F,checkOrder:V}=z(),H=y(!1),Y=async e=>{H.value=!0;try{const r=await F(e);W.response(r);const a=o.orders.findIndex((t=>t.uuid===e));-1!==a&&(o.orders[a]={...o.orders[a],...r.data.result}),"success"===r.status&&(await h.fetchCurrencyWallet(t.currency,"SPOT"),await h.fetchPairWallet(t.pair,"SPOT"))}catch(r){W.danger(r)}H.value=!1},X=y({}),K=async(e,r,a)=>{const s=e.uuid,l=e.price;a(r,l)?X.value[s]||(X.value[s]=setInterval((async()=>{const e=o.bestAsk;if(!a(e,l))return clearInterval(X.value[s]),void delete X.value[s];const r=await V(s),d=o.orders.findIndex((e=>e.uuid===s));-1!==d&&(o.orders[d]={...o.orders[d],...r.data.result}),"OPEN"!==r.data.result.status&&(clearInterval(X.value[s]),delete X.value[s],await h.fetchCurrencyWallet(t.currency,"SPOT"),await h.fetchPairWallet(t.pair,"SPOT"))}),3e3)):X.value[s]&&(clearInterval(X.value[s]),delete X.value[s])};return v((()=>o.bestAsk),(async e=>{o.orders.filter((e=>"LIMIT"===e.type&&"OPEN"===e.status&&"BUY"===e.side)).forEach((t=>{K(t,e,((e,t)=>e<=t))}));o.orders.filter((e=>"LIMIT"===e.type&&"OPEN"===e.status&&"SELL"===e.side)).forEach((t=>{K(t,e,((e,t)=>e>=t))}))})),m((()=>{Object.values(X.value).forEach((e=>clearInterval(e)))})),(e,t)=>{const o=G,b=L,h=R,y=P,x=J;return r(),a("div",{class:n(["bg-white dark:bg-gray-900 shadow relative h-full w-full",{"rounded-tr-lg":e.$viewport.isGreaterOrEquals("sm")}])},[u("div",{class:n(["w-full bg-gray-100 dark:bg-gray-800 flex",{"rounded-tr-lg":e.$viewport.isGreaterOrEquals("sm")}])},[u("button",{class:n(["py-2 px-4 text-xs font-medium","openOrders"===d($)?"active-tab":"inactive-tab"]),onClick:t[0]||(t[0]=e=>$.value="openOrders")},i(e.$t("Open Orders")),3),u("button",{class:n(["py-2 px-4 text-xs font-medium","orderHistory"===d($)?"active-tab":"inactive-tab"]),onClick:t[1]||(t[1]=e=>$.value="orderHistory")},i(e.$t("Order History")),3)],2),u("div",mt,[u("div",ft,[(v="openOrders",f.value===v?(r(),a("div",kt,[d(p).isLoggedIn?0===d(A)?.length?(r(),a("div",Ot,[k(b,{name:"ph:files-thin",class:"h-16 w-16"}),D(" "+i(e.$t("No Orders Found")),1)])):(r(),a("div",Et,[u("div",Dt,[e.$viewport.isGreaterOrEquals("sm")?(r(),a("table",Bt,[u("thead",null,[u("tr",null,[e.$viewport.isGreaterOrEquals("lg")?(r(),a("th",Mt,i(e.$t("Market")),1)):c("",!0),u("th",At,i(e.$t("Date")),1),u("th",Ct,i(e.$t("Side")),1),u("th",Tt,i(e.$t("Price")),1),u("th",Lt,i(e.$t("Amount")),1),u("th",_t,i(e.$t("Filled")),1),u("th",qt,i(e.$t("Status")),1),"openOrders"===d($)?(r(),a("th",It,i(e.$t("Actions")),1)):c("",!0)])]),u("tbody",null,[k(S,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:I((()=>[(r(!0),a(l,null,s(d(A),((t,s)=>(r(),a("tr",{key:s},[e.$viewport.isGreaterOrEquals("lg")?(r(),a("td",St,i(t.symbol),1)):c("",!0),u("td",jt,i(d(T)(t.created_at,!0)),1),u("td",{class:n(["px-4 py-1 border-b border-gray-300 dark:border-gray-700 text-xs text-center",{"text-green-500":"BUY"===t.side,"text-red-500":"SELL"===t.side}])},i(t.side),3),u("td",Gt,i(t.price),1),u("td",Pt,i(t.amount),1),u("td",Wt,i(t.filled),1),u("td",Nt,[u("span",{class:n(["inline-block px-2 font-sans transition-shadow duration-300 py-0.5 text-[0.55rem] rounded-md border dark:bg-transparent",`bg-${C(t.status)}-100 text-${C(t.status)}-500 border-${C(t.status)}-100 dark:border-${C(t.status)}-500 dark:text-${C(t.status)}-500`])},i(t.status),3)]),"openOrders"===d($)?(r(),a("td",Ft,[k(h,{color:"danger",condensed2:"","data-nui-tooltip":"Cancel Order","data-nui-tooltip-position":"left",onClick:e=>Y(t.uuid),disabled:0!==t.filled||d(H),loading:d(H)},{default:I((()=>[k(b,{name:"line-md:close",class:"h-4 w-4"})])),_:2},1032,["onClick","disabled","loading"])])):c("",!0)])))),128))])),_:1})])])):(r(),a("div",{key:1,class:n(["grid gap-2 px-2 overflow-y-auto no-scrollbar h-auto max-h-[200px]",{"grid-cols-1":e.$viewport.isLessThan("xs"),"grid-cols-2":e.$viewport.isGreaterOrEquals("xs")}])},[(r(!0),a(l,null,s(d(A),((t,s)=>(r(),j(y,{key:s,class:"bg-white dark:bg-gray-900 rounded-lg p-4",shadow:"sm"},{default:I((()=>[u("div",Vt,[u("div",zt,[u("span",null,i(e.$t("Market"))+":",1),u("span",null,i(t.symbol),1)]),u("div",Rt,[u("span",null,i(e.$t("Date"))+":",1),u("span",null,i(d(T)(t.created_at,!0)),1)]),u("div",Jt,[u("span",null,i(e.$t("Side"))+":",1),u("span",null,i(t.side),1)]),u("div",Ut,[u("span",null,i(e.$t("Price"))+":",1),u("span",null,i(t.price),1)]),u("div",Ht,[u("span",null,i(e.$t("Amount"))+":",1),u("span",null,i(t.amount),1)]),u("div",Yt,[u("span",null,i(e.$t("Filled"))+":",1),u("span",null,i(t.filled),1)]),u("div",Xt,[u("span",null,i(e.$t("Status"))+":",1),u("div",Kt,[u("span",{class:n(["inline-block px-2 font-sans transition-shadow duration-300 py-0.5 text-[0.55rem] rounded-md border dark:bg-transparent",`bg-${C(t.status)}-100 text-${C(t.status)}-500 border-${C(t.status)}-100 dark:border-${C(t.status)}-500 dark:text-${C(t.status)}-500`])},i(t.status),3),"openOrders"===d($)?(r(),a("div",Qt,[k(h,{color:"danger",condensed2:"","data-nui-tooltip":"Cancel Order","data-nui-tooltip-position":"left",onClick:e=>Y(t.uuid),disabled:0!==t.filled||d(H),loading:d(H)},{default:I((()=>[k(b,{name:"line-md:close",class:"h-4 w-4"})])),_:2},1032,["onClick","disabled","loading"])])):c("",!0)])])])])),_:2},1024)))),128))],2)),u("div",Zt,[d(B).length>d(O)?(r(),j(x,{key:0,"current-page":d(M),"total-items":d(B).length,"item-per-page":d(O),"max-links-displayed":3},null,8,["current-page","total-items","item-per-page"])):c("",!0)])])])):(r(),a("div",wt,[u("div",$t,[k(o,{class:"text-warning-500 mr-1",to:"/login"},{default:I((()=>[D(i(e.$t("Login")),1)])),_:1}),D(" "+i(e.$t("or"))+" ",1),k(o,{class:"text-warning-500 ml-1",to:"/register"},{default:I((()=>[D(i(e.$t("Register")),1)])),_:1})])]))])):c("",!0))])])],2);var v}}}),tr={class:"bg-white dark:bg-gray-900 h-full shadow w-full"},rr={class:"w-full bg-gray-100 dark:bg-gray-800"},ar={id:"myTab",class:"nf flex-cols -mb-px flex overflow-x-hidden text-center",role:"tablist"},sr={role:"presentation"},lr=["aria-selected"],or={role:"presentation"},dr=["aria-selected"],nr={role:"presentation"},ir=["aria-selected"],cr=t({__name:"Info",props:{currency:{type:String,required:!0},pair:{type:String,required:!0}},setup(e){const t=q();let s;t.path.startsWith("/trade")?s="trade":t.path.startsWith("/ai-trading")?s="ai-trading":t.path.startsWith("/binary")&&(s="binary");const l=y("orderbook"),o=e=>l.value===e,p=e=>{l.value=e};return(t,l)=>{const b=me,h=Te,y=er,x=gt;return r(),a("div",tr,[u("div",rr,[u("ul",ar,[u("li",sr,[u("button",{id:"orderbook-tab",class:n(["inline-block py-2 pl-3 pr-4 text-xs font-medium",o("orderbook")?"active-tab":"inactive-tab"]),type:"button",role:"tab","aria-controls":"orderbook","aria-selected":!!o("orderbook"),onClick:l[0]||(l[0]=e=>p("orderbook"))},i(t.$t("Orderbook")),11,lr)]),u("li",or,[u("button",{id:"trades-tab",class:n(["inline-block py-2 pl-3 pr-4 text-xs font-medium",o("trades")?"active-tab":"inactive-tab"]),type:"button",role:"tab","aria-controls":"trades","aria-selected":!!o("trades"),onClick:l[1]||(l[1]=e=>p("trades"))},i(t.$t("Trades")),11,dr)]),u("li",nr,[u("button",{id:"orders-tab",class:n(["inline-block py-2 pl-3 pr-4 text-xs font-medium",o("orders")?"active-tab":"inactive-tab"]),type:"button",role:"tab","aria-controls":"orders","aria-selected":!!o("orders"),onClick:l[2]||(l[2]=e=>p("orders"))},i(t.$t("Orders")),11,ir)])])]),u("div",{id:"orderbook",class:n(["pt-1 relative overflow-y-auto h-full",{hidden:!o("orderbook")}]),role:"tabpanel","aria-labelledby":"orderbook-tab"},[k(b,{currency:e.currency,pair:e.pair},null,8,["currency","pair"])],2),u("div",{id:"trades",class:n(["pt-1 relative h-full",{hidden:!o("trades")}]),role:"tabpanel","aria-labelledby":"trades-tab"},[k(h,{currency:e.currency,pair:e.pair},null,8,["currency","pair"])],2),u("div",{id:"orders",class:n(["pt-1 relative h-full",{hidden:!o("orders")}]),role:"tabpanel","aria-labelledby":"orders-tab"},["ai-trading"!==d(s)?(r(),j(y,{key:0,currency:e.currency,pair:e.pair,class:"h-full bg-white dark:bg-gray-900 rounded-tr-lg shadow"},null,8,["currency","pair"])):c("",!0),"ai-trading"===d(s)?(r(),j(x,{key:1,class:"h-full bg-white dark:bg-gray-900 rounded-tr-lg shadow"})):c("",!0)],2)])}}});export{Je as _,Ne as a,me as b,Te as c,cr as d,gt as e,K as f,er as g};
