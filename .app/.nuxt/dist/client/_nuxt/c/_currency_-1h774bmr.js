import{a as e,z as t,r as s,Q as a,c as l,ad as r,E as o,b as n,e as u,w as c,o as i,q as d,t as m,u as p,f,k as v,O as w,n as x,_ as y,x as h,X as b,Y as j}from"../e/entry-8qgg5CL-.js";import{_ as g}from"./BaseIconBox.vue-qjQCKz6R.js";import{_ as N}from"./BaseButtonAction.vue-hzSHyI6o.js";import{_ as T,a as _,b as F}from"./Transactions.vue-zBG-Mjsv.js";import{_ as k}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{u as B}from"./useEcosystem-9eBUNbsT.js";import{u as E}from"./user-csCQGhQS.js";import"./AddonApexcharts.vue-7Mw5ynfb.js";import"./client-only-nGApKnAn.js";import"./BaseInput.vue-iInHQMIA.js";import"./input-id-wZ-Ta08j.js";import"./BaseSelect.vue-p0KYznCX.js";import"./FlexTableRow.vue-LmGXINIn.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./FlexTableCell.vue-Rbj2Whgl.js";import"./BaseTag.vue-NMkN1Uk8.js";import"./TairoButtonIcon.vue-KqKLsAHm.js";import"./TairoFlexTable-zdoraqRc.js";import"./BasePagination.vue-eKZkqxB7.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";import"./strings-rQgUKePI.js";const $={key:0,class:"h-[calc(80vh)] flex justify-center items-center"},D={class:"my-auto text-center flex-col justify-center space-y-5"},P={class:"text-2xl font-bold"},W={key:1,class:"h-[calc(86vh)] flex justify-center items-center"},I={class:"my-auto text-center flex-col justify-center space-y-5"},C={class:"text-2xl font-bold"},G={key:2,class:"flex flex-col gap-6 md:pb-10"},A={class:"grid gap-5 grid-cols-12"},O={class:"col-span-12 sm:col-span-6 md:col-span-5 lg:col-span-4"},R={class:"flex justify-center items-center gap-2 w-full flex-wrap"},L={class:"mt-4 flex justify-center text-center"},M=e({__name:"[currency]",setup(e){const{getWallet:M,createWallet:z}=B(),S=t().params.currency.toUpperCase(),Q=s(!1),U=s(!1),q=a(),H=l((()=>q.settings)),V=s(null);const X=E(),Y=l((()=>X.items)),J=l((()=>Y.value.find((e=>e.currency===V.value?.currency)))),{countDecimals:K}=r(),Z=l((()=>Math.abs(Number(K(Number(J.value?.precision)))||8)));o((async()=>{await async function(){try{const e=await M(S);if(e.data.result)V.value=e.data.result;else{Q.value=!0;const e=await z(S);V.value=e.data.result,Q.value=!1}}catch(e){U.value=!0}}(),0===X.currencies.length&&await X.fetchCurrencies()}));const ee=l((()=>{if(!V.value)return 0;if(!V.value?.transactions)return 0;const e=V.value?.transactions?.filter((e=>!("DEPOSIT"!==e.type&&"INCOMING_TRANSFER"!==e.type||"COMPLETED"!==e.status&&"PENDING"!==e.status)));return e.reduce(((e,t)=>e+t.amount),0)})),te=l((()=>{if(!V.value)return 0;if(!V.value?.transactions)return 0;const e=V.value?.transactions?.filter((e=>!("WITHDRAW"!==e.type&&"OUTGOING_TRANSFER"!==e.type||"COMPLETED"!==e.status&&"PENDING"!==e.status)));return e.reduce(((e,t)=>e+t.amount),0)}));return(e,t)=>{const s=y,a=h,l=b,r=g,o=N,B=j,E=T,M=_,z=F,q=k;return i(),n("div",null,[u(q,null,{left:c((()=>[u(s,{size:"xl"},{default:c((()=>[d(m(p(S))+" "+m(e.$t("Portfolio")),1)])),_:1})])),right:c((()=>[f("div",null,[u(l,{to:"/user/wallets/funding",color:"muted",flavor:"pastel"},{default:c((()=>[u(a,{name:"line-md:chevron-left",class:"h-4 w-4"}),f("span",null,m(e.$t("Back")),1)])),_:1})])])),default:c((()=>[p(Q)&&!p(U)?(i(),n("div",$,[f("div",D,[u(r,{size:"2xl",shape:"full",color:"info"},{default:c((()=>[u(a,{name:"svg-spinners:blocks-shuffle-3",class:"h-12 w-12"})])),_:1}),f("h1",P,m(e.$t("Generating Wallet")),1),f("p",null,m(e.$t("Please wait while we generate your wallet"))+".",1)])])):v("",!0),p(U)?(i(),n("div",W,[f("div",I,[u(r,{size:"2xl",shape:"full",color:"danger"},{default:c((()=>[u(a,{name:"line-md:sunny-filled-loop-to-moon-alt-filled-loop-transition",class:"h-12 w-12"})])),_:1}),f("h1",C,m(e.$t("Failed to Generate Wallet")),1),f("p",null,m(e.$t("We were unable to generate your wallet. Please try again later or contact support"))+". ",1),u(o,{to:"/user/wallets/funding"},{default:c((()=>[u(a,{name:"lucide:arrow-left",class:"h-3 w-3"}),f("span",null,m(e.$t("Go Back")),1)])),_:1})])])):v("",!0),p(V)?.currency?(i(),n("div",G,[f("div",A,[f("div",O,[u(B,{class:"overflow-hidden p-6 flex flex-col items-center justify-center w-full h-full"},{default:c((()=>[f("div",R,[p(H).deposit?(i(),w(l,{key:0,shape:"curved",flavor:"outline",color:"success",shadow:"hover",to:`/user/wallets/funding/deposit/${p(V)?.currency.toLowerCase()}`,class:"w-full"},{default:c((()=>[u(a,{name:"solar:card-recive-bold-duotone",class:"h-6 w-6 mr-2"}),d(" "+m(e.$t("Deposit")),1)])),_:1},8,["to"])):v("",!0),p(H).withdraw?(i(),w(l,{key:1,shape:"curved",flavor:"outline",color:"danger",shadow:"hover",class:"w-full",to:`/user/wallets/funding/withdraw/${p(V)?.currency.toLowerCase()}`},{default:c((()=>[u(a,{name:"solar:card-send-bold-duotone",class:"h-6 w-6 mr-2"}),d(" "+m(e.$t("Withdraw")),1)])),_:1},8,["to"])):v("",!0)]),f("div",L,[f("p",{class:x(["ltablet:mx-0 text-muted-400 mx-auto max-w-xs text-center font-sans lg:mx-0",{"text-md":!p(H).deposit&&!p(H).withdraw,"text-xs":p(H).deposit||p(H).withdraw}])},m(e.$t("Monitor your deposits, withdrawals, and transactions conveniently in one place"))+". ",3)])])),_:1})]),p(V)?(i(),w(E,{class:"overflow-hidden p-6 col-span-12 sm:col-span-6 md:col-span-7 lg:col-span-8",key:Number(p(Z)),balance:Number(p(V).balance).toFixed(Number(p(Z))),currency:p(V).currency,uuid:p(V).uuid,income:Number(p(ee)).toFixed(Number(p(Z))),expenses:Number(p(te)).toFixed(Number(p(Z))),incomeText:"Deposits",expensesText:"Withdrawals",uuidFormated:!0,currencyFormated:!1},null,8,["balance","currency","uuid","income","expenses"])):v("",!0)]),p(V)?(i(),w(M,{key:0,incomeText:"Deposits",expensesText:"Withdrawals",income:Number(p(ee)).toFixed(Number(p(Z))),expenses:Number(p(te)).toFixed(Number(p(Z))),wallet:p(V),currencyFormated:!1},null,8,["income","expenses","wallet"])):v("",!0),p(V)?(i(),w(z,{key:1,wallet:p(V),precision:p(Z),viewPath:"/user/wallets/trx"},null,8,["wallet","precision"])):v("",!0)])):v("",!0)])),_:1})])}}});export{M as default};
