import{_ as e}from"./BaseInput.vue-iInHQMIA.js";import{_ as a}from"./BaseSelect.vue-p0KYznCX.js";import{a as t,z as l,ad as s,r as o,c as n,E as i,b as r,e as u,w as c,o as d,u as m,p,f as v,t as f,O as h,k as g,af as b,F as y,B as _,q as w,ag as k,x as j}from"../e/entry-8qgg5CL-.js";import{_ as x}from"./TairoButtonIcon.vue-KqKLsAHm.js";import{_ as B}from"./BaseCheckbox.vue-cNhyVlDH.js";import{_ as $}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as C,a as S}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as T}from"./BaseTag.vue-NMkN1Uk8.js";import{_ as V}from"./TairoFlexTable-zdoraqRc.js";import{_ as F}from"./BasePagination.vue-eKZkqxB7.js";import{_ as I}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{u as L,a as z}from"./frontend-NMoMa4Uu.js";import{_ as A,a as E}from"./placeholder-search-4-dark-Jht91LnM.js";import"./input-id-wZ-Ta08j.js";import"./IconCheck-JvP9GQU1.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";const P={class:"pb-10"},U={value:10},q={value:25},D={value:50},N={value:100},R=v("img",{class:"block dark:hidden",src:A,alt:"Placeholder image"},null,-1),O=v("img",{class:"hidden dark:block",src:E,alt:"Placeholder image"},null,-1),W={key:1,class:"w-full"},Y={key:0,class:"bg-info-100 text-info-700 dark:bg-info-700 dark:text-info-100 rounded-lg p-4 flex justify-between items-center w-full mb-5"},G={class:"text-sm"},H={class:"flex gap-2"},J={class:"relative"},K={class:"pl-4"},M={class:"mt-6"},Q=t({__name:"frontend",setup(t){L();const A=l(),{toast:E}=s(),Q=o(""),X=o(10),Z=n((()=>parseInt(A.query.page??"1"))),ee=o(!1),ae=o([]),{getAdminFrontendSections:te,updateFrontendSectionStatus:le}=z();i((async()=>{const e=await te();ae.value=e.data.result}));const se=n((()=>ae.value.filter((e=>!Q.value||e.title?.toLowerCase().includes(Q.value.toLowerCase()))))),oe=n((()=>{const e=(Z.value-1)*X.value,a=e+X.value;return se.value.slice(e,a)})),ne=o([]),ie=n((()=>ne.value.length===se.value.length));function re(){ie.value?ne.value=[]:ne.value=se.value.map((e=>e.id))??[]}async function ue(e){await le(ne.value,e).then((async e=>{if("success"===e.status){E.response(e);const a=await te();ae.value=a.data.result}else E.danger(e);ne.value=[]}))}return(t,l)=>{const s=e,o=a,n=k,i=j,L=x,z=B,A=$,E=C,ae=T,te=S,le=V,ce=F,de=I;return d(),r("div",P,[u(de,null,{left:c((()=>[u(s,{modelValue:m(Q),"onUpdate:modelValue":l[0]||(l[0]=e=>p(Q)?Q.value=e:null),icon:"lucide:search",classes:{wrapper:"w-full sm:w-auto"},placeholder:"Search Section Title..."},null,8,["modelValue"])])),right:c((()=>[u(o,{modelValue:m(X),"onUpdate:modelValue":l[1]||(l[1]=e=>p(X)?X.value=e:null),label:"",classes:{wrapper:"w-full sm:w-40"}},{default:c((()=>[v("option",U,"10 "+f(t.$t("per page")),1),v("option",q,"25 "+f(t.$t("per page")),1),v("option",D,"50 "+f(t.$t("per page")),1),v("option",N,"100 "+f(t.$t("per page")),1)])),_:1},8,["modelValue"])])),default:c((()=>[v("div",null,[m(ee)||0!==m(oe)?.length?(d(),r("div",W,[!m(ee)&&m(ne).length>0?(d(),r("div",Y,[v("span",G,f(t.$t("You have selected"))+" "+f(m(ne).length)+" "+f(t.$t("items of the total"))+" "+f(m(se).length)+" "+f(t.$t("items"))+". ",1),v("div",H,[u(L,{color:"danger",size:"xs","data-nui-tooltip":"Disable sections",onClick:l[2]||(l[2]=()=>ue(!1))},{default:c((()=>[u(i,{name:"line-md:close-small",class:"h-5 w-5"})])),_:1}),u(L,{color:"success",size:"xs","data-nui-tooltip":"Enable sections",onClick:l[3]||(l[3]=()=>ue(!0))},{default:c((()=>[u(i,{name:"line-md:confirm",class:"h-5 w-5"})])),_:1})])])):g("",!0),u(le,{class:"md:pt-0 sm:pt-5 md:mt-0 sm:mt-5"},{header:c((()=>[v("div",J,[v("span",K,[u(z,{"model-value":m(ie),indeterminate:m(ne).length>0&&!m(ie),name:"table-1-main",shape:"rounded",class:"text-primary-500",onClick:re},null,8,["model-value","indeterminate"])])])])),default:c((()=>[u(b,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transform-gpu","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:c((()=>[(d(!0),r(y,null,_(m(oe),((e,a)=>(d(),h(te,{key:e.id,spaced:""},{start:c((()=>[u(A,{"data-content":"Selection",class:"xs:absolute right-2 ml-2"},{default:c((()=>[u(z,{modelValue:m(ne),"onUpdate:modelValue":l[4]||(l[4]=e=>p(ne)?ne.value=e:null),value:e.id,name:`item-checkbox-${e.id}`,shape:"rounded",class:"text-primary-500"},null,8,["modelValue","value","name"])])),_:2},1024),u(E,{label:"Section","hide-label":a>0,title:e.title,subtitle:e.section},null,8,["hide-label","title","subtitle"])])),end:c((()=>[u(A,{label:"Status","hide-label":a>0,class:"w-20 xs:w-full"},{default:c((()=>[u(ae,{color:e.status?"success":"danger",flavor:"pastel",condensed:""},{default:c((()=>[w(f(e.status?"Active":"Disabled"),1)])),_:2},1032,["color"])])),_:2},1032,["hide-label"]),u(A,{label:"action","hide-label":a>0},{default:c((()=>[null!==e.content?(d(),h(L,{key:0,condensed:"",color:"warning",flavor:"outline",to:`/admin/frontend/${e.id}`,"data-nui-tooltip":"Edit section"},{default:c((()=>[u(i,{name:"line-md:edit-twotone",class:"h-4 w-4"})])),_:2},1032,["to"])):g("",!0)])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1})])),_:1})])):(d(),h(n,{key:0,title:m(Q)&&""!==m(Q)?"No matching results":"No results",subtitle:m(Q)&&""!==m(Q)?"Looks like we couldn't find any matching results for your search terms. Try other search terms.":"Looks like we don't have any data here yet."},{image:c((()=>[R,O])),_:1},8,["title","subtitle"])),v("div",M,[m(se).length>m(X)?(d(),h(ce,{key:0,"total-items":m(se).length,"current-page":m(Z),"item-per-page":m(X)},null,8,["total-items","current-page","item-per-page"])):g("",!0)])])])),_:1})])}}});export{Q as default};
