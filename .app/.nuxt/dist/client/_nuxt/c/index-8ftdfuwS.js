import{_ as e}from"./BaseInput.vue-iInHQMIA.js";import{_ as a}from"./BaseSelect.vue-p0KYznCX.js";import{a as l,z as s,r as t,c as o,E as r,ad as i,ac as n,b as u,e as c,w as d,u as m,an as p,o as g,p as f,q as v,F as h,B as b,O as y,t as _,f as w,k as C,x as k,X as j,ag as x,ao as B}from"../e/entry-8qgg5CL-.js";import{_ as T,a as V}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as A}from"./BaseTag.vue-NMkN1Uk8.js";import{_ as D}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as F,a as I}from"./BaseDropdown.vue-wSpyT9xX.js";import{_ as L}from"./TairoFlexTable-zdoraqRc.js";import{_ as E}from"./BasePagination.vue-eKZkqxB7.js";import{_ as z}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{u as N}from"./useEcommerce-2nLxpPKu.js";import{_ as P,a as q}from"./placeholder-search-4-dark-Jht91LnM.js";import{u as S}from"./categories-M541zqEW.js";import"./input-id-wZ-Ta08j.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./menu-KWZreDHB.js";import"./use-text-value-9iwzs_EA.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";const U=w("option",{value:10},"10 per page",-1),$=w("option",{value:25},"25 per page",-1),K=w("option",{value:50},"50 per page",-1),O=w("option",{value:100},"100 per page",-1),R={key:0},W=w("img",{class:"block dark:hidden",src:P,alt:"Placeholder image"},null,-1),X=w("img",{class:"hidden dark:block",src:q,alt:"Placeholder image"},null,-1),G={key:1,class:"w-full"},H={class:"mt-6"},J={class:"flex w-full items-center justify-between p-4 md:p-6"},M=w("h3",{class:"text-lg font-medium leading-6"},"Delete Category",-1),Q=w("div",{class:"p-4 md:p-6"},[w("div",{class:"mx-auto w-full text-center"},[w("h3",{class:"text-lg font-medium leading-6"},"Are you sure?"),w("p",{class:"text-sm leading-5 mb-3"}," Do you really want to delete this category? This process cannot be undone. ")])],-1),Y={class:"p-4 md:p-6"},Z={class:"flex gap-x-2"},ee=l({__name:"index",setup(l){const P=S(),{deleteAdminCategory:q}=N(),ee=s(),ae=t(""),le=t(10),se=o((()=>parseInt(ee.query.page??"1",10))),te=o((()=>P.categories.filter((e=>e.name.toLowerCase().includes(ae.value.toLowerCase()))))),oe=o((()=>{const e=(se.value-1)*le.value,a=e+le.value;return te.value.slice(e,a)}));r((async()=>{0===P.categories.length&&(P.loading=!0,await P.fetchCategories(),P.loading=!1)}));const{toast:re}=i(),ie=n();const ne=t(!1),ue=t(!1),ce=t(null);async function de(){if(ce.value){ue.value=!0;try{const e=await q(ce.value.id);re.response(e),"success"===e.status&&P.removeCategory(ce.value.id)}catch(e){re.danger(e)}ne.value=!1,ue.value=!1,ce.value=null}}const me=e=>{switch(e){case"ACTIVE":return"success";case"INACTIVE":return"danger";default:return"neutral"}};return(l,s)=>{const t=e,o=a,r=k,i=j,n=x,N=T,q=A,S=D,ee=F,re=I,pe=V,ge=L,fe=E,ve=z,he=B,be=p;return g(),u("div",null,[c(ve,null,{left:d((()=>[c(t,{modelValue:m(ae),"onUpdate:modelValue":s[0]||(s[0]=e=>f(ae)?ae.value=e:null),icon:"lucide:search",classes:{wrapper:"w-full sm:w-auto"},placeholder:"Filter categories..."},null,8,["modelValue"]),c(o,{modelValue:m(le),"onUpdate:modelValue":s[1]||(s[1]=e=>f(le)?le.value=e:null),label:"",classes:{wrapper:"w-full sm:w-40"}},{default:d((()=>[U,$,K,O])),_:1},8,["modelValue"])])),right:d((()=>[c(i,{color:"primary",to:"/admin/extensions/ecommerce/categories/create"},{default:d((()=>[c(r,{name:"lucide:plus",size:"16",class:"mr-2"}),v(" Create Category ")])),_:1})])),default:d((()=>[m(P).loading||0!==m(oe).length?(g(),u("div",G,[c(ge,{class:"pt-5"},{default:d((()=>[(g(!0),u(h,null,b(m(oe),((e,a)=>(g(),y(pe,{key:e.id,spaced:""},{start:d((()=>[c(N,{label:"Category","hide-label":a>0,title:e.name,subtitle:e.description},null,8,["hide-label","title","subtitle"])])),end:d((()=>[c(S,{label:"Status","hide-label":a>0,class:"w-20 xs:w-full"},{default:d((()=>[c(q,{color:me(e.status),flavor:"pastel",condensed:""},{default:d((()=>[v(_(e.status),1)])),_:2},1032,["color"])])),_:2},1032,["hide-label"]),c(S,{label:"Actions","hide-label":a>0},{default:d((()=>[c(re,{flavor:"context",label:"Dropdown",orientation:"end"},{default:d((()=>[c(ee,{onClick:a=>function(e){P.selectCategory(e),ie.push(`/admin/extensions/ecommerce/categories/edit/${e.id}`)}(e),title:"Edit Category"},{start:d((()=>[c(r,{name:"line-md:edit-twotone",class:"me-2 block h-5 w-5"})])),_:2},1032,["onClick"]),c(ee,{onClick:a=>function(e){ce.value=e,ne.value=!0}(e),title:"Delete Category"},{start:d((()=>[c(r,{name:"line-md:close",class:"me-2 block h-5 w-5"})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1}),w("div",H,[m(te).length>m(le)?(g(),y(fe,{key:0,"total-items":m(te).length,"current-page":m(se),"items-per-page":m(le)},null,8,["total-items","current-page","items-per-page"])):C("",!0)])])):(g(),u("div",R,[c(n,{title:m(ae)&&""!==m(ae)?"No matching results":"No results",subtitle:m(ae)&&""!==m(ae)?"Looks like we couldn't find any matching results for your search terms. Try other search terms.":"Looks like we don't have any data here yet."},{image:d((()=>[W,X])),_:1},8,["title","subtitle"])]))])),_:1}),c(be,{open:m(ne),size:"sm",onClose:s[4]||(s[4]=e=>ne.value=!1)},{header:d((()=>[w("div",J,[M,c(he,{onClick:s[2]||(s[2]=e=>ne.value=!1)})])])),footer:d((()=>[w("div",Y,[w("div",Z,[c(i,{onClick:s[3]||(s[3]=e=>ne.value=!1)},{default:d((()=>[v(" Cancel ")])),_:1}),c(i,{color:"danger",flavor:"solid",onClick:de,disabled:m(ue),loading:m(ue)},{default:d((()=>[v(" Delete ")])),_:1},8,["disabled","loading"])])])])),default:d((()=>[Q])),_:1},8,["open"])])}}});export{ee as default};
