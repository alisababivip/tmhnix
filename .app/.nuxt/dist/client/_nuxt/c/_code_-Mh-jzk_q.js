import{a as e,z as a,ad as l,r as t,c as s,E as o,U as r,b as n,e as u,w as i,cF as c,cG as d,o as m,u as p,p as f,f as v,t as _,q as g,O as h,k as j,af as y,F as b,B as w,x as k,X as x,ag as T}from"../e/entry-8qgg5CL-.js";import{_ as V}from"./BaseInput.vue-iInHQMIA.js";import{_ as O}from"./BaseSelect.vue-p0KYznCX.js";import{_ as E,a as L}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as P}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as B}from"./TairoFlexTable-zdoraqRc.js";import{_ as C}from"./BasePagination.vue-eKZkqxB7.js";import{_ as I}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{_ as A,a as F}from"./placeholder-search-4-dark-Jht91LnM.js";import"./input-id-wZ-Ta08j.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";const R={class:"pb-10"},$={value:10},D={value:25},U={value:50},S={value:100},q={class:"w-full flex xs:flex-col sm:flex-row gap-2"},z=v("img",{class:"block dark:hidden",src:A,alt:"Placeholder image"},null,-1),G=v("img",{class:"hidden dark:block",src:F,alt:"Placeholder image"},null,-1),K={key:1,class:"w-full sm:pt-5"},N={class:"mt-6"},W=e({__name:"[code]",setup(e){const A=a(),F=A.params.code,{toast:W}=l(),X=t(""),H=t(50),J=s((()=>parseInt(A.query.page??"1"))),M=t(!1),Q=t({}),Y=t({}),Z=t({}),ee=async(e,a=!1)=>{try{const l=await d(Object.assign({"../../../data/locales/cn.json":()=>c((()=>import("./cn-ffDDyrUJ.js")),__vite__mapDeps([]),import.meta.url),"../../../data/locales/de.json":()=>c((()=>import("./de-bckn7Bnn.js")),__vite__mapDeps([]),import.meta.url),"../../../data/locales/en.json":()=>c((()=>import("./en-Lvweu99D.js")),__vite__mapDeps([]),import.meta.url),"../../../data/locales/es.json":()=>c((()=>import("./es-wZjidp89.js")),__vite__mapDeps([]),import.meta.url),"../../../data/locales/fr.json":()=>c((()=>import("./fr-J7z4IM5k.js")),__vite__mapDeps([]),import.meta.url),"../../../data/locales/mx.json":()=>c((()=>import("./mx-wZjidp89.js")),__vite__mapDeps([]),import.meta.url)}),`../../../data/locales/${e}.json`);a?Z.value=l.default:Q.value=l.default}catch(l){console.error(`Could not load locale ${e}`,l)}};function ae(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(Object.keys(e).length!==Object.keys(a).length)return!1;for(const l in e){if(!a.hasOwnProperty(l))return!1;if(!ae(e[l],a[l]))return!1}return!0}return!1}o((async()=>{await ee("en",!0),await ee(F),Object.keys(Z.value).forEach((e=>{Y.value[e]=Q.value[e]||""}))}));const le=s((()=>!ae(Q.value,Y.value))),{editLocale:te,batchTranslate:se}=r(),oe=async()=>{try{const e=await te(F,Y.value);W.response(e)}catch(e){W.danger(e)}},re=s((()=>Object.keys(Z.value).filter((e=>!X.value||e.toLowerCase().includes(X.value.toLowerCase()))).sort(((e,a)=>e.localeCompare(a))).map((e=>[e,Y.value[e]||""])))),ne=s((()=>{const e=(J.value-1)*H.value,a=e+H.value;return re.value.slice(e,a)})),ue=async()=>{if(!Y.value)return void console.error("modifiedTranslations.value is null or undefined");const e=[];for(const[l,t]of Object.entries(Y.value))t||e.push(l);if(0!==e.length){try{M.value=!0;const a=await se(e,F);if("success"!==a.status)return W.danger(a),void(M.value=!1);for(const[e,l]of Object.entries(a.data.result))Y.value[e]=l}catch(a){console.error("Failed to batch translate",a)}M.value=!1}};return(e,a)=>{const l=V,t=O,s=k,o=x,r=T,c=E,d=P,A=L,W=B,Q=C,Z=I;return m(),n("div",R,[u(Z,null,{left:i((()=>[u(l,{modelValue:p(X),"onUpdate:modelValue":a[0]||(a[0]=e=>f(X)?X.value=e:null),icon:"lucide:search",classes:{wrapper:"w-full sm:w-auto"},placeholder:"Search Languages..."},null,8,["modelValue"]),u(t,{modelValue:p(H),"onUpdate:modelValue":a[1]||(a[1]=e=>f(H)?H.value=e:null),label:"",classes:{wrapper:"w-full sm:w-40"}},{default:i((()=>[v("option",$,"10 "+_(e.$t("per page")),1),v("option",D,"25 "+_(e.$t("per page")),1),v("option",U,"50 "+_(e.$t("per page")),1),v("option",S,"100 "+_(e.$t("per page")),1)])),_:1},8,["modelValue"])])),right:i((()=>[v("div",q,[u(o,{to:"/admin/settings/locales",color:"muted"},{default:i((()=>[u(s,{name:"line-md:chevron-left",class:"mr-2"}),g(" Back ")])),_:1}),"en"!==p(F)?(m(),h(o,{key:0,onClick:ue,color:"info",loading:p(M),flavor:"outline"},{default:i((()=>[g(" Auto Translate ")])),_:1},8,["loading"])):j("",!0),u(o,{onClick:oe,disabled:!p(le)||p(M),loading:p(M),color:"primary"},{default:i((()=>[g(" Save Changes ")])),_:1},8,["disabled","loading"])])])),default:i((()=>[v("div",null,[p(M)||0!==p(ne)?.length?(m(),n("div",K,[u(W,null,{default:i((()=>[u(y,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:i((()=>[(m(!0),n(b,null,w(p(ne),((e,a)=>(m(),h(A,{key:e[0],spaced:""},{start:i((()=>[u(c,{"hide-label":a>0,label:"Key",title:e[0]},null,8,["hide-label","title"])])),end:i((()=>[u(d,{label:"Translation","hide-label":a>0,class:"w-full xs:w-full"},{default:i((()=>[u(l,{modelValue:p(Y)[e[0]],"onUpdate:modelValue":a=>p(Y)[e[0]]=a,placeholder:"Translation"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1})])),_:1})])):(m(),h(r,{key:0,title:"No matching results",subtitle:"Looks like we couldn't find any matching results for your search terms. Try other search terms."},{image:i((()=>[z,G])),_:1})),v("div",N,[p(re).length>p(H)?(m(),h(Q,{key:0,"total-items":p(re).length,"current-page":p(J),"item-per-page":p(H)},null,8,["total-items","current-page","item-per-page"])):j("",!0)])])])),_:1})])}}});export{W as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
