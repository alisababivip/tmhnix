import{_ as e}from"./BaseInput.vue-iInHQMIA.js";import{_ as a}from"./BaseSelect.vue-p0KYznCX.js";import{a as l,z as s,r as t,c as o,E as u,ad as n,b as i,e as r,w as c,u as d,an as m,o as p,p as f,f as v,t as h,q as g,O as w,F as b,B as _,k as x,x as y,X as k,ag as j,ao as $}from"../e/entry-8qgg5CL-.js";import{_ as C,a as B}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as T}from"./BaseTag.vue-NMkN1Uk8.js";import{_ as D}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as V,a as E}from"./BaseDropdown.vue-wSpyT9xX.js";import{_ as I}from"./TairoFlexTable-zdoraqRc.js";import{_ as A}from"./BasePagination.vue-eKZkqxB7.js";import{_ as S}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{u as F}from"./useEcosystem-9eBUNbsT.js";import{_ as N,a as P}from"./placeholder-search-4-dark-Jht91LnM.js";import"./input-id-wZ-Ta08j.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./menu-KWZreDHB.js";import"./use-text-value-9iwzs_EA.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";const U={value:10},z={value:25},W={value:50},q={value:100},L=v("img",{class:"block dark:hidden",src:N,alt:"Placeholder image"},null,-1),O=v("img",{class:"hidden dark:block",src:P,alt:"Placeholder image"},null,-1),Q={key:1,class:"w-full sm:pt-5"},R={class:"mt-6"},X={class:"flex w-full items-center justify-between p-4 md:p-6"},G={class:"font-heading text-muted-900 text-lg font-medium leading-6 dark:text-white"},H={class:"p-4 md:p-6"},J={class:"mx-auto w-full text-center"},K={class:"font-heading text-muted-800 text-lg font-medium leading-6 dark:text-white"},M={class:"font-alt text-muted-500 dark:text-muted-400 text-sm leading-5 mb-3"},Y={class:"p-4 md:p-6"},Z={class:"flex gap-x-2"},ee=l({__name:"index",setup(l){const{getCustodialWallets:N,deployCustodialContract:P}=F(),ee=s(),{chain:ae}=ee.params,le=t(""),se=t(10),te=o((()=>parseInt(ee.query.page??"1"))),oe=t(!1),ue=t([]),ne=o((()=>ue.value?.filter((e=>e.chain.includes(le.value))))),ie=o((()=>{const e=(te.value-1)*se.value,a=e+se.value;return ne.value?.slice(e,a)}));u((async()=>{await re(ae)}));const re=async e=>{oe.value=!0;const a=await N(e);"success"===a.status&&(ue.value=a.data.result),oe.value=!1},{toast:ce}=n(),de=t(!1),me=t(!1);const pe=e=>{switch(e){case"ACTIVE":return"success";case"INACTIVE":return"danger";case"SUSPENDED":return"warning"}},fe=e=>{switch(e){case"ACTIVE":return"Active";case"INACTIVE":return"Disabled";case"SUSPENDED":return"Suspended"}};return(l,s)=>{const t=e,o=a,u=y,n=k,F=j,N=C,ee=T,ue=D,ve=V,he=E,ge=B,we=I,be=A,_e=S,xe=$,ye=m;return p(),i("div",null,[r(_e,null,{left:c((()=>[r(t,{modelValue:d(le),"onUpdate:modelValue":s[0]||(s[0]=e=>f(le)?le.value=e:null),icon:"lucide:search",classes:{wrapper:"w-full sm:w-auto"},placeholder:"Filter chain..."},null,8,["modelValue"]),r(o,{modelValue:d(se),"onUpdate:modelValue":s[1]||(s[1]=e=>f(se)?se.value=e:null),label:"",classes:{wrapper:"w-full sm:w-40"}},{default:c((()=>[v("option",U,"10 "+h(l.$t("per page")),1),v("option",z,"25 "+h(l.$t("per page")),1),v("option",W,"50 "+h(l.$t("per page")),1),v("option",q,"100 "+h(l.$t("per page")),1)])),_:1},8,["modelValue"])])),right:c((()=>[r(n,{color:"success",onClick:s[2]||(s[2]=e=>de.value=!0)},{default:c((()=>[r(u,{name:"lucide:plus",size:"16",class:"mr-2"}),g(" "+h(l.$t("Deploy")),1)])),_:1}),r(n,{color:"muted",to:"/admin/extensions/ecosystem/blockchains/wallets",class:"ms-2",flavor:"pastel"},{default:c((()=>[r(u,{name:"line-md:chevron-left",class:"me-2"}),g(" "+h(l.$t("Back")),1)])),_:1})])),default:c((()=>[v("div",null,[d(oe)||0!==d(ie)?.length?(p(),i("div",Q,[r(we,null,{default:c((()=>[(p(!0),i(b,null,_(d(ie),((e,a)=>(p(),w(ge,{key:e.id,spaced:""},{start:c((()=>[r(N,{label:"Chain","hide-label":a>0,title:`${e.chain}`,subtitle:e.address},null,8,["hide-label","title","subtitle"])])),end:c((()=>[r(ue,{label:"Status","hide-label":a>0,class:"w-20 xs:w-full"},{default:c((()=>[r(ee,{color:pe(e.status),flavor:"pastel",condensed:""},{default:c((()=>[g(h(fe(e.status)),1)])),_:2},1032,["color"])])),_:2},1032,["hide-label"]),r(ue,{label:"Actions","hide-label":a>0},{default:c((()=>[r(he,{flavor:"context",label:"Dropdown",orientation:"end"},{default:c((()=>[r(ve,{to:`/admin/extensions/ecosystem/blockchains/custodial/${e.chain}/${e.uuid}`,title:"View Balances"},{start:c((()=>[r(u,{name:"mdi:eye",class:"me-2 block h-5 w-5"})])),_:2},1032,["to"])])),_:2},1024)])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1})])):(p(),w(F,{key:0,title:"No matching results",subtitle:"Looks like we couldn't find any matching results for your search terms. Try other search terms."},{image:c((()=>[L,O])),_:1})),v("div",R,[d(ne).length>d(se)?(p(),w(be,{key:0,"total-items":d(ne).length,"current-page":d(te),"item-per-page":d(se)},null,8,["total-items","current-page","item-per-page"])):x("",!0)])])])),_:1}),r(ye,{open:d(de),size:"lg",onClose:s[6]||(s[6]=e=>de.value=!1)},{header:c((()=>[v("div",X,[v("h3",G,h(l.$t("Deploy"))+" "+h(d(ae))+" "+h(l.$t("Custodial Wallet")),1),r(xe,{onClick:s[3]||(s[3]=e=>de.value=!1)})])])),footer:c((()=>[v("div",Y,[v("div",Z,[r(n,{onClick:s[4]||(s[4]=e=>de.value=!1)},{default:c((()=>[g(h(l.$t("Cancel")),1)])),_:1}),r(n,{color:"success",flavor:"solid",onClick:s[5]||(s[5]=e=>async function(){me.value=!0;try{const e=await P(ae);ce.response(e),"success"===e.status&&await re(ae)}catch(e){ce.danger(e)}me.value=!1,de.value=!1}()),disabled:d(me),loading:d(me)},{default:c((()=>[g(h(l.$t("Deploy")),1)])),_:1},8,["disabled","loading"])])])])),default:c((()=>[v("div",H,[v("div",J,[v("h3",K,h(l.$t("Are you sure?")),1),v("p",M,h(l.$t("Do you really want to deploy"))+" "+h(l.$t("a new custodial wallet for"))+" "+h(d(ae))+" "+h(l.$t("chain"))+"? "+h(l.$t("This process cannot be undone"))+". ",1)])])])),_:1},8,["open"])])}}});export{ee as default};
