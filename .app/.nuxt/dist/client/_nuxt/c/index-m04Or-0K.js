import{_ as e}from"./tslib.es6-scKrN6qS.js";import{b as r}from"./browser-cZJfsddk.js";import{a as t,r as a,J as i,I as n}from"../e/entry-8qgg5CL-.js";const s=["low","medium","quartile","high","L","M","Q","H"],o=[0,1,2,3,4,5,6,7],u=["alphanumeric","numeric","kanji","byte"],l=["image/png","image/jpeg","image/webp"],m=t({props:{version:{type:Number,validator:e=>e===Number.parseInt(String(e),10)&&e>=1&&e<=40},errorCorrectionLevel:{type:String,validator:e=>s.includes(e)},maskPattern:{type:Number,validator:e=>o.includes(e)},toSJISFunc:Function,margin:Number,scale:Number,width:Number,color:{type:Object,validator:e=>["dark","light"].every((r=>["string","undefined"].includes(typeof e[r]))),required:!0},type:{type:String,validator:e=>l.includes(e),required:!0},quality:{type:Number,validator:e=>e===Number.parseFloat(String(e))&&e>=0&&e<=1,required:!1},value:{type:[String,Array],required:!0,validator:e=>"string"==typeof e||e.every((e=>"string"==typeof e.data&&"mode"in e&&u.includes(e.mode)))}},setup(t,{attrs:s,emit:o}){const u=a();return i(t,(()=>{const{quality:a,value:i}=t,n=e(t,["quality","value"]);r.toDataURL(i,Object.assign(n,null==a||{renderOptions:{quality:a}})).then((e=>{u.value=e,o("change",e)})).catch((e=>o("error",e)))}),{immediate:!0}),()=>n("img",Object.assign(Object.assign({},s),{src:u.value}))}});export{m as Q};
