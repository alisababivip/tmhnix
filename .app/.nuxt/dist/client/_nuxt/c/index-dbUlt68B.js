import{_ as e}from"./BaseInput.vue-iInHQMIA.js";import{_ as a}from"./BaseSelect.vue-p0KYznCX.js";import{a as l,z as r,r as s,c as t,E as o,b as u,e as i,w as n,o as d,u as p,p as m,f as c,t as f,O as g,F as h,B as v,q as _,k as b,ag as w}from"../e/entry-8qgg5CL-.js";import{_ as j,a as k}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as y}from"./BaseTag.vue-NMkN1Uk8.js";import{_ as T}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as x}from"./TairoFlexTable-zdoraqRc.js";import{_ as B}from"./BasePagination.vue-eKZkqxB7.js";import{_ as $}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{_ as E,a as V}from"./placeholder-search-4-dark-Jht91LnM.js";import{u as F}from"./referrals-BZrFRMdV.js";import"./input-id-wZ-Ta08j.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";import"./useMlm-tZO3tueF.js";const C={value:10},I={value:25},P={value:50},R={value:100},L=c("img",{class:"block dark:hidden",src:E,alt:"Placeholder image"},null,-1),N=c("img",{class:"hidden dark:block",src:V,alt:"Placeholder image"},null,-1),A={key:1,class:"w-full"},D={class:"mt-6"},S=l({__name:"index",setup(l){const E=F(),V=r(),S=s(""),q=s(10),M=t((()=>parseInt(V.query.page??"1"))),O=t((()=>E.referrals.filter((e=>e.id.toString().includes(S.value)))??[])),U=t((()=>{const e=(M.value-1)*q.value,a=e+q.value;return O.value.slice(e,a)}));o((async()=>{0===E.referrals.length&&(E.loading=!0,await E.fetchAllReferrals(),E.loading=!1)}));const z=e=>{switch(e){case"PENDING":return"warning";case"COMPLETED":case"ACTIVE":return"success";case"REJECTED":return"danger";default:return"secondary"}};return(l,r)=>{const s=e,t=a,o=w,V=j,F=y,G=T,J=k,W=x,H=B,K=$;return d(),u("div",null,[i(K,null,{left:n((()=>[i(s,{modelValue:p(S),"onUpdate:modelValue":r[0]||(r[0]=e=>m(S)?S.value=e:null),icon:"lucide:search",classes:{wrapper:"w-full sm:w-auto"},placeholder:"Filter referrals..."},null,8,["modelValue"])])),right:n((()=>[i(t,{modelValue:p(q),"onUpdate:modelValue":r[1]||(r[1]=e=>m(q)?q.value=e:null),label:"",classes:{wrapper:"w-full sm:w-40"}},{default:n((()=>[c("option",C,"10 "+f(l.$t("per page")),1),c("option",I,"25 "+f(l.$t("per page")),1),c("option",P,"50 "+f(l.$t("per page")),1),c("option",R,"100 "+f(l.$t("per page")),1)])),_:1},8,["modelValue"])])),default:n((()=>[c("div",null,[p(E)?.loading||0!==p(U)?.length?(d(),u("div",A,[i(W,{class:"pt-5"},{default:n((()=>[(d(!0),u(h,null,v(p(U),((e,a)=>(d(),g(J,{key:e.id,spaced:""},{start:n((()=>[i(V,{label:"Referrer","hide-label":a>0,class:"w-20 xs:w-full",logo:e.referrer?.avatar??"/img/placeholder.png",title:`${e.referrer?.first_name} ${e.referrer?.last_name}`,subtitle:e.referrer?.uuid},null,8,["hide-label","logo","title","subtitle"]),i(V,{label:"Referred","hide-label":a>0,class:"w-20 xs:w-full",logo:e.referred?.avatar??"/img/placeholder.png",title:`${e.referred?.first_name} ${e.referred?.last_name}`,subtitle:e.referred?.uuid},null,8,["hide-label","logo","title","subtitle"])])),end:n((()=>[i(G,{label:"Status","hide-label":a>0,class:"w-20 xs:w-full"},{default:n((()=>[i(F,{color:z(e.status),flavor:"pastel",condensed:""},{default:n((()=>[_(f(e.status),1)])),_:2},1032,["color"])])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1})])):(d(),g(o,{key:0,title:p(S)&&""!==p(S)?"No matching referrals":"No referrals found",subtitle:p(S)&&""!==p(S)?"Looks like we couldn't find any matching referrals for your search terms. Try other search terms.":"Looks like we don't have any referrals here yet."},{image:n((()=>[L,N])),_:1},8,["title","subtitle"])),c("div",D,[p(O).length>p(q)?(d(),g(H,{key:0,"total-items":p(O).length,"current-page":p(M),"item-per-page":p(q)},null,8,["total-items","current-page","item-per-page"])):b("",!0)])])])),_:1})])}}});export{S as default};
