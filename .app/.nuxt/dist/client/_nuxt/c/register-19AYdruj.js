import{a as e,Q as a,c as t,E as s,cL as o,ad as r,z as l,b as d,f as n,e as i,w as u,W as m,u as c,t as p,ae as h,_ as f,g,X as v,C as w,a0 as b,a3 as x,o as y,q as _,O as B,k as j}from"../e/entry-8qgg5CL-.js";import{_ as C}from"./Logo.vue-Ap1LDK0R.js";import{_ as V}from"./BaseThemeToggle.vue-XIprjhKe.js";import{_ as U}from"./BaseInput.vue-iInHQMIA.js";import{_ as $}from"./BaseCheckbox.vue-cNhyVlDH.js";import{z as k,u as P,t as T,F as I}from"./vee-validate.esm-n59zZCC5.js";import"./IconMoon-j5mEjxsz.js";import"./input-id-wZ-Ta08j.js";import"./IconCheck-JvP9GQU1.js";const A={class:"h-screen md:flex"},L={class:"from-primary-900 to-primary-500 i group relative hidden w-1/2 items-center justify-around overflow-hidden bg-gradient-to-tr md:flex"},M={class:"mx-auto max-w-xs text-center"},S=h('<div class="bg-muted-200/20 absolute -start-6 -top-6 h-14 w-0 origin-top-left rotate-45 rounded-full transition-all delay-[25ms] duration-300 group-hover:w-72"></div><div class="bg-muted-200/20 absolute -top-12 start-20 h-14 w-0 origin-top-left rotate-45 rounded-full transition-all delay-75 duration-300 group-hover:w-48"></div><div class="bg-muted-200/20 absolute -start-7 top-24 h-14 w-0 origin-top-left rotate-45 rounded-full transition-all delay-150 duration-300 group-hover:w-40"></div><div class="bg-muted-200/20 absolute -bottom-6 -end-6 h-14 w-0 origin-bottom-right rotate-45 rounded-full transition-all delay-150 duration-300 group-hover:w-72"></div><div class="bg-muted-200/20 absolute -bottom-12 end-20 h-14 w-0 origin-bottom-right rotate-45 rounded-full transition-all delay-75 duration-300 group-hover:w-48"></div><div class="bg-muted-200/20 absolute -end-7 bottom-24 h-14 w-0 origin-bottom-right rotate-45 rounded-full transition-all delay-[25ms] duration-300 group-hover:w-40"></div>',6),z={class:"dark:bg-muted-900 flex flex-col items-center justify-between bg-white py-10 md:w-1/2"},F={class:"mx-auto flex w-full max-w-xs items-center justify-between"},q={class:"mb-4 space-y-3"},E={class:"text-muted-400"},Y={class:"text-muted-400 mt-4 flex justify-between font-sans text-sm leading-5"},H={class:"text-center"},O=e({__name:"register",setup(e){const h=a(),O=t((()=>h.settings));s((async()=>{0===h.settings?.length&&await h.fetchSettings()}));const{register:R}=o(),{toast:W}=r(),Z=l(),{ref:D}=Z.query,N="A valid email is required",Q="First name must be at least 3 characters",X="Last name must be at least 3 characters",G="Password must be at least 8 characters",J="Password cannot contain your email",K="Passwords do not match",ee="You must accept the terms and conditions",ae=k.object({first_name:k.string().min(3,Q),last_name:k.string().min(3,X),email:k.string().email(N),password:k.string().min(8,G),confirmPassword:k.string(),acceptTerms:k.boolean().refine((e=>e),{message:ee})}).superRefine(((e,a)=>{e.password.includes(e.email)&&a.addIssue({code:k.ZodIssueCode.custom,message:J,path:["password"]}),e.password!==e.confirmPassword&&a.addIssue({code:k.ZodIssueCode.custom,message:K,path:["confirmPassword"]})})),te=T(ae),se=t((()=>({first_name:"",last_name:"",email:"",password:"",confirmPassword:"",acceptTerms:!1}))),{handleSubmit:oe,isSubmitting:re,setFieldError:le}=P({validationSchema:te,initialValues:se}),de=oe((async e=>{const{first_name:a,last_name:t,email:s,password:o}=e;try{const e=await R(a,t,s,o,D);"success"===e.status?(W.successText("Your account has been created successfully"),setTimeout((()=>{window.location.reload()}),1e3)):W.danger(e)}catch(r){W.danger(r)}}));return(e,a)=>{const t=f,s=g,o=v,r=C,l=w,h=V,k=U,P=x("PasswordStrength"),T=$,R=b;return y(),d("div",A,[n("div",L,[n("div",M,[i(t,{as:"h2",size:"3xl",weight:"medium",class:"text-white"},{default:u((()=>[_(p(e.$t("Have an Account"))+"? ",1)])),_:1}),i(s,{size:"sm",class:"text-muted-200 mb-3"},{default:u((()=>[_(p(e.$t("No need to waste time on this page, let's take you back to your account")),1)])),_:1}),i(o,{to:"/login",shape:"curved",class:"w-full"},{default:u((()=>[_(p(e.$t("Login to Account")),1)])),_:1})]),S]),n("div",z,[n("div",F,[i(l,{to:"/user",class:"text-muted-400 hover:text-primary-500 dark:text-muted-700 dark:hover:text-primary-500 transition-colors duration-300"},{default:u((()=>[i(r,{class:"h-10 w-10"})])),_:1}),n("div",null,[i(h)])]),n("form",{method:"POST",action:"",onSubmit:a[0]||(a[0]=m(((...e)=>c(de)&&c(de)(...e)),["prevent"])),class:"mx-auto w-full max-w-xs",novalidate:""},[i(t,{as:"h2",size:"3xl",weight:"medium"},{default:u((()=>[_(p(e.$t("Welcome to"))+" "+p(c(O)?.site_name),1)])),_:1}),i(s,{size:"sm",class:"text-muted-400 mb-6"},{default:u((()=>[_(p(e.$t("Let's start by creating you account")),1)])),_:1}),n("div",q,[i(c(I),{name:"first_name"},{default:u((({field:e,errorMessage:a,handleChange:t,handleBlur:s})=>[i(k,{"model-value":e.value,error:a,disabled:c(re),type:"text",shape:"curved",placeholder:"First name",icon:"ph:fingerprint-duotone","onUpdate:modelValue":t,onBlur:s},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])])),_:1}),i(c(I),{name:"last_name"},{default:u((({field:e,errorMessage:a,handleChange:t,handleBlur:s})=>[i(k,{"model-value":e.value,error:a,disabled:c(re),type:"text",shape:"curved",placeholder:"Last name",icon:"ph:fingerprint-duotone","onUpdate:modelValue":t,onBlur:s},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])])),_:1}),i(c(I),{name:"email"},{default:u((({field:e,errorMessage:a,handleChange:t,handleBlur:s})=>[i(k,{"model-value":e.value,error:a,disabled:c(re),type:"email",shape:"curved",placeholder:"Email Address",icon:"ph:at-duotone","onUpdate:modelValue":t,onBlur:s},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])])),_:1}),i(c(I),{name:"password"},{default:u((({field:e,errorMessage:a,handleChange:t,handleBlur:s})=>[i(k,{"model-value":e.value,error:a,disabled:c(re),type:"password",shape:"curved",placeholder:"Password",icon:"ph:lock-duotone","onUpdate:modelValue":t,onBlur:s},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"]),""!=e.value?(y(),B(P,{key:0,class:"mt-1",value:e.value,"min-length":8},null,8,["value"])):j("",!0)])),_:1}),i(c(I),{name:"confirmPassword"},{default:u((({field:e,errorMessage:a,handleChange:t,handleBlur:s})=>[i(k,{"model-value":e.value,error:a,disabled:c(re),type:"password",shape:"curved",placeholder:"Confirm password",icon:"ph:check","onUpdate:modelValue":t,onBlur:s},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])])),_:1}),i(c(I),{name:"acceptTerms"},{default:u((({field:a,errorMessage:t,handleChange:s,handleBlur:o})=>[i(T,{"model-value":a.value,error:t,disabled:c(re),shape:"curved","onUpdate:modelValue":s,onBlur:o},{default:u((()=>[n("span",E,[_(p(e.$t("I accept the"))+" ",1),i(l,{to:"/page/terms",class:"text-primary-600 hover:text-primary-500 font-medium underline-offset-4 transition duration-150 ease-in-out hover:underline focus:underline focus:outline-none"},{default:u((()=>[_(p(e.$t("Terms and Conditions")),1)])),_:1})])])),_:2},1032,["model-value","error","disabled","onUpdate:modelValue","onBlur"])])),_:1})]),i(o,{disabled:c(re),loading:c(re),type:"submit",shape:"curved",color:"primary",class:"!h-11 w-full"},{default:u((()=>[_(p(e.$t("Create Account")),1)])),_:1},8,["disabled","loading"]),n("p",Y,[n("span",null,p(e.$t("Have an account"))+"?",1),i(l,{to:"/login",class:"text-primary-600 hover:text-primary-500 font-medium underline-offset-4 transition duration-150 ease-in-out hover:underline focus:underline focus:outline-none"},{default:u((()=>[_(p(e.$t("Login here")),1)])),_:1})])],32),n("div",H,[i(R,{size:"sm",class:"text-muted-400"},{default:u((()=>[_(" Â© "+p((new Date).getFullYear())+" "+p(c(O)?.site_name)+". "+p(e.$t("All rights reserved"))+". ",1)])),_:1})])])])}}});export{O as default};
