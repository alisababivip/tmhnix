import{a as e,z as a,ac as l,ad as s,c as t,r,E as u,o as n,b as o,e as d,w as c,u as i,t as f,q as p,f as m,p as v,_ as h,x as w,X as y}from"../e/entry-8qgg5CL-.js";import{_ as b}from"./BaseInput.vue-iInHQMIA.js";import{_ as x}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{u as _}from"./wallet-n04aoRPe.js";import{u as g}from"./useWallet-8iHzU2hV.js";import{v as U}from"./validate-IsC9ej9X.js";const $={class:"space-y-5 min-h-screen pb-20"},T={class:"space-y-5 pl-8"},j={class:"w-full"},C={class:"w-full"},I=m("hr",{class:"border-gray-300 dark:border-gray-700"},null,-1),V=e({__name:"index",props:{flutter:{type:Boolean,default:!1}},setup(e){const V=a(),z=l(),D=_(),{toast:k}=s(),{transferFunds:E}=g(),W=V.params.currency.toUpperCase(),B=t((()=>D.wallet)),L=r(""),P=r(0);async function q(){if(L.value)if(U(L.value))try{const e=await E(B.value?.currency,B.value?.type,P.value,L.value);k.response(e),"success"===e.status&&z.push(`/user/${flutter?"flutter/":""}wallets/spot/${W.toLowerCase()}`)}catch(e){k.danger(e)}else k.dangerText("Invalid UUID format");else k.dangerText("Please enter a valid user uuid")}return u((async()=>{await async function(){try{await D.fetchWallet(W,"SPOT")}catch(e){z.push(`/user/${flutter?"flutter/":""}wallets/spot`)}}()})),(a,l)=>{const s=h,t=w,r=y,u=b,_=x;return n(),o("div",null,[d(_,null,{left:c((()=>[d(s,{size:"xl"},{default:c((()=>[p(f(i(W))+" "+f(a.$t("Transfer")),1)])),_:1})])),right:c((()=>[m("div",null,[d(r,{to:`/user/${e.flutter?"flutter/":""}wallets/spot/${i(W).toLowerCase()}`,color:"muted",flavor:"pastel"},{default:c((()=>[d(t,{name:"line-md:chevron-left",class:"h-4 w-4"}),m("span",null,f(a.$t("Cancel")),1)])),_:1},8,["to"])])])),default:c((()=>[m("div",$,[d(s,{as:"h3",size:"2xl",weight:"bold",class:"text-muted-800 dark:text-white"},{default:c((()=>[d(t,{name:"line-md:downloading-loop",class:"h-6 w-6 mr-2"}),p(" "+f(a.$t("Transfer Details")),1)])),_:1}),m("div",T,[m("div",j,[d(u,{modelValue:i(L),"onUpdate:modelValue":l[0]||(l[0]=e=>v(L)?L.value=e:null),shape:"rounded",type:"text",label:"User UUID",placeholder:"Enter target user UUID...",icon:"ph:user-duotone"},null,8,["modelValue"])]),m("div",C,[d(u,{modelValue:i(P),"onUpdate:modelValue":l[1]||(l[1]=e=>v(P)?P.value=e:null),max:i(B)?.balance,shape:"rounded",type:"number",label:"Transfer amount",placeholder:"Enter transfer amount...",icon:"flat-color-icons:money-transfer",error:0!==i(P)?i(P)>Number(i(B)?.balance)&&"Insufficient balance":"Must be greater than 0"},null,8,["modelValue","max","error"])])]),I,m("div",null,[d(r,{class:"w-full",color:"success",onClick:q,disabled:!i(L)||!i(P)},{default:c((()=>[p(f(a.$t("Transfer")),1)])),_:1},8,["disabled"])])])])),_:1})])}}});export{V as _};
