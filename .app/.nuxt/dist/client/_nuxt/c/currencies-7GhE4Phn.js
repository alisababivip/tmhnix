import{_ as e}from"./BaseInput.vue-iInHQMIA.js";import{_ as a}from"./BaseSelect.vue-p0KYznCX.js";import{a as l,c as t,aq as s,ad as o,r,E as n,b as u,e as i,w as c,u as d,an as m,o as p,p as f,f as v,t as h,O as g,k as y,af as w,F as b,B as x,q as k,x as _,X as C,ag as j,s as $,ao as B}from"../e/entry-8qgg5CL-.js";import{_ as V}from"./TairoButtonIcon.vue-KqKLsAHm.js";import{_ as T}from"./BaseCheckbox.vue-cNhyVlDH.js";import{_ as F,a as S}from"./TairoFlexTableRow.vue-SSWkvezF.js";import{_ as U}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as E,a as L}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as A}from"./BaseTag.vue-NMkN1Uk8.js";import{_ as I}from"./TairoFlexTable-zdoraqRc.js";import{_ as P}from"./BasePagination.vue-eKZkqxB7.js";import{_ as q}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{u as z}from"./currency-9FjTf2Bf.js";import{u as D}from"./useExchange-VMAYQu3P.js";import{_ as R,a as N}from"./placeholder-search-4-dark-Jht91LnM.js";import"./input-id-wZ-Ta08j.js";import"./IconCheck-JvP9GQU1.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";const W={value:10},O={value:25},X={value:50},Y={value:100},G=v("img",{class:"block dark:hidden",src:R,alt:"Placeholder image"},null,-1),H=v("img",{class:"hidden dark:block",src:N,alt:"Placeholder image"},null,-1),J={key:1,class:"w-full"},K={key:0,class:"bg-info-100 text-info-700 dark:bg-info-700 dark:text-info-100 rounded-lg p-4 flex justify-between items-center w-full"},M={class:"text-sm"},Q={class:"flex gap-2"},Z={class:"relative"},ee={class:"pl-4"},ae={class:"mt-6"},le={class:"flex w-full items-center justify-between p-4 md:p-6"},te={class:"font-heading text-muted-900 text-lg font-medium leading-6 dark:text-white"},se={class:"p-4 md:p-6"},oe={class:"mx-auto w-full text-start"},re={class:"p-4 md:p-6"},ne={class:"flex gap-x-2"},ue=l({__name:"currencies",setup(l){const R=z(),{updateCurrencyChains:N}=D(),ue=t((()=>R.items)),ie=s(),{toast:ce}=o(),de=r(""),me=r(10),pe=t((()=>parseInt(ie.query.page??"1"))),fe=t((()=>ue.value&&Array.isArray(ue.value)?ue.value.filter((e=>e.currency.toLowerCase().includes(de.value.toLowerCase()))):[])),ve=t((()=>{const e=(pe.value-1)*me.value,a=e+me.value;return fe.value.slice(e,a)})),he=r([]),ge=t((()=>he.value.length===fe.value.length));function ye(){ge.value?he.value=[]:he.value=fe.value.map((e=>e.id))??[]}const we=r(!1),be=r([]),xe=r(!1),ke=async e=>{xe.value=!0;try{const e=await N(R.selectedCurrency?.id,be.value);ce.response(e)}catch(a){ce.danger(a)}we.value=!1,R.selectCurrency(null),xe.value=!1},_e=()=>{we.value=!1,R.selectCurrency(null)};function Ce(e){R.updateCurrenciesStatus(he.value,e).then((e=>{"success"===e.status?ce.success(e):ce.danger(e),he.value=[]}))}return n((async()=>{0===R.currencies.length&&(R.loading=!0,await R.fetchCurrencies(),R.loading=!1)})),(l,t)=>{const s=e,o=a,r=_,n=C,z=j,D=V,N=T,ue=$,ie=F,ce=S,je=U,$e=E,Be=A,Ve=L,Te=I,Fe=P,Se=q,Ue=B,Ee=m;return p(),u("div",null,[i(Se,null,{left:c((()=>[i(s,{modelValue:d(de),"onUpdate:modelValue":t[0]||(t[0]=e=>f(de)?de.value=e:null),icon:"lucide:search",placeholder:"Filter currencies...",classes:{wrapper:"w-full sm:w-auto"}},null,8,["modelValue"]),i(o,{modelValue:d(me),"onUpdate:modelValue":t[1]||(t[1]=e=>f(me)?me.value=e:null),label:"",classes:{wrapper:"w-full sm:w-40"}},{default:c((()=>[v("option",W,"10 "+h(l.$t("per page")),1),v("option",O,"25 "+h(l.$t("per page")),1),v("option",X,"50 "+h(l.$t("per page")),1),v("option",Y,"100 "+h(l.$t("per page")),1)])),_:1},8,["modelValue"])])),right:c((()=>[i(n,{color:"muted",class:"w-full",to:"/admin/settings/exchange",flavor:"outline"},{default:c((()=>[i(r,{name:"line-md:chevron-left",class:"h-4 w-4"}),v("span",null,h(l.$t("Back")),1)])),_:1})])),default:c((()=>[v("div",null,[d(R).loading||0!==d(ve)?.length?(p(),u("div",J,[!d(R).loading&&d(he).length>0?(p(),u("div",K,[v("span",M,h(l.$t("You have selected"))+" "+h(d(he).length)+" "+h(l.$t("items of the total"))+" "+h(d(fe).length)+" "+h(l.$t("items"))+". ",1),v("div",Q,[i(D,{color:"danger",size:"xs","data-nui-tooltip":"Disable currencies",onClick:t[2]||(t[2]=()=>Ce(!1))},{default:c((()=>[i(r,{name:"line-md:close-small",class:"h-5 w-5"})])),_:1}),i(D,{color:"success",size:"xs","data-nui-tooltip":"Enable currencies",onClick:t[3]||(t[3]=()=>Ce(!0))},{default:c((()=>[i(r,{name:"line-md:confirm",class:"h-5 w-5"})])),_:1})])])):y("",!0),i(Te,{class:"md:pt-0 sm:pt-5 md:mt-0 sm:mt-5"},{header:c((()=>[v("div",Z,[v("span",ee,[i(N,{"model-value":d(ge),indeterminate:d(he).length>0&&!d(ge),name:"table-1-main",shape:"rounded",class:"text-primary-500",onClick:ye},null,8,["model-value","indeterminate"])])])])),default:c((()=>[i(w,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:c((()=>[d(R).loading?(p(),u(b,{key:0},x(5,(e=>i(ce,{key:e},{default:c((()=>[i(ie,{type:"grow",class:"md:justify-start","data-content":"Symbol"},{default:c((()=>[i(ue,{class:"h-[46px] w-[46px] shrink-0 rounded-xl"})])),_:1}),i(ie,{class:"text-end md:text-start","data-content":"Status",light:""},{default:c((()=>[i(ue,{class:"h-3 w-24 rounded-lg"})])),_:1}),i(ie,{type:"grow",class:"md:justify-end text-end","data-content":"Actions"},{default:c((()=>[i(ue,{class:"h-8 w-16 rounded-lg"})])),_:1})])),_:2},1024))),64)):(p(!0),u(b,{key:1},x(d(ve),((e,a)=>(p(),g(Ve,{key:d(fe).id,spaced:""},{start:c((()=>[i(je,{"data-content":"Selection",class:"xs:absolute right-2 ml-2"},{default:c((()=>[i(N,{modelValue:d(he),"onUpdate:modelValue":t[4]||(t[4]=e=>f(he)?he.value=e:null),value:e.id,name:`item-checkbox-${e.id}`,shape:"rounded",class:"text-primary-500"},null,8,["modelValue","value","name"])])),_:2},1024),i($e,{label:"Currency","hide-label":a>0,logo:`/img/crypto/${e.currency.toLowerCase()}.png`,title:e.currency,subtitle:e.name},null,8,["hide-label","logo","title","subtitle"])])),end:c((()=>[i(je,{label:"Price","hide-label":a>0,class:"w-full sm:w-40"},{default:c((()=>[k(h(e.price)+" USDT ",1)])),_:2},1032,["hide-label"]),i(je,{label:"Status","hide-label":a>0},{default:c((()=>[i(Be,{color:e.status?"success":"danger",flavor:"pastel"},{default:c((()=>[k(h(e.status?"Active":"Disabled"),1)])),_:2},1032,["color"])])),_:2},1032,["hide-label"]),i(je,{label:"action","hide-label":a>0},{default:c((()=>[i(D,{condensed:"",color:"warning",flavor:"outline",onClick:a=>(e=>{R.selectCurrency(e),be.value=e.chains,we.value=!0})(e),"data-nui-tooltip":"Edit currency"},{default:c((()=>[i(r,{name:"line-md:edit-twotone",class:"h-4 w-4"})])),_:2},1032,["onClick"])])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1})])),_:1})])):(p(),g(z,{key:0,title:d(de)&&""!==d(de)?"No matching results":"No results",subtitle:d(de)&&""!==d(de)?"Looks like we couldn't find any matching results for your search terms. Try other search terms.":"Looks like we don't have any data here yet."},{image:c((()=>[G,H])),_:1},8,["title","subtitle"])),v("div",ae,[d(fe).length>d(me)?(p(),g(Fe,{key:0,"total-items":d(fe).length,"item-per-page":d(me),"current-page":d(pe)},null,8,["total-items","item-per-page","current-page"])):y("",!0)])])])),_:1}),i(Ee,{open:d(we),size:"sm",onClose:_e},{header:c((()=>[v("div",le,[v("h3",te,h(l.$t("Edit Currency")),1),i(Ue,{onClick:t[5]||(t[5]=e=>we.value=!1)})])])),footer:c((()=>[v("div",re,[v("div",ne,[i(n,{onClick:t[6]||(t[6]=e=>we.value=!1)},{default:c((()=>[k(h(l.$t("Cancel")),1)])),_:1}),i(n,{color:"primary",flavor:"solid",onClick:ke,disabled:d(xe),loading:d(xe)},{default:c((()=>[k(h(l.$t("Update")),1)])),_:1},8,["disabled","loading"])])])])),default:c((()=>[v("div",se,[v("div",oe,[(p(!0),u(b,null,x(d(be),(e=>(p(),u("div",{key:e.network,class:"mb-4"},[i(s,{modelValue:e.withdrawFee,"onUpdate:modelValue":a=>e.withdrawFee=a,disabled:d(xe),type:"number",label:`${e.network} Withdraw Fee`,placeholder:"Enter withdraw fee"},null,8,["modelValue","onUpdate:modelValue","disabled","label"])])))),128))])])])),_:1},8,["open"])])}}});export{ue as default};
