import{_ as e}from"./BaseInput.vue-iInHQMIA.js";import{_ as a}from"./BaseSelect.vue-p0KYznCX.js";import{a as l,z as s,ad as t,r,c as o,E as i,b as u,e as n,w as c,o as d,u as m,p,f,t as v,O as h,k as g,af as b,F as _,B as y,q as w,ag as k,x}from"../e/entry-8qgg5CL-.js";import{_ as j}from"./TairoButtonIcon.vue-KqKLsAHm.js";import{_ as C}from"./BaseCheckbox.vue-cNhyVlDH.js";import{_ as B}from"./FlexTableCell.vue-Rbj2Whgl.js";import{_ as $,a as T}from"./FlexTableRow.vue-LmGXINIn.js";import{_ as V}from"./BaseTag.vue-NMkN1Uk8.js";import{_ as F}from"./TairoFlexTable-zdoraqRc.js";import{_ as I}from"./BasePagination.vue-eKZkqxB7.js";import{_ as L}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{u as S}from"./fiatCurrency-EA2f5t5g.js";import{_ as A,a as D}from"./placeholder-search-4-dark-Jht91LnM.js";import"./input-id-wZ-Ta08j.js";import"./IconCheck-JvP9GQU1.js";import"./BaseAvatar.vue-XYSxxLJP.js";import"./BaseIconBox.vue-qjQCKz6R.js";import"./BaseFocusLoop.vue-E4yqAJcg.js";const z={class:"pb-10"},N={value:10},P={value:25},U={value:50},q={value:100},E=f("img",{class:"block dark:hidden",src:A,alt:"Placeholder image"},null,-1),R=f("img",{class:"hidden dark:block",src:D,alt:"Placeholder image"},null,-1),O={key:1,class:"w-full"},W={key:0,class:"bg-info-100 text-info-700 dark:bg-info-700 dark:text-info-100 rounded-lg p-4 flex justify-between items-center w-full mb-5"},Y={class:"text-sm"},G={class:"flex gap-2"},H={class:"relative"},J={class:"pl-4"},K={class:"mt-6"},M=l({__name:"fiat-currencies",setup(l){const A=S(),D=s(),{toast:M}=t(),Q=r(""),X=r(10),Z=o((()=>parseInt(D.query.page??"1"))),ee=r(!1),ae=o((()=>A.allCurrencies));i((async()=>{ee.value=!0,0===A.allCurrencies.length&&await A.fetchAllCurrencies(),ee.value=!1}));const le=o((()=>ae.value.filter((e=>!Q.value||e.code?.toLowerCase().includes(Q.value.toLowerCase()))).sort(((e,a)=>new Date(a.created_at).getTime()-new Date(e.created_at).getTime())))),se=o((()=>{const e=(Z.value-1)*X.value,a=e+X.value;return le.value.slice(e,a)})),te=r([]),re=o((()=>te.value.length===le.value.length));function oe(){re.value?te.value=[]:te.value=le.value.map((e=>e.id))??[]}function ie(e){A.updateCurrenciesStatus(te.value,e).then((e=>{"success"===e.status?M.success(e):M.danger(e),te.value=[]}))}return(l,s)=>{const t=e,r=a,o=k,i=x,S=j,D=C,M=B,ae=$,ue=V,ne=T,ce=F,de=I,me=L;return d(),u("div",z,[n(me,null,{left:c((()=>[n(t,{modelValue:m(Q),"onUpdate:modelValue":s[0]||(s[0]=e=>p(Q)?Q.value=e:null),icon:"lucide:search",classes:{wrapper:"w-full sm:w-auto"},placeholder:"Search Currency Code..."},null,8,["modelValue"])])),right:c((()=>[n(r,{modelValue:m(X),"onUpdate:modelValue":s[1]||(s[1]=e=>p(X)?X.value=e:null),label:"",classes:{wrapper:"w-full sm:w-40"}},{default:c((()=>[f("option",N,"10 "+v(l.$t("per page")),1),f("option",P,"25 "+v(l.$t("per page")),1),f("option",U,"50 "+v(l.$t("per page")),1),f("option",q,"100 "+v(l.$t("per page")),1)])),_:1},8,["modelValue"])])),default:c((()=>[f("div",null,[m(ee)||0!==m(se)?.length?(d(),u("div",O,[!m(A).loading&&m(te).length>0?(d(),u("div",W,[f("span",Y,v(l.$t("You have selected"))+" "+v(m(te).length)+" "+v(l.$t("items of the total"))+" "+v(m(le).length)+" "+v(l.$t("items"))+". ",1),f("div",G,[n(S,{color:"danger",size:"xs","data-nui-tooltip":"Disable currencies",onClick:s[2]||(s[2]=()=>ie(!1))},{default:c((()=>[n(i,{name:"line-md:close-small",class:"h-5 w-5"})])),_:1}),n(S,{color:"success",size:"xs","data-nui-tooltip":"Enable currencies",onClick:s[3]||(s[3]=()=>ie(!0))},{default:c((()=>[n(i,{name:"line-md:confirm",class:"h-5 w-5"})])),_:1})])])):g("",!0),n(ce,{class:"md:pt-0 sm:pt-5 md:mt-0 sm:mt-5"},{header:c((()=>[f("div",H,[f("span",J,[n(D,{"model-value":m(re),indeterminate:m(te).length>0&&!m(re),name:"table-1-main",shape:"rounded",class:"text-primary-500",onClick:oe},null,8,["model-value","indeterminate"])])])])),default:c((()=>[n(b,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transform-gpu","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:c((()=>[(d(!0),u(_,null,y(m(se),((e,a)=>(d(),h(ne,{key:e.id,spaced:""},{start:c((()=>[n(M,{"data-content":"Selection",class:"xs:absolute right-2 ml-2"},{default:c((()=>[n(D,{modelValue:m(te),"onUpdate:modelValue":s[4]||(s[4]=e=>p(te)?te.value=e:null),value:e.id,name:`item-checkbox-${e.id}`,shape:"rounded",class:"text-primary-500"},null,8,["modelValue","value","name"])])),_:2},1024),n(ae,{label:"Currency","hide-label":a>0,title:`${e.code} (${e.symbol})`,subtitle:e.name},null,8,["hide-label","title","subtitle"])])),end:c((()=>[n(M,{label:"price","hide-label":a>0,class:"w-20 xs:w-full"},{default:c((()=>[w(v(e.price?e.price:"N/A"),1)])),_:2},1032,["hide-label"]),n(M,{label:"precision","hide-label":a>0,class:"w-20 xs:w-full"},{default:c((()=>[w(v(e.precision),1)])),_:2},1032,["hide-label"]),n(M,{label:"Status","hide-label":a>0,class:"w-20 xs:w-full"},{default:c((()=>[n(ue,{color:e.status?"success":"danger",flavor:"pastel",condensed:""},{default:c((()=>[w(v(e.status?"Active":"Disabled"),1)])),_:2},1032,["color"])])),_:2},1032,["hide-label"])])),_:2},1024)))),128))])),_:1})])),_:1})])):(d(),h(o,{key:0,title:m(Q)&&""!==m(Q)?"No matching results":"No results",subtitle:m(Q)&&""!==m(Q)?"Looks like we couldn't find any matching results for your search terms. Try other search terms.":"Looks like we don't have any data here yet."},{image:c((()=>[E,R])),_:1},8,["title","subtitle"])),f("div",K,[m(le).length>m(X)?(d(),h(de,{key:0,"total-items":m(le).length,"current-page":m(Z),"item-per-page":m(X)},null,8,["total-items","current-page","item-per-page"])):g("",!0)])])])),_:1})])}}});export{M as default};
