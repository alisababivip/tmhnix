import{u as s}from"./useBlog-0Y19BpbN.js";import{d as t}from"../e/entry-8qgg5CL-.js";const{getCategories:e,getPosts:a,getComments:o,getTags:c}=s(),l=t({id:"blog",state:()=>({categories:[],posts:[],comments:[],tags:[],selectedPost:null,selectedCategory:null,selectedTag:null,loading:!1}),getters:{selectedCategoryPosts:s=>s.selectedCategory?.post||[],selectedPostComments:s=>s.comments?s.comments.filter((t=>t.postId===s.selectedPost?.id)):[],selectedTagPosts(s){if(!s.selectedTag||!s.tags)return[];const t=s.tags.find((t=>t.slug===s.selectedTag.slug));return t?t.post_tag.map((s=>s.post)):[]}},actions:{async fetchCategories(){this.loading=!0;const s=await e();"success"===s.status&&(this.categories=s.data.result),this.loading=!1},async fetchPosts(){const s=await a();"success"===s.status&&(this.posts=s.data.result)},async fetchComments(){const s=await o();"success"===s.status&&(this.comments=s.data.result)},async fetchTags(){const s=await c();"success"===s.status&&(this.tags=s.data.result)},selectCategory(s){this.selectedCategory=s},selectPost(s){this.selectedPost=s},selectTag(s){this.selectedTag=s},async getPostBySlug(s){return this.posts||await this.fetchPosts(),this.posts?.find((t=>t.slug===s))||null}}});export{l as u};
