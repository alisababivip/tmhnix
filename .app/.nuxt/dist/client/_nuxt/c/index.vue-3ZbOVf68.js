import{a as e,S as t,c as s,r as a,ac as r,ad as l,E as o,o as i,b as n,e as c,w as u,t as d,f,q as m,O as y,k as p,u as g,F as x,n as v,B as b,x as h,X as k,Y as w}from"../e/entry-8qgg5CL-.js";import{_ as P}from"./BaseIconBox.vue-qjQCKz6R.js";import{_}from"./TairoContentWrapper.vue-JqAKR4O_.js";import{_ as E}from"./Faqs.vue-my_shOF5.js";import{u as $}from"./useKyc-y1ecMeTj.js";const V={class:"mx-auto"},D={class:"text-xl font-medium"},I={class:"grid gap-5 xs:grid-cols-1 md:grid-cols-3"},C={class:"xs:col-span-1 md:col-span-2 md:border-r border-gray-400 dark:border-gray-600 md:pr-5"},j={class:"text-gray-800 dark:text-gray-200 py-5"},T={class:"large"},N={class:"mx-auto"},Y={class:"flex flex-col jsutify-center items-center"},O={class:"text-gray-700 dark:text-gray-300 text-2xl font-medium my-5"},A={class:"px-md-5"},K={class:"flex flex-col jsutify-center items-center"},R={class:"text-info-500 text-2xl font-medium mb-5"},B={class:"px-md-5"},G={class:"flex flex-col jsutify-center items-center"},S={class:"text-danger-500 text-2xl font-medium mb-5"},q={class:""},z={class:"flex flex-col jsutify-center items-center"},M={class:"text-success-500 text-2xl font-medium mb-5"},J={class:"px-md-5"},U={class:"mt-4 mb-2 text-lg"},F={class:"space-y-4"},L={class:"flex items-center justify-between"},W={class:"font-medium"},X=e({__name:"index",props:{flutter:{type:Boolean,default:!1}},setup(e){const X=e,H=t(),Q=s((()=>H.getProfile)),{getActiveKycTemplate:Z}=$(),ee=a(null),te=a(0),se=s((()=>parseInt(Q.value?.kyc?.level)||0)),ae=s((()=>Q.value?.kyc?.length>0?"Verify your identity to participate in our platform.":"To comply with regulations, each participant is required to go through identity verification (KYC/AML) to prevent fraud, money laundering operations, transactions banned under the sanctions regime, or those which fund terrorism. Please complete our fast and secure verification process to participate in our platform.")),re=e=>`/user/${X.flutter?"flutter/":""}kyc/application?state=${e}&l=${se.value+("new"===e?1:0)}`,le={APPROVED:"text-success-700 bg-success-100 border border-success-300 rounded-lg dark:bg-gray-800 dark:border-success-800 dark:text-success-400",PENDING:"text-info-700 bg-info-100 border border-info-300 rounded-lg dark:bg-gray-800 dark:border-info-800 dark:text-info-400",REJECTED:"text-danger-700 bg-danger-100 border border-danger-300 rounded-lg dark:bg-gray-800 dark:border-danger-800 dark:text-danger-400",MUTED:"text-gray-900 bg-gray-100 border border-gray-300 rounded-lg dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400"},oe=s((()=>{const e=Q.value?.kyc?.status;return le[e]||le.MUTED})),ie={0:"Verified",1:"Verified Plus",2:"Verified Pro",3:"Verified Business"},ne=s((()=>ie[se.value]||"Verified")),ce=e=>{for(const t in e)ee.value?.options.hasOwnProperty(t)&&parseInt(ee.value?.options[t].level)>te.value&&(te.value=parseInt(ee.value?.options[t].level))},ue=r(),{toast:de}=l();o((async()=>{try{await H.fetchProfile();const e=await Z();if(e.data?.result&&e.data?.result?.id){ee.value=e.data.result;const{options:t}=ee.value;t&&(ce(t),t.custom_fields&&ce(t.custom_fields))}else de.warning("KYC system under maintenance. Please try again later."),ue.push("/user")}catch(e){console.error(e)}}));const fe=s((()=>{switch(Q.value?.kyc?.status){case"APPROVED":return"line-md:confirm";case"PENDING":return"line-md:loading-alt-loop";case"REJECTED":return"line-md:close";default:return""}})),me=s((()=>{const e=[];for(let t=1;t<=te.value;t++){let s={id:t,level:t,name:["Verified","Verified Plus","Verified Pro"][t-1],cssClass:se.value>=t?se.value===t?oe.value:le.APPROVED:le.MUTED,icon:se.value>=t?se.value===t?fe.value:"line-md:confirm":"",showStatus:se.value>=t};e.push(s)}return e}));return(t,s)=>{const a=h,r=k,l=P,o=w,$=_,X=E;return i(),n("div",V,[c($,null,{left:u((()=>[f("h4",D,d(t.$t("Identity Verification Center")),1)])),right:u((()=>[e.flutter?p("",!0):(i(),y(r,{key:0,to:"/user",color:"muted"},{default:u((()=>[c(a,{name:"line-md:chevron-left",class:"mr-2"}),m(" "+d(t.$t("Back")),1)])),_:1}))])),default:u((()=>[f("div",I,[f("div",C,[f("div",j,[f("p",T,d(g(ae)),1)]),f("div",N,[!g(Q)?.kyc||0===g(se)&&"PENDING"!==g(Q)?.kyc?.status?(i(),y(o,{key:0,class:"px-5 py-10 text-center border-muted-500 rounded"},{default:u((()=>[f("div",Y,[c(l,{size:"2xl",shape:"full",class:"bg-gray-200 text-gray-600 dark:text-gray-300 dark:bg-gray-700"},{default:u((()=>[c(a,{name:"system-uicons:files-multi",class:"h-10 w-10"})])),_:1}),f("span",O,d(t.$t("You have not submitted your necessary documents to verify your identity."))+d(t.$t(" In order to trade in our platform, please verify your identity.")),1),f("p",A,d(t.$t("It would be great if you could submit the form. If you have any questions, please feel free to contact our support team.")),1),c(r,{to:re("new"),color:"primary",class:"mt-5"},{default:u((()=>[m(d(t.$t("Click here to complete your KYC")),1)])),_:1},8,["to"])])])),_:1})):"PENDING"===g(Q)?.kyc?.status?(i(),y(o,{key:1,class:"px-5 py-10 text-center border-info rounded flex items-center"},{default:u((()=>[f("div",K,[c(l,{size:"2xl",shape:"full",color:"info",flavor:"pastel",class:"mb-5"},{default:u((()=>[c(a,{name:"line-md:loading-alt-loop",class:"h-16 w-16"})])),_:1}),f("span",R,d(t.$t("Your identity verification is processing.")),1),f("p",B,d(t.$t("We are still working on your identity verification. Once our team verifies your identity, you will be notified by email.")),1)])])),_:1})):"REJECTED"===g(Q)?.kyc?.status?(i(),y(o,{key:2,class:"px-5 py-10 text-center border-warning rounded"},{default:u((()=>[f("div",G,[c(l,{size:"2xl",shape:"full",color:"danger",flavor:"pastel",class:"mb-5"},{default:u((()=>[c(a,{name:"line-md:alert",class:"h-12 w-12"})])),_:1}),f("span",S,d(t.$t("Sorry! Your application was rejected.")),1),f("p",q,d(t.$t("In our verification process, we found information that is incorrect or missing. Please resubmit the form. In case of any issues with the submission, please contact our support team.")),1),c(r,{to:re("resubmit"),color:"primary",class:"mt-5"},{default:u((()=>[m(d(t.$t("Submit Again")),1)])),_:1},8,["to"])])])),_:1})):"APPROVED"===g(Q)?.kyc?.status?(i(),y(o,{key:3,class:"px-5 py-10 text-center border-success rounded"},{default:u((()=>[f("div",z,[c(l,{size:"2xl",shape:"full",color:"success",flavor:"pastel",class:"mb-5"},{default:u((()=>[c(a,{name:"fluent:shield-task-28-regular",class:"h-16 w-16"})])),_:1}),f("span",M,d(t.$t("Your identity has been verified successfully.")),1),f("p",J,d(t.$t("One of our team members has verified your identity. Now you can participate in our platform. Thank you.")),1),g(te)>g(se)?(i(),y(r,{key:0,to:`/user/${e.flutter?"flutter/":""}kyc/application?state=new&l=${g(se)+1}`,color:"primary",class:"mt-5"},{default:u((()=>[m(d(t.$t("Get")+" "+g(ne)),1)])),_:1},8,["to"])):p("",!0)])])),_:1})):p("",!0)])]),f("div",null,[f("h4",U,d(t.$t("Verification Levels")),1),f("ul",F,[(i(!0),n(x,null,b(g(me),(e=>(i(),n("li",{key:e.id},[c(o,{class:v(["w-full p-4",e.cssClass]),role:"alert"},{default:u((()=>[f("div",L,[f("h3",W,d(e.level)+". "+d(e.name),1),e.showStatus?(i(),y(a,{key:0,name:e.icon,color:"currentColor",class:"h-5 w-5 text-gray-400"},null,8,["name"])):p("",!0)])])),_:2},1032,["class"])])))),128))])])])])),_:1}),c(X,{category:"KYC"})])}}});export{X as _};
