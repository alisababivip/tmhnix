import{a as e,o as a,b as t,f as l,t as s,e as r,r as i,cN as u,E as o,ay as n,Z as d,ad as c,S as m,c as p,z as f,J as y,ac as v,w as b,q as x,W as h,u as g,n as w,k as _,F as k,B as P,O as $,p as C,_ as j,a0 as N,x as V,g as T,Y as z,X as D,ag as M}from"../e/entry-8qgg5CL-.js";import{_ as S}from"./BaseButtonAction.vue-hzSHyI6o.js";import A from"./TairoLogo-1mw1Ph_g.js";import{_ as F}from"./BaseInput.vue-iInHQMIA.js";import{_ as U}from"./BaseCheckbox.vue-cNhyVlDH.js";import{_ as O}from"./BaseTextarea.vue-8st5U0qk.js";import{_ as I}from"./BaseInputFile.vue-EMbXF6a8.js";import{u as B}from"./useWallet-8iHzU2hV.js";import{u as E}from"./fetch-i3Y1jjTS.js";import{f as q}from"./strings-rQgUKePI.js";import{_ as L,a as Y}from"./placeholder-search-4-dark-Jht91LnM.js";import{u as R}from"./methods-p0eBlE7Q.js";import{u as J}from"./gateways-XQMiYxyn.js";import{z as G,u as H,F as W,t as X}from"./vee-validate.esm-n59zZCC5.js";const Z=""+globalThis.__publicAssetsURL("img/illustrations/card-chip.svg"),K={class:"dark:bg-muted-900 border-muted-200 dark:border-muted-800 shadow-muted-400/10 dark:shadow-muted-800/10 relative mx-auto h-[200px] w-full max-w-[315px] rounded-xl border bg-white p-6 shadow-xl"},Q={class:"flex h-full flex-col gap-3"},ee={class:"flex items-center gap-2"},ae=l("div",{class:"bg-muted-200 dark:bg-muted-700 h-2 w-2 rounded-full"},null,-1),te={class:"text-muted-400 font-sans text-sm"},le={class:"mt-auto space-y-1"},se=l("img",{class:"mb-3 w-11",src:Z,alt:"Card chip",width:"44",height:"31"},null,-1),re={class:"font-heading text-muted-500 text-sm","x-text":"cardholder"},ie={class:"font-heading text-muted-400 text-xs"},ue={class:"font-heading text-muted-400 flex w-full items-center gap-2 text-xs"},oe={class:"flex items-center gap-2"},ne={class:"flex items-center gap-2"},de=l("div",{class:"absolute end-5 top-4 flex"},[l("div",{class:"-me-2 h-9 w-9 rounded-full bg-rose-500/60"}),l("div",{class:"relative z-10 -ms-2 h-9 w-9 rounded-full bg-yellow-500/60"})],-1),ce={class:"absolute bottom-7 end-5 flex"},me=e({__name:"CreditCardReal",props:{name:{default:"•••••• ••••••"},number:{default:"•••• •••• •••• ••••"},expiryYear:{default:"••"},expiryMonth:{default:"••"},cvc:{default:"•••"}},setup(e){const i=e;return(e,u)=>{const o=A;return a(),t("div",K,[l("div",Q,[l("div",ee,[ae,l("span",te,s(e.$t("Mastercard")),1)]),l("div",le,[se,l("div",null,[l("h5",re,s(i.name),1)]),l("div",null,[l("p",ie,[l("span",null,s(i.number),1)])]),l("div",ue,[l("div",oe,[l("span",null,s(e.$t("EXP")),1),l("span",null,s(i.expiryMonth)+"/"+s(i.expiryYear),1)]),l("div",ne,[l("span",null,s(e.$t("CVC")),1),l("span",null,s(i.cvc),1)])])])]),de,l("div",ce,[r(o,{class:"text-primary-500 h-10 w-10"})])])}}}),pe={id:"paypal-button-container"},fe=e({__name:"PayPalPayment",setup(e){const l=d(),s=i(!1);return u({script:s.value?[{src:`https://www.paypal.com/sdk/js?client-id=${l.public.appPaypalClientId}&components=buttons&enable-funding=venmo,paylater`,defer:!0,onload:()=>s.value=!0}]:[]}),o((async()=>{if(window.paypal)s.value=!0;else{const e=document.createElement("script");e.src=`https://www.paypal.com/sdk/js?client-id=${l.public.appPaypalClientId}&components=buttons&enable-funding=venmo,paylater`,e.onload=()=>s.value=!0,document.body.appendChild(e)}n((()=>{if(s.value){[paypal.FUNDING.PAYPAL].forEach((e=>{paypal.Buttons({fundingSource:e,style:{layout:"vertical",shape:"pill",color:e==paypal.FUNDING.PAYLATER?"gold":""},createOrder:async(e,a)=>{try{const e=await fetch(`${window.location.protocol}//${window.location.hostname}:9597/api/ipn/paypal/orders`,{method:"POST"});return(await e.json()).id}catch(t){console.error(t)}},onApprove:async(e,a)=>{try{const t=await fetch(`${window.location.protocol}//${window.location.hostname}:9597/api/ipn/paypal/orders/${e.orderID}/capture`,{method:"POST"}),l=await t.json(),s=Array.isArray(l.details)&&l.details[0];if(s&&"INSTRUMENT_DECLINED"===s.issue)return a.restart();if(s){let e="Sorry, your transaction could not be processed.";e+=s.description?" "+s.description:"",e+=l.debug_id?" ("+l.debug_id+")":"",alert(e)}console.log("Capture result",l,JSON.stringify(l,null,2));const r=l.purchase_units[0].payments.captures[0];alert("Transaction "+r.status+": "+r.id+"See console for all available details")}catch(t){console.error(t)}}}).render("#paypal-button-container")}))}}))})),(e,l)=>(a(),t("div",pe))}}),ye={class:"grid gap-5 grid-cols-1 lg:grid-cols-12 mb-20"},ve={class:"border-muted-200 dark:border-muted-700 flex items-center justify-between gap-4 border-b px-5 py-5"},be={class:"ms-auto"},xe={key:0},he=l("label",{class:"ms-4 text-sm font-medium"},"PayPal",-1),ge={key:0,class:"items-center justify-between gap-4 p-5 pt-4 grid grid-cols-1 md:grid-cols-2"},we={class:"max-w-xs"},_e={class:"grow"},ke={class:"border-muted-200 dark:border-muted-700 border-t"},Pe={class:"ms-4 text-sm font-medium"},$e={key:1,class:"items-center justify-between gap-4 p-5 pt-4 grid grid-cols-1 md:grid-cols-2"},Ce={class:"max-w-xs"},je={class:"grow"},Ne=["onClick"],Ve={class:"ms-4 text-sm font-medium"},Te={key:0,class:"items-center justify-between gap-4 p-5 pt-4 grid grid-cols-1 md:grid-cols-2"},ze={class:"max-w-xs"},De={class:"list-disc pl-5 text-muted-700 dark:text-muted-200 text-sm mt-4"},Me={class:"grow"},Se=["src"],Ae={class:"px-5 pt-5"},Fe={class:"mb-6"},Ue={key:0,class:"flex items-center"},Oe={class:"ms-auto"},Ie={class:"font-semibold"},Be={key:1,class:"flex items-center mt-2"},Ee={class:"ms-auto"},qe={class:"font-semibold"},Le={class:"border-muted-200 dark:border-muted-700 mt-4 border-t px-5 pt-5"},Ye={class:"flex items-center justify-between"},Re={class:"font-semibold"},Je={class:"my-4 flex items-center px-5"},Ge={class:"flex flex-col px-5 pt-4"},He={key:0},We={class:"space-y-5"},Xe={key:0},Ze=["src"],Ke={key:1,class:"col-span-1 lg:col-span-5"},Qe={class:"px-5 pt-5"},ea={class:"mb-6"},aa={class:"nui-label pb-3 text-[0.825rem]"},ta={key:0,class:"flex items-center"},la={class:"ms-auto"},sa={class:"font-semibold"},ra={key:1,class:"flex items-center mt-2"},ia={class:"ms-auto"},ua={class:"font-semibold"},oa={class:"border-muted-200 dark:border-muted-700 mt-4 border-t px-5 pt-5"},na={class:"flex items-end justify-between"},da={class:"font-semibold"},ca={class:"my-4 flex items-center px-5"},ma={class:"flex flex-col px-5 pt-4"},pa=l("img",{class:"block dark:hidden",src:L,alt:"Placeholder image"},null,-1),fa=l("img",{class:"hidden dark:block",src:Y,alt:"Placeholder image"},null,-1),ya=e({__name:"index",props:{flutter:{type:Boolean,default:!1}},setup(e){const u=e,{toast:n}=c(),d=m(),A=p((()=>d.getProfile)),{getWallet:L,customFiatDepositMethod:Y}=B(),Z=f(),K=i(null),Q=R(),ee=J(),ae=i(null),te=p((()=>K.value?ee.gateways.filter((e=>e.currencies&&e.currencies.hasOwnProperty(K.value?.currency)&&e.status)):[]));o((async()=>{try{const e=await L(Z.params.uuid);K.value=e.data.result}catch(a){n.danger(a)}0===Q.methods.length&&await Q.fetchDepositMethods(),0===ee.gateways.length&&await ee.fetchDepositGateways();const e=ee.gateways.filter((e=>e.currencies&&e.currencies.hasOwnProperty(K.value?.currency))).find((e=>e.status));e?ae.value=e:Q.methods.length>0&&(ae.value=Q.methods[0])}));const le=i(0),se=p((()=>ae.value?.fixed_fee??0)),re=p((()=>ae.value?.percentage_fee/100)),ie=p((()=>re.value>0||se.value>0?(ae.value?.alias?le.value:ya.amount)*(re.value>0?re.value:1)+se.value:0)),ue=p((()=>(ae.value?.alias?le.value:ya.amount)+ie.value)),oe=G.object({amount:G.number().min(ae.value?.min_amount,"Amount must be greater than 0")}),ne=X(oe),de=p((()=>({amount:0|ae.value?.min_amount}))),{handleSubmit:ce,isSubmitting:pe,values:ya}=H({validationSchema:ne,initialValues:de}),va=i({inputs:[],textareas:[],files:[],previews:[]}),ba=async(e,a="custom")=>{const t=new FormData;t.append("files",e),t.append("type",a);const l=await E("/api/upload",{method:"POST",body:t},"$VHxCjYM3sm");return l&&""!==l.data.value?l.data.value[0]:""};y(va.value.files,(async e=>{for(let a=0;a<e.length;a++){const t=e[a];if(t&&"object"==typeof t&&t[0]instanceof File){const e=t[0],l=await ba(e);va.value.previews[a]=l}}}));const xa=p((()=>{const e=[];return ae.value?.custom_fields?.forEach(((a,t)=>{let l;"input"===a.type&&(l=va.value.inputs[t]),"textarea"===a.type&&(l=va.value.textareas[t]),"file upload"===a.type&&(l=va.value.previews[t]),e.push({type:a.type,title:a.title,value:l})})),e})),ha=i({name:void 0,number:void 0,expiryYear:void 0,expiryMonth:void 0,cvc:void 0}),ga=i(!1),wa=v(),_a=ce((async e=>{if(ae.value&&K.value&&A.value?.uuid&&Z.params.uuid){if(ae.value?.min_amount>e.amount)return n.warning(`Minimum deposit amount is ${q(ae.value.min_amount,K.value.currency)}`);if(ae.value?.max_amount<e.amount)return n.warning(`Maximum deposit amount is ${q(ae.value?.max_amount,K.value.currency)}`);if(ae.value?.custom_fields?.length>0){for(let e=0;e<ae.value?.custom_fields?.length;e++){const a=ae.value?.custom_fields[e];if(a.required){if("input"===a.type&&!va.value.inputs[e])return n.warning(`Please fill in the ${a.title} field`);if("textarea"===a.type&&!va.value.textareas[e])return n.warning(`Please fill in the ${a.title} field`);if("file upload"===a.type&&!va.value.files[e])return n.warning(`Please fill in the ${a.title} field`)}}try{const a=await Y(Z.params.uuid,ae.value?.id,e.amount,ue.value,xa.value);n.response(a),"success"===a.status&&wa.push(u.flutter?"/user/flutter/wallet/fiat":"/user/wallets/fiat")}catch(a){n.danger(a)}}}})),ka=async()=>{if(ae.value&&K.value&&A.value?.uuid&&Z.params.uuid){if(ae.value?.min_amount>le.value)return n.warning(`Minimum deposit amount is ${q(ae.value.min_amount,K.value.currency)}`);if(ae.value?.max_amount<le.value)return n.warning(`Maximum deposit amount is ${q(ae.value?.max_amount,K.value.currency)}`);if("stripe"===ae.value?.alias){const a=await useClientStripe();try{const e=await $fetch("/api/ipn/stripe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:100*le.value,currency:K.value?.currency.toLowerCase(),taxAmount:100*ie.value,flutter:u.flutter})}),t=await a.redirectToCheckout({sessionId:e.id});t.error&&n.danger(t)}catch(e){n.danger(e)}}else if("paypal"===ae.value?.alias)try{const e=await $fetch("/api/ipn/paypal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:le.value,currency:K.value?.currency.toLowerCase(),taxAmount:ie.value,flutter:u.flutter})});window.location.href=e.redirect}catch(e){n.danger(e)}}};return(e,i)=>{const u=j,o=N,n=V,d=S,c=T,m=z,p=me,f=F,y=U,v=D,A=O,B=I,E=M;return a(),t("div",null,[l("form",ye,[r(m,{class:w(["col-span-1",g(ae)?.alias?"lg:col-span-8":"lg:col-span-12"])},{default:b((()=>[l("div",ve,[l("div",null,[r(u,{as:"h3",size:"sm",weight:"medium"},{default:b((()=>[x(s(e.$t("Payment method")),1)])),_:1}),r(o,{size:"xs",class:"text-muted-400"},{default:b((()=>[x(s(e.$t("Select a payment method")),1)])),_:1})]),l("div",be,[r(d,{onClick:i[0]||(i[0]=h((a=>e.$router.back()),["prevent"]))},{default:b((()=>[r(n,{name:"lucide:arrow-left",class:"h-3 w-3"}),l("span",null,s(e.$t("Cancel")),1)])),_:1})])]),g(te).find((e=>"paypal"===e.alias))?.status?(a(),t("div",xe,[l("div",{role:"button",class:w(["flex cursor-pointer items-center px-5 py-5","paypal"===g(ae)?.alias?"bg-muted-50 dark:bg-muted-900/60":""]),onClick:i[1]||(i[1]=e=>ae.value=g(te).find((e=>"paypal"===e.alias)))},[l("div",{class:w(["dark:border-muted-800 h-4 w-4 rounded-full border-2 border-white ring-2 transition-colors","paypal"===g(ae)?.alias?"bg-primary-600 ring-primary-600":"ring-muted-400"])},null,2),he],2),"paypal"===g(ae)?.alias?(a(),t("div",ge,[l("div",we,[r(u,{as:"h3",size:"md",weight:"medium",class:"mb-2"},{default:b((()=>[x(s(e.$t("Deposit with"))+" PayPal ",1)])),_:1}),r(c,{size:"sm",class:"text-muted-400"},{default:b((()=>[x(s(e.$t('After clicking on "Deposit", you will be redirected to PayPal website to complete your purchase securely'))+". ",1)])),_:1})]),l("div",_e,[r(m,{shape:"curved",elevated:"",class:"mx-auto flex max-w-[280px] items-center justify-center px-5 py-16"},{default:b((()=>[r(n,{name:"logos:paypal",class:"h-12 w-12"})])),_:1})])])):_("",!0)])):_("",!0),l("div",ke,[g(te).find((e=>"stripe"===e.alias))?.status?(a(),t("div",{key:0,role:"button",class:w(["flex cursor-pointer items-center px-5 py-5","stripe"===g(ae)?.alias?"bg-muted-50 dark:bg-muted-900/60":""]),onClick:i[2]||(i[2]=e=>ae.value=g(te).find((e=>"stripe"===e.alias)))},[l("div",{class:w(["dark:border-muted-800 h-4 w-4 rounded-full border-2 border-white ring-2","stripe"===g(ae)?.alias?"bg-primary-600 ring-primary-600":"ring-muted-400"])},null,2),l("label",Pe,s(e.$t("Credit Card")),1)],2)):_("",!0),"stripe"===g(ae)?.alias?(a(),t("div",$e,[l("div",Ce,[r(u,{as:"h3",size:"md",weight:"medium",class:"mb-2"},{default:b((()=>[x(s(e.$t("Deposit with MasterCard")),1)])),_:1}),r(c,{size:"sm",class:"text-muted-400"},{default:b((()=>[x(s(e.$t('After clicking on "Deposit", you will be redirected to Stripe website to complete your purchase securely'))+". ",1)])),_:1})]),l("div",je,[r(p,{name:g(ha).name,number:g(ha).number,"expiry-month":g(ha).expiryMonth,"expiry-year":g(ha).expiryYear,cvc:g(ha).cvc},null,8,["name","number","expiry-month","expiry-year","cvc"])])])):_("",!0)]),g(Q).methods.length>0?(a(!0),t(k,{key:1},P(g(Q).methods,((i,o)=>(a(),t("div",{key:o,class:"border-muted-200 dark:border-muted-700 border-t"},[l("div",{role:"button",class:w(["flex cursor-pointer items-center px-5 py-5",g(ae)===i?"bg-muted-50 dark:bg-muted-900/60":""]),onClick:e=>ae.value=i},[l("div",{class:w(["dark:border-muted-800 h-4 w-4 rounded-full border-2 border-white ring-2",g(ae)===i?"bg-primary-600 ring-primary-600":"ring-muted-400"])},null,2),l("label",Ve,s(i.title),1)],10,Ne),g(ae)===i?(a(),t("div",Te,[l("div",ze,[r(u,{as:"h3",size:"md",weight:"medium",class:"mb-2"},{default:b((()=>[x(s(e.$t("Deposit with"))+" "+s(i.title),1)])),_:2},1024),r(c,{size:"sm",class:"text-muted-400"},{default:b((()=>[x(s(e.$t('After clicking on "Deposit", your deposit will be sent to our team for verification. You will receive an email notification once your deposit has been approved'))+". ",1)])),_:1}),l("ul",De,[l("li",null,s(e.$t("Minimum Deposit"))+": "+s(("formatPrice"in e?e.formatPrice:g(q))(g(ae)?.min_amount,g(K)?.currency)),1),l("li",null,s(e.$t("Maximum Deposit"))+": "+s(("formatPrice"in e?e.formatPrice:g(q))(g(ae)?.max_amount,g(K)?.currency)),1)])]),l("div",Me,[l("img",{src:i.image,height:"180"},null,8,Se)])])):_("",!0)])))),128)):_("",!0)])),_:1},8,["class"]),g(ae)?.alias?(a(),$(m,{key:0,class:"pb-6 col-span-1 lg:col-span-4"},{default:b((()=>[l("div",Ae,[l("div",Fe,[r(f,{modelValue:g(le),"onUpdate:modelValue":i[3]||(i[3]=e=>C(le)?le.value=e:null),modelModifiers:{number:!0},type:"number",label:"Deposit Amount",placeholder:"Enter amount"},null,8,["modelValue"])]),"stripe"===g(ae)?.alias&&Number(g(ae)?.fixed_fee)>0?(a(),t("div",Ue,[r(u,{as:"h3",size:"sm",weight:"medium",lead:"none"},{default:b((()=>[x(s(e.$t("Flat Fee")),1)])),_:1}),l("div",Oe,[r(o,{size:"sm",class:"text-muted-800 dark:text-muted-100"},{default:b((()=>[l("span",Ie,s(("formatPrice"in e?e.formatPrice:g(q))(Number(g(ae)?.fixed_fee),g(K)?.currency)),1)])),_:1})])])):_("",!0),"stripe"===g(ae)?.alias&&Number(g(ae)?.percentage_fee)>0?(a(),t("div",Be,[r(u,{as:"h3",size:"sm",weight:"medium",lead:"none"},{default:b((()=>[x(s(e.$t("Percentage Fee")),1)])),_:1}),l("div",Ee,[r(o,{size:"sm",class:"text-muted-800 dark:text-muted-100"},{default:b((()=>[l("span",qe,s(Number(g(ae)?.percentage_fee))+"%",1)])),_:1})])])):_("",!0)]),l("div",Le,[l("div",Ye,[r(u,{as:"h3",size:"sm",weight:"medium",lead:"none"},{default:b((()=>[x(s(e.$t("To pay today")),1)])),_:1}),r(o,{size:"md",class:"text-muted-800 dark:text-muted-100"},{default:b((()=>[l("span",Re,s(("formatPrice"in e?e.formatPrice:g(q))(g(ue),g(K)?.currency)),1)])),_:1})]),Number(g(ae)?.percentage_fee)>0||Number(g(ae)?.fixed_fee)>0?(a(),$(o,{key:0,class:"text-muted-500 dark:text-muted-400 mt-2 text-xs"},{default:b((()=>[x(s(Number(g(ae)?.percentage_fee)>0?`Fees are calculated at a flat rate of ${Number(g(ae)?.percentage_fee)}%`:"")+" "+s(Number(g(ae)?.percentage_fee)>0&&Number(g(ae)?.fixed_fee)>0?`,plus a fixed fee of ${("formatPrice"in e?e.formatPrice:g(q))(Number(g(ae)?.fixed_fee),g(K)?.currency)}.`:Number(g(ae)?.fixed_fee)>0?`A fixed fee of ${("formatPrice"in e?e.formatPrice:g(q))(Number(g(ae)?.fixed_fee),g(K)?.currency)} will be applied.`:"")+" "+s(e.$t("This amount has been included in your total"))+". ",1)])),_:1})):_("",!0)]),l("div",Je,[r(y,{modelValue:g(ga),"onUpdate:modelValue":i[4]||(i[4]=e=>C(ga)?ga.value=e:null),color:"primary",shape:"full",label:"I agree to the Terms Of Service",classes:{label:"relative top-0.5 text-xs"}},null,8,["modelValue"])]),l("div",Ge,["paypal"===g(ae)?.alias?(a(),t("div",He,[r(fe)])):(a(),$(v,{key:1,color:"primary",class:"!h-12 w-full",onClick:ka,disabled:!g(ga)||g(pe),loading:g(pe)},{default:b((()=>[x(s(e.$t("Deposit")),1)])),_:1},8,["disabled","loading"]))])])),_:1})):(a(),t(k,{key:1},[g(ae)?(a(),$(m,{key:0,class:"col-span-1 lg:col-span-7 p-5"},{default:b((()=>{return[r(u,{as:"h3",size:"sm",weight:"medium",class:"mb-2"},{default:b((()=>[x(s(e.$t("Deposit Instructions")),1)])),_:1}),l("div",We,[r(o,{innerHTML:(i=g(ae)?.instructions,i?i.replace(/\n/g,"<br>"):"")},null,8,["innerHTML"]),(a(!0),t(k,null,P(g(ae)?.custom_fields,((e,s)=>(a(),t(k,{key:s},["input"===e.type?(a(),$(f,{key:0,modelValue:g(va).inputs[s],"onUpdate:modelValue":e=>g(va).inputs[s]=e,label:e.title,placeholder:e.title,type:e.type,required:e.required,classes:{input:"mt-2",label:"text-xs"}},null,8,["modelValue","onUpdate:modelValue","label","placeholder","type","required"])):"textarea"===e.type?(a(),$(A,{key:1,modelValue:g(va).textareas[s],"onUpdate:modelValue":e=>g(va).textareas[s]=e,label:e.title,placeholder:e.title,required:e.required,classes:{input:"mt-2",label:"text-xs"}},null,8,["modelValue","onUpdate:modelValue","label","placeholder","required"])):"file upload"===e.type?(a(),t(k,{key:2},[r(B,{modelValue:g(va).files[s],"onUpdate:modelValue":e=>g(va).files[s]=e,label:e.title,required:e.required,classes:{input:"mt-2",label:"text-xs"}},null,8,["modelValue","onUpdate:modelValue","label","required"]),g(va).previews[s]?(a(),t("div",Xe,[l("img",{src:g(va).previews[s],alt:"File preview",height:"180"},null,8,Ze)])):_("",!0)],64)):_("",!0)],64)))),128))])];var i})),_:1})):_("",!0),g(ae)?(a(),t("div",Ke,[r(m,{class:"pb-6"},{default:b((()=>[l("div",Qe,[l("div",ea,[l("label",aa,s(e.$t("Deposit amount")),1),r(g(W),{name:"amount"},{default:b((({field:e,errorMessage:a,handleChange:t,handleBlur:l})=>[r(f,{"model-value":e.value,error:a,disabled:g(pe),label:"Amount",type:"number",placeholder:"Enter amount","onUpdate:modelValue":t,onBlur:l},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])])),_:1})]),g(ae)?.fixed_fee>0?(a(),t("div",ta,[r(u,{as:"h3",size:"sm",weight:"medium",lead:"none"},{default:b((()=>[x(s(e.$t("Flat Fee")),1)])),_:1}),l("div",la,[r(o,{size:"sm",class:"text-muted-800 dark:text-muted-100"},{default:b((()=>[l("span",sa,s(("formatPrice"in e?e.formatPrice:g(q))(g(se),g(K)?.currency)),1)])),_:1})])])):_("",!0),g(ae)?.percentage_fee>0?(a(),t("div",ra,[r(u,{as:"h3",size:"sm",weight:"medium",lead:"none"},{default:b((()=>[x(s(e.$t("Percentage Fee")),1)])),_:1}),l("div",ia,[r(o,{size:"sm",class:"text-muted-800 dark:text-muted-100"},{default:b((()=>[l("span",ua,s(Number(g(ae)?.percentage_fee))+"%",1)])),_:1})])])):_("",!0)]),l("div",oa,[l("div",na,[r(u,{as:"h3",size:"sm",weight:"medium",lead:"none"},{default:b((()=>[x(s(e.$t("To pay today"))+" ("+s(g(K)?.currency)+") ",1)])),_:1}),r(o,{size:"md",class:"text-muted-800 dark:text-muted-100"},{default:b((()=>[l("span",da,s(("formatPrice"in e?e.formatPrice:g(q))(g(ue),g(K)?.currency)),1)])),_:1})]),g(ae)?.percentage_fee>0||g(ae)?.fixed_fee>0?(a(),$(o,{key:0,class:"text-muted-500 dark:text-muted-400 mt-2 text-xs"},{default:b((()=>[x(s(g(ae)?.percentage_fee>0?`Fees are calculated at a flat rate of ${g(ae)?.percentage_fee}%`:"")+" "+s(g(ae)?.percentage_fee>0&&g(ae)?.fixed_fee>0?`,plus a fixed fee of ${("formatPrice"in e?e.formatPrice:g(q))(g(ae)?.fixed_fee,g(K)?.currency)}.`:g(ae)?.fixed_fee>0?`A fixed fee of ${("formatPrice"in e?e.formatPrice:g(q))(g(ae)?.fixed_fee,g(K)?.currency)} will be applied.`:"")+" "+s(e.$t("This amount has been included in your total"))+". ",1)])),_:1})):_("",!0)]),l("div",ca,[r(y,{modelValue:g(ga),"onUpdate:modelValue":i[5]||(i[5]=e=>C(ga)?ga.value=e:null),color:"primary",shape:"full",label:"I agree to the Terms Of Service",classes:{label:"relative top-0.5 text-xs"}},null,8,["modelValue"])]),l("div",ma,[r(v,{color:"primary",class:"!h-12 w-full",onClick:g(_a),disabled:!g(ga)||g(pe),loading:g(pe)},{default:b((()=>[x(s(e.$t("Deposit")),1)])),_:1},8,["onClick","disabled","loading"])])])),_:1})])):_("",!0)],64))]),g(ae)||0!==g(Q).methods.length||0!==g(te).length?_("",!0):(a(),$(E,{key:0,title:"No Deposit Methods Available",subtitle:"Please contact support for more information"},{image:b((()=>[pa,fa])),_:1}))])}}});export{ya as _};
