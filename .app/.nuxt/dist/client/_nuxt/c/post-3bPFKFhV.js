import{d as s}from"../e/entry-8qgg5CL-.js";import{u as t}from"./useBlog-0Y19BpbN.js";const e=s({id:"post",state:()=>({posts:[],selectedPost:null,isLoading:!1,error:null}),getters:{getSelectedPost:s=>s.selectedPost,getPosts:s=>s.posts},actions:{async fetchPosts(s,e,o,a){const{getPosts:i}=t();this.isLoading=!0;try{const t=await i(s,e,o,a);this.posts=t.data.result}catch(r){this.error=r.message}this.isLoading=!1},async fetchPostById(s){const{getPost:e}=t();this.isLoading=!0;try{const t=await e(s);this.selectedPost=t.data.result}catch(o){this.error=o.message}this.isLoading=!1},async createNewPost(s){const{createPost:e}=t();try{const t=await e(s);this.posts.push(t.data.result)}catch(o){this.error=o.message}},async updateExistingPost(s,e){const{updatePost:o}=t();try{const t=await o(s,e),a=this.posts.findIndex((t=>t.slug===s));-1!==a&&(this.posts[a]=t.data.result)}catch(a){this.error=a.message}},async deletePostById(s){const{deletePost:e}=t();try{await e(s);this.posts=this.posts.filter((t=>t.id!==s))}catch(o){this.error=o.message}}}});export{e as u};
